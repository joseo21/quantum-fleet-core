{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref } from 'vue';\nimport SvgIcon from '@/components/icons/SvgIcon.vue';\nimport EmpresasTable from '@/components/EmpresasUi/EmpresasTable.vue';\nimport AgregarEmpresasModal from '@/components/empresas/AgregarEmpresasModal.vue';\nimport EditarEmpresasSidebar from '@/components/empresas/EditarEmpresasSidebar.vue';\n\n// Estado principal\n\nexport default {\n  __name: 'EmpresasView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const showAddModal = ref(false);\n    const showEditSidebar = ref(false);\n    const searchTerm = ref('');\n    const selectedIds = ref([]);\n    const rowsPerPageOptions = [5, 10, 20, 50];\n    const rowsPerPage = ref(5);\n    const currentPage = ref(1);\n\n    // Datos demo\n    const customers = ref([{\n      id: 1,\n      createdAt: '2025-07-30',\n      name: 'Demo Combustible',\n      rut: '76.145.230-9',\n      contact: 'Marcelo D칤az',\n      city: 'Santiago'\n    }, {\n      id: 2,\n      createdAt: '2025-07-23',\n      name: 'Industrial Glover S.P.A.',\n      rut: '77.239.684-2',\n      contact: 'Patricia Gonz치lez',\n      city: 'Lautaro'\n    }, {\n      id: 3,\n      createdAt: '2025-05-29',\n      name: 'Cuenta Demo',\n      rut: '76.003.412-5',\n      contact: 'Claudia Mu침oz',\n      city: 'Temuco'\n    }]);\n    const templates = ref([{\n      id: 1,\n      name: 'B치sico',\n      description: 'Acceso limitado a reportes y panel general.'\n    }, {\n      id: 2,\n      name: 'Profesional',\n      description: 'Incluye reportes y comentarios.'\n    }, {\n      id: 3,\n      name: 'Avanzado',\n      description: 'Incluye dashboards personalizados y reportes completos.'\n    }, {\n      id: 4,\n      name: 'Full',\n      description: 'Todas las funciones habilitadas.'\n    }]);\n\n    // 游댳 Editar\n    const editingCompany = ref({});\n\n    // 游댳 Copiar\n    const copiedId = ref(null);\n    const copyCustomerData = customer => {\n      const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`;\n      navigator.clipboard.writeText(data).then(() => {\n        copiedId.value = customer.id;\n        setTimeout(() => copiedId.value = null, 1000);\n      });\n    };\n\n    // 游댳 Eliminar\n    const deleteSelected = () => {\n      customers.value = customers.value.filter(c => !selectedIds.value.includes(c.id));\n      selectedIds.value = [];\n    };\n\n    // 游댳 Agregar\n    const addCompany = newCompany => {\n      const id = Date.now();\n      const createdAt = new Date().toISOString().slice(0, 10);\n      customers.value.push({\n        id,\n        createdAt,\n        ...newCompany\n      });\n      showAddModal.value = false;\n    };\n\n    // 游댳 Editar\n    const editCustomer = customer => {\n      editingCompany.value = {\n        ...customer\n      };\n      showEditSidebar.value = true;\n    };\n\n    // 游댳 Actualizar\n    const updateCompany = updated => {\n      const index = customers.value.findIndex(c => c.id === updated.id);\n      if (index !== -1) customers.value[index] = {\n        ...updated\n      };\n      showEditSidebar.value = false;\n    };\n    const __returned__ = {\n      showAddModal,\n      showEditSidebar,\n      searchTerm,\n      selectedIds,\n      rowsPerPageOptions,\n      rowsPerPage,\n      currentPage,\n      customers,\n      templates,\n      editingCompany,\n      copiedId,\n      copyCustomerData,\n      deleteSelected,\n      addCompany,\n      editCustomer,\n      updateCompany,\n      ref,\n      SvgIcon,\n      EmpresasTable,\n      AgregarEmpresasModal,\n      EditarEmpresasSidebar\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","SvgIcon","EmpresasTable","AgregarEmpresasModal","EditarEmpresasSidebar","showAddModal","showEditSidebar","searchTerm","selectedIds","rowsPerPageOptions","rowsPerPage","currentPage","customers","id","createdAt","name","rut","contact","city","templates","description","editingCompany","copiedId","copyCustomerData","customer","data","navigator","clipboard","writeText","then","value","setTimeout","deleteSelected","filter","c","includes","addCompany","newCompany","Date","now","toISOString","slice","push","editCustomer","updateCompany","updated","index","findIndex"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-4 w-full flex flex-col\">\n    <!-- 游댌 Barra de b칰squeda + Botones -->\n    <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\">\n      <div class=\"flex w-full sm:w-2/3 md:w-1/2\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" placeholder=\"Buscar empresa...\"\n            class=\"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\" />\n          <button v-if=\"searchTerm\" @click=\"searchTerm = ''\"\n            class=\"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\">\n            Limpiar\n          </button>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2\">\n        <button @click.prevent=\"showAddModal = true\"\n          class=\"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\">\n          <SvgIcon name=\"plus\" class=\"w-5 h-5\" />\n          <span>Agregar Empresa</span>\n        </button>\n\n        <transition name=\"fade-scale\">\n          <button v-if=\"selectedIds.length > 0\" @click=\"deleteSelected\"\n            class=\"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\">\n            <SvgIcon name=\"trash\" class=\"w-5 h-5\" />\n          </button>\n        </transition>\n      </div>\n    </div>\n\n    <!-- 游늶 Tabla -->\n    <EmpresasTable\n      :customers=\"customers\"\n      :searchTerm=\"searchTerm\"\n      :selectedIds=\"selectedIds\"\n      :rowsPerPageOptions=\"rowsPerPageOptions\"\n      v-model:rowsPerPage=\"rowsPerPage\"\n      v-model:currentPage=\"currentPage\"\n      @edit=\"editCustomer\"\n      @copy=\"copyCustomerData\"\n      @update:selectedIds=\"val => selectedIds = val\"\n    />\n\n    <!-- 游 Modal Agregar -->\n    <AgregarEmpresasModal\n      v-if=\"showAddModal\"\n      :templates=\"templates\"\n      @close=\"showAddModal = false\"\n      @add=\"addCompany\"\n    />\n\n    <!-- 游릮 Sidebar Edici칩n -->\n    <EditarEmpresasSidebar\n      v-if=\"showEditSidebar\"\n      :company=\"editingCompany\"\n      :templates=\"templates\"\n      @close=\"showEditSidebar = false\"\n      @update=\"updateCompany\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\nimport EmpresasTable from '@/components/EmpresasUi/EmpresasTable.vue'\nimport AgregarEmpresasModal from '@/components/empresas/AgregarEmpresasModal.vue'\nimport EditarEmpresasSidebar from '@/components/empresas/EditarEmpresasSidebar.vue'\n\n// Estado principal\nconst showAddModal = ref(false)\nconst showEditSidebar = ref(false)\nconst searchTerm = ref('')\nconst selectedIds = ref([])\nconst rowsPerPageOptions = [5, 10, 20, 50]\nconst rowsPerPage = ref(5)\nconst currentPage = ref(1)\n\n// Datos demo\nconst customers = ref([\n  { id: 1, createdAt: '2025-07-30', name: 'Demo Combustible', rut: '76.145.230-9', contact: 'Marcelo D칤az', city: 'Santiago' },\n  { id: 2, createdAt: '2025-07-23', name: 'Industrial Glover S.P.A.', rut: '77.239.684-2', contact: 'Patricia Gonz치lez', city: 'Lautaro' },\n  { id: 3, createdAt: '2025-05-29', name: 'Cuenta Demo', rut: '76.003.412-5', contact: 'Claudia Mu침oz', city: 'Temuco' }\n])\n\nconst templates = ref([\n  { id: 1, name: 'B치sico', description: 'Acceso limitado a reportes y panel general.' },\n  { id: 2, name: 'Profesional', description: 'Incluye reportes y comentarios.' },\n  { id: 3, name: 'Avanzado', description: 'Incluye dashboards personalizados y reportes completos.' },\n  { id: 4, name: 'Full', description: 'Todas las funciones habilitadas.' }\n])\n\n// 游댳 Editar\nconst editingCompany = ref({})\n\n// 游댳 Copiar\nconst copiedId = ref(null)\nconst copyCustomerData = (customer) => {\n  const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`\n  navigator.clipboard.writeText(data).then(() => {\n    copiedId.value = customer.id\n    setTimeout(() => copiedId.value = null, 1000)\n  })\n}\n\n// 游댳 Eliminar\nconst deleteSelected = () => {\n  customers.value = customers.value.filter(c => !selectedIds.value.includes(c.id))\n  selectedIds.value = []\n}\n\n// 游댳 Agregar\nconst addCompany = (newCompany) => {\n  const id = Date.now()\n  const createdAt = new Date().toISOString().slice(0, 10)\n  customers.value.push({ id, createdAt, ...newCompany })\n  showAddModal.value = false\n}\n\n// 游댳 Editar\nconst editCustomer = (customer) => {\n  editingCompany.value = { ...customer }\n  showEditSidebar.value = true\n}\n\n// 游댳 Actualizar\nconst updateCompany = (updated) => {\n  const index = customers.value.findIndex(c => c.id === updated.id)\n  if (index !== -1) customers.value[index] = { ...updated }\n  showEditSidebar.value = false\n}\n</script>\n\n<style scoped>\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: all 0.3s ease;\n}\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.8);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}