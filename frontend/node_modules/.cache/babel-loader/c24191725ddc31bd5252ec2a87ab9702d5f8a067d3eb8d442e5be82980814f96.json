{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport ModalAgregar from \"@/components/mantenciones/ModalAgregar.vue\";\nimport ModalVerMantenciones from \"@/components/mantenciones/ModalVerMantenciones.vue\";\nimport ModalEditar from \"@/components/mantenciones/ModalEditar.vue\";\nimport ModalEliminar from \"@/components/mantenciones/ModalEliminar.vue\";\nexport default {\n  name: \"MantencionesView\",\n  components: {\n    ModalAgregar,\n    ModalVerMantenciones,\n    ModalEditar,\n    ModalEliminar\n  },\n  data() {\n    return {\n      mantencionesPorPatente: {\n        \"ABCD-12\": [{\n          id: 1,\n          fecha: \"2025-10-10\",\n          tipo: \"Cambio de aceite\",\n          kilometraje: 15000,\n          costo: 45000,\n          observaciones: \"Sin observaciones\"\n        }]\n      },\n      showAddModal: false,\n      showVerModal: false,\n      showEditModal: false,\n      showDeleteModal: false,\n      selectedPatente: null,\n      mantencionSeleccionada: null\n    };\n  },\n  methods: {\n    // 游릭 AGREGAR\n    abrirAgregar() {\n      this.showAddModal = true;\n    },\n    cerrarAgregar() {\n      this.showAddModal = false;\n    },\n    guardarMantencion(nuevaMantencion) {\n      const patente = nuevaMantencion.patente;\n      if (!this.mantencionesPorPatente[patente]) {\n        this.mantencionesPorPatente[patente] = [];\n      }\n      this.mantencionesPorPatente[patente].push(nuevaMantencion);\n      this.cerrarAgregar();\n    },\n    // 游댯 VER\n    abrirVer(patente) {\n      this.selectedPatente = patente;\n      this.showVerModal = true;\n    },\n    cerrarVer() {\n      this.selectedPatente = null;\n      this.showVerModal = false;\n    },\n    // 游리 EDITAR\n    abrirEditar(mantencion) {\n      this.mantencionSeleccionada = {\n        ...mantencion\n      };\n      this.showEditModal = true;\n    },\n    cerrarEditar() {\n      this.mantencionSeleccionada = null;\n      this.showEditModal = false;\n    },\n    guardarEdicion(mantencionEditada) {\n      const patente = this.selectedPatente;\n      const lista = this.mantencionesPorPatente[patente];\n      const index = lista.findIndex(m => m.id === mantencionEditada.id);\n      if (index !== -1) {\n        this.$set(lista, index, mantencionEditada);\n      }\n      this.cerrarEditar();\n    },\n    // 游댮 ELIMINAR\n    abrirEliminar(mantencion) {\n      this.mantencionSeleccionada = mantencion;\n      this.showDeleteModal = true;\n    },\n    cerrarEliminar() {\n      this.mantencionSeleccionada = null;\n      this.showDeleteModal = false;\n    },\n    confirmarEliminacion(mantencion) {\n      const patente = this.selectedPatente;\n      this.mantencionesPorPatente[patente] = this.mantencionesPorPatente[patente].filter(m => m.id !== mantencion.id);\n      this.cerrarEliminar();\n    }\n  }\n};","map":{"version":3,"names":["ModalAgregar","ModalVerMantenciones","ModalEditar","ModalEliminar","name","components","data","mantencionesPorPatente","id","fecha","tipo","kilometraje","costo","observaciones","showAddModal","showVerModal","showEditModal","showDeleteModal","selectedPatente","mantencionSeleccionada","methods","abrirAgregar","cerrarAgregar","guardarMantencion","nuevaMantencion","patente","push","abrirVer","cerrarVer","abrirEditar","mantencion","cerrarEditar","guardarEdicion","mantencionEditada","lista","index","findIndex","m","$set","abrirEliminar","cerrarEliminar","confirmarEliminacion","filter"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/MantencionesView.vue"],"sourcesContent":["<template>\n  <div class=\"p-4\">\n    <!-- Encabezado -->\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4\">\n      <h1 class=\"text-2xl font-bold text-[#102372] dark:text-[#ff6600]\">Gesti칩n de Mantenciones</h1>\n\n```\n  <div class=\"flex gap-2\">\n    <button\n      @click=\"abrirAgregar\"\n      class=\"bg-[#102372] text-white px-4 py-2 rounded hover:bg-[#1a3ba3] transition\">\n      + Nueva Mantenci칩n\n    </button>\n  </div>\n</div>\n\n<!-- Listado de patentes -->\n<div v-if=\"Object.keys(mantencionesPorPatente).length\" class=\"space-y-4\">\n  <div\n    v-for=\"(mantenciones, patente) in mantencionesPorPatente\"\n    :key=\"patente\"\n    class=\"border border-gray-300 dark:border-gray-700 rounded-lg p-4 shadow-sm bg-white dark:bg-gray-900\">\n\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\">\n      <h2 class=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n        游뚱 Veh칤culo: {{ patente }}\n      </h2>\n      <button\n        @click=\"abrirVer(patente)\"\n        class=\"text-sm bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-3 py-1 rounded hover:bg-gray-300 dark:hover:bg-gray-700 transition\">\n        Ver Mantenciones\n      </button>\n    </div>\n  </div>\n</div>\n\n<!-- Sin registros -->\n<div v-else class=\"text-center text-gray-500 mt-6\">\n  No hay mantenciones registradas a칰n.\n</div>\n\n<!-- Modales -->\n<ModalAgregar\n  v-if=\"showAddModal\"\n  @close=\"cerrarAgregar\"\n  @guardar=\"guardarMantencion\"\n/>\n\n<ModalVerMantenciones\n  v-if=\"showVerModal\"\n  :mantenciones=\"mantencionesPorPatente[selectedPatente] || []\"\n  :selectedPatente=\"selectedPatente\"\n  @close=\"cerrarVer\"\n  @editar=\"abrirEditar\"\n  @eliminar=\"abrirEliminar\"\n/>\n\n<ModalEditar\n  v-if=\"showEditModal\"\n  :mantencion=\"mantencionSeleccionada\"\n  @close=\"cerrarEditar\"\n  @guardar=\"guardarEdicion\"\n/>\n\n<ModalEliminar\n  v-if=\"showDeleteModal\"\n  :mantencion=\"mantencionSeleccionada\"\n  @close=\"cerrarEliminar\"\n  @confirmar=\"confirmarEliminacion\"\n/>\n```\n\n  </div>\n</template>\n\n<script>\nimport ModalAgregar from \"@/components/mantenciones/ModalAgregar.vue\";\nimport ModalVerMantenciones from \"@/components/mantenciones/ModalVerMantenciones.vue\";\nimport ModalEditar from \"@/components/mantenciones/ModalEditar.vue\";\nimport ModalEliminar from \"@/components/mantenciones/ModalEliminar.vue\";\n\nexport default {\n  name: \"MantencionesView\",\n  components: {\n    ModalAgregar,\n    ModalVerMantenciones,\n    ModalEditar,\n    ModalEliminar,\n  },\n  data() {\n    return {\n      mantencionesPorPatente: {\n        \"ABCD-12\": [\n          {\n            id: 1,\n            fecha: \"2025-10-10\",\n            tipo: \"Cambio de aceite\",\n            kilometraje: 15000,\n            costo: 45000,\n            observaciones: \"Sin observaciones\",\n          },\n        ],\n      },\n      showAddModal: false,\n      showVerModal: false,\n      showEditModal: false,\n      showDeleteModal: false,\n      selectedPatente: null,\n      mantencionSeleccionada: null,\n    };\n  },\n  methods: {\n    // 游릭 AGREGAR\n    abrirAgregar() {\n      this.showAddModal = true;\n    },\n    cerrarAgregar() {\n      this.showAddModal = false;\n    },\n    guardarMantencion(nuevaMantencion) {\n      const patente = nuevaMantencion.patente;\n      if (!this.mantencionesPorPatente[patente]) {\n        this.mantencionesPorPatente[patente] = [];\n      }\n      this.mantencionesPorPatente[patente].push(nuevaMantencion);\n      this.cerrarAgregar();\n    },\n\n    // 游댯 VER\n    abrirVer(patente) {\n      this.selectedPatente = patente;\n      this.showVerModal = true;\n    },\n    cerrarVer() {\n      this.selectedPatente = null;\n      this.showVerModal = false;\n    },\n\n    // 游리 EDITAR\n    abrirEditar(mantencion) {\n      this.mantencionSeleccionada = { ...mantencion };\n      this.showEditModal = true;\n    },\n    cerrarEditar() {\n      this.mantencionSeleccionada = null;\n      this.showEditModal = false;\n    },\n    guardarEdicion(mantencionEditada) {\n      const patente = this.selectedPatente;\n      const lista = this.mantencionesPorPatente[patente];\n      const index = lista.findIndex(m => m.id === mantencionEditada.id);\n      if (index !== -1) {\n        this.$set(lista, index, mantencionEditada);\n      }\n      this.cerrarEditar();\n    },\n\n    // 游댮 ELIMINAR\n    abrirEliminar(mantencion) {\n      this.mantencionSeleccionada = mantencion;\n      this.showDeleteModal = true;\n    },\n    cerrarEliminar() {\n      this.mantencionSeleccionada = null;\n      this.showDeleteModal = false;\n    },\n    confirmarEliminacion(mantencion) {\n      const patente = this.selectedPatente;\n      this.mantencionesPorPatente[patente] = this.mantencionesPorPatente[patente].filter(\n        m => m.id !== mantencion.id\n      );\n      this.cerrarEliminar();\n    },\n  },\n};\n</script>\n\n<style scoped>\nbutton {\n  transition: all 0.2s ease-in-out;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}