{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-2 sm:p-4 w-full flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\"\n};\nconst _hoisted_3 = {\n  class: \"flex w-full sm:w-2/3 md:w-1/2\"\n};\nconst _hoisted_4 = {\n  class: \"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\"\n};\nconst _hoisted_6 = {\n  class: \"flex gap-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SvgIcon = _resolveComponent(\"SvgIcon\");\n  const _component_EmpresasTable = _resolveComponent(\"EmpresasTable\");\n  const _component_AgregarEmpresasModal = _resolveComponent(\"AgregarEmpresasModal\");\n  const _component_EditarEmpresasSidebar = _resolveComponent(\"EditarEmpresasSidebar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" ðŸ” Barra de bÃºsqueda + Botones \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_SvgIcon, {\n    name: \"search\",\n    class: \"w-4 h-4 sm:w-5 sm:h-5\"\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchTerm = $event),\n    placeholder: \"Buscar empresa...\",\n    class: \"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchTerm]]), $data.searchTerm ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = $event => $data.searchTerm = ''),\n    class: \"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\"\n  }, \" Limpiar \")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = _withModifiers($event => $data.showAddModal = true, [\"prevent\"])),\n    class: \"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\"\n  }, [_createVNode(_component_SvgIcon, {\n    name: \"plus\",\n    class: \"w-5 h-5\"\n  }), _cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"Agregar Empresa\", -1 /* CACHED */))]), _createVNode(_Transition, {\n    name: \"fade-scale\"\n  }, {\n    default: _withCtx(() => [$data.selectedIds.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: _cache[3] || (_cache[3] = (...args) => $options.deleteSelected && $options.deleteSelected(...args)),\n      class: \"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\"\n    }, [_createVNode(_component_SvgIcon, {\n      name: \"trash\",\n      class: \"w-5 h-5\"\n    })])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" ðŸ“‹ Tabla \"), _createVNode(_component_EmpresasTable, {\n    customers: $props.customers,\n    searchTerm: $data.searchTerm,\n    selectedIds: $data.selectedIds,\n    rowsPerPageOptions: $data.rowsPerPageOptions,\n    rowsPerPage: $data.rowsPerPage,\n    \"onUpdate:rowsPerPage\": _cache[4] || (_cache[4] = $event => $data.rowsPerPage = $event),\n    currentPage: $data.currentPage,\n    \"onUpdate:currentPage\": _cache[5] || (_cache[5] = $event => $data.currentPage = $event),\n    onEdit: $options.editCustomer,\n    onCopy: $options.copyCustomerData,\n    \"onUpdate:selectedIds\": _cache[6] || (_cache[6] = val => $data.selectedIds = val)\n  }, null, 8 /* PROPS */, [\"customers\", \"searchTerm\", \"selectedIds\", \"rowsPerPageOptions\", \"rowsPerPage\", \"currentPage\", \"onEdit\", \"onCopy\"]), _createCommentVNode(\" ðŸŸ  Modal Agregar \"), $data.showAddModal ? (_openBlock(), _createBlock(_component_AgregarEmpresasModal, {\n    key: 0,\n    templates: $props.templates,\n    onClose: _cache[7] || (_cache[7] = $event => $data.showAddModal = false),\n    onAdd: $options.addCompany\n  }, null, 8 /* PROPS */, [\"templates\", \"onAdd\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" ðŸŸ£ Sidebar EdiciÃ³n \"), $data.showEditSidebar ? (_openBlock(), _createBlock(_component_EditarEmpresasSidebar, {\n    key: 1,\n    company: $data.editingCompany,\n    templates: $props.templates,\n    onClose: _cache[8] || (_cache[8] = $event => $data.showEditSidebar = false),\n    onUpdate: $options.updateCompany\n  }, null, 8 /* PROPS */, [\"company\", \"templates\", \"onUpdate\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_SvgIcon","name","$data","searchTerm","$event","placeholder","onClick","_cache","_hoisted_6","_withModifiers","showAddModal","_Transition","selectedIds","length","args","$options","deleteSelected","_component_EmpresasTable","customers","$props","rowsPerPageOptions","rowsPerPage","currentPage","onEdit","editCustomer","onCopy","copyCustomerData","val","_createBlock","_component_AgregarEmpresasModal","templates","onClose","onAdd","addCompany","showEditSidebar","_component_EditarEmpresasSidebar","company","editingCompany","onUpdate","updateCompany"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-4 w-full flex flex-col\">\n    <!-- ðŸ” Barra de bÃºsqueda + Botones -->\n    <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\">\n      <div class=\"flex w-full sm:w-2/3 md:w-1/2\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" placeholder=\"Buscar empresa...\"\n            class=\"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\" />\n          <button v-if=\"searchTerm\" @click=\"searchTerm = ''\"\n            class=\"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\">\n            Limpiar\n          </button>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2\">\n        <button @click.prevent=\"showAddModal = true\"\n          class=\"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\">\n          <SvgIcon name=\"plus\" class=\"w-5 h-5\" />\n          <span>Agregar Empresa</span>\n        </button>\n\n        <transition name=\"fade-scale\">\n          <button v-if=\"selectedIds.length > 0\" @click=\"deleteSelected\"\n            class=\"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\">\n            <SvgIcon name=\"trash\" class=\"w-5 h-5\" />\n          </button>\n        </transition>\n      </div>\n    </div>\n\n    <!-- ðŸ“‹ Tabla -->\n    <EmpresasTable\n      :customers=\"customers\"\n      :searchTerm=\"searchTerm\"\n      :selectedIds=\"selectedIds\"\n      :rowsPerPageOptions=\"rowsPerPageOptions\"\n      v-model:rowsPerPage=\"rowsPerPage\"\n      v-model:currentPage=\"currentPage\"\n      @edit=\"editCustomer\"\n      @copy=\"copyCustomerData\"\n      @update:selectedIds=\"val => selectedIds = val\"\n    />\n\n    <!-- ðŸŸ  Modal Agregar -->\n    <AgregarEmpresasModal\n      v-if=\"showAddModal\"\n      :templates=\"templates\"\n      @close=\"showAddModal = false\"\n      @add=\"addCompany\"\n    />\n\n    <!-- ðŸŸ£ Sidebar EdiciÃ³n -->\n    <EditarEmpresasSidebar\n      v-if=\"showEditSidebar\"\n      :company=\"editingCompany\"\n      :templates=\"templates\"\n      @close=\"showEditSidebar = false\"\n      @update=\"updateCompany\"\n    />\n  </div>\n</template>\n\n<script>\nimport { ref, watch, computed } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\nimport EmpresasTable from '@/components/EmpresasUi/EmpresasTable.vue'\nimport AgregarEmpresasModal from '@/components/EmpresasUi/AgregarEmpresasModal.vue'\nimport EditarEmpresasSidebar from '@/components/EmpresasUi/EditarEmpresasSidebar.vue'\n\nexport default {\n  components: { SvgIcon, EmpresasTable, AgregarEmpresasModal, EditarEmpresasSidebar },\n  props: {\n    customers: Array,\n    templates: Array\n  },\n  data() {\n    return {\n      showAddModal: false,\n      showEditSidebar: false,\n      searchTerm: '',\n      selectedIds: [],\n      rowsPerPageOptions: [5, 10, 20, 50],\n      rowsPerPage: 5,\n      currentPage: 1,\n      editingCompany: {},\n      copiedId: null\n    }\n  },\n  methods: {\n    addCompany(newCompany) {\n      const id = Date.now()\n      const createdAt = new Date().toISOString().slice(0, 10)\n      this.customers.push({ id, createdAt, ...newCompany })\n      this.showAddModal = false\n    },\n    editCustomer(customer) {\n      this.editingCompany = { ...customer }\n      this.showEditSidebar = true\n    },\n    updateCompany(updated) {\n      const index = this.customers.findIndex(c => c.id === updated.id)\n      if (index !== -1) this.customers[index] = { ...updated }\n      this.showEditSidebar = false\n    },\n    copyCustomerData(customer) {\n      const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`\n      navigator.clipboard.writeText(data).then(() => {\n        this.copiedId = customer.id\n        setTimeout(() => this.copiedId = null, 1000)\n      })\n    },\n    deleteSelected() {\n      this.customers = this.customers.filter(c => !this.selectedIds.includes(c.id))\n      this.selectedIds = []\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: all 0.3s ease;\n}\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.8);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}