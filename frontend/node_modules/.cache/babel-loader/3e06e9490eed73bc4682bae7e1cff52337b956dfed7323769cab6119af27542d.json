{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-2 sm:p-4 w-full flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\"\n};\nconst _hoisted_3 = {\n  class: \"flex w-full sm:w-2/3 md:w-1/2\"\n};\nconst _hoisted_4 = {\n  class: \"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\"\n};\nconst _hoisted_6 = {\n  class: \"flex gap-2\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n};\nconst _hoisted_8 = {\n  class: \"bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-lg relative flex flex-col w-full max-w-lg h-auto p-6 border border-gray-300 dark:border-gray-700 shadow-xl\"\n};\nconst _hoisted_9 = {\n  class: \"text-2xl font-bold mb-4 text-center text-[#102372] dark:text-[#ff6600]\"\n};\nconst _hoisted_10 = {\n  class: \"grid grid-cols-1 sm:grid-cols-2 gap-4 py-4\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  class: \"text-lg font-semibold mb-2\"\n};\nconst _hoisted_13 = {\n  class: \"text-gray-500 dark:text-gray-400 text-sm\"\n};\nconst _hoisted_14 = {\n  class: \"flex justify-between mt-6\"\n};\nconst _hoisted_15 = [\"disabled\"];\nconst _hoisted_16 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Barra de b칰squeda \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"search\",\n    class: \"w-4 h-4 sm:w-5 sm:h-5\"\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchTerm = $event),\n    placeholder: \"Buscar empresa...\",\n    class: \"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchTerm]]), $setup.searchTerm ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = $event => $setup.searchTerm = ''),\n    class: \"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\"\n  }, \" Limpiar \")) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Botones \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = _withModifiers($event => $setup.showAddModal = true, [\"prevent\"])),\n    class: \"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\"\n  }, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"plus\",\n    class: \"w-5 h-5\"\n  }), _cache[9] || (_cache[9] = _createElementVNode(\"span\", null, \"Agregar Empresa\", -1 /* CACHED */))]), _createCommentVNode(\" Eliminar seleccionados \"), _createVNode(_Transition, {\n    name: \"fade-scale\"\n  }, {\n    default: _withCtx(() => [$setup.selectedIds.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $setup.deleteSelected,\n      class: \"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\"\n    }, [_createVNode($setup[\"SvgIcon\"], {\n      name: \"trash\",\n      class: \"w-5 h-5\"\n    })])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" 游 Modal multi-paso \"), $setup.showAddModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [$setup.step === 2 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[3] || (_cache[3] = $event => $setup.step = 1),\n    class: \"absolute top-4 left-4 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition\",\n    title: \"Volver\"\n  }, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"arrow-left\",\n    class: \"w-6 h-6\"\n  })])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"h2\", _hoisted_9, _toDisplayString($setup.step === 1 ? 'Agregar Empresa' : 'Seleccionar Template'), 1 /* TEXT */), _cache[10] || (_cache[10] = _createElementVNode(\"span\", {\n    class: \"h-px bg-gray-300 dark:bg-gray-700 mb-4\"\n  }, null, -1 /* CACHED */)), _createCommentVNode(\" Paso 1 \"), $setup.step === 1 ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 1,\n    onSubmit: _withModifiers($setup.goToNextStep, [\"prevent\"]),\n    class: \"flex-1 flex flex-col gap-3 py-2 overflow-y-auto\"\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.newCompany.name = $event),\n    type: \"text\",\n    placeholder: \"Nombre de la empresa\",\n    class: \"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newCompany.name]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.newCompany.rut = $event),\n    type: \"text\",\n    placeholder: \"RUT de la empresa\",\n    class: \"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\",\n    required: \"\",\n    onInput: _cache[6] || (_cache[6] = $event => $setup.formatRut($setup.newCompany))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.newCompany.rut]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.newCompany.contact = $event),\n    type: \"text\",\n    placeholder: \"Contacto\",\n    class: \"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newCompany.contact]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.newCompany.city = $event),\n    type: \"text\",\n    placeholder: \"Ciudad de la empresa\",\n    class: \"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newCompany.city]])], 32 /* NEED_HYDRATION */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Paso 2 \"), _createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.templates, template => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: template.id,\n      onClick: $event => $setup.selectedTemplate = template.id,\n      class: _normalizeClass(['p-6 rounded-lg border cursor-pointer text-center transition', $setup.selectedTemplate === template.id ? 'border-[#ff6600] bg-orange-100 dark:bg-[#e65500]/30' : 'border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800'])\n    }, [_createElementVNode(\"h3\", _hoisted_12, _toDisplayString(template.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_13, _toDisplayString(template.description), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_11);\n  }), 128 /* KEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Botones \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    onClick: $setup.cancel,\n    class: \"bg-gray-500 hover:bg-gray-600 px-4 py-2 rounded w-[48%] text-white\"\n  }, \" Cancelar \"), $setup.step === 1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: $setup.goToNextStep,\n    disabled: !$setup.isStep1Valid,\n    class: _normalizeClass(['px-4 py-2 rounded w-[48%] text-white font-medium', $setup.isStep1Valid ? 'bg-[#102372] hover:bg-[#0c1a5b]' : 'bg-[#102372]/50 cursor-not-allowed'])\n  }, _toDisplayString($setup.modalButtonText), 11 /* TEXT, CLASS, PROPS */, _hoisted_15)) : (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: $setup.addCompany,\n    disabled: $setup.isModalButtonDisabled,\n    class: _normalizeClass(['px-4 py-2 rounded w-[48%] text-white font-medium', $setup.isModalButtonDisabled ? 'bg-[#ff6600]/50 cursor-not-allowed' : 'bg-[#ff6600] hover:bg-[#e65500]'])\n  }, _toDisplayString($setup.modalButtonText), 11 /* TEXT, CLASS, PROPS */, _hoisted_16))])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","$setup","name","searchTerm","$event","placeholder","onClick","_cache","_hoisted_6","_withModifiers","showAddModal","_Transition","selectedIds","length","deleteSelected","_hoisted_7","_hoisted_8","step","title","_hoisted_9","_toDisplayString","onSubmit","goToNextStep","newCompany","type","required","rut","onInput","formatRut","contact","city","_Fragment","key","_hoisted_10","_renderList","templates","template","id","selectedTemplate","_normalizeClass","_hoisted_12","_hoisted_13","description","_hoisted_14","cancel","disabled","isStep1Valid","modalButtonText","_hoisted_15","addCompany","isModalButtonDisabled","_hoisted_16"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-4 w-full flex flex-col\">\n    <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\">\n      <!-- Barra de b칰squeda -->\n      <div class=\"flex w-full sm:w-2/3 md:w-1/2\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" placeholder=\"Buscar empresa...\"\n            class=\"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\" />\n          <button v-if=\"searchTerm\" @click=\"searchTerm = ''\"\n            class=\"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\">\n            Limpiar\n          </button>\n        </div>\n      </div>\n\n      <!-- Botones -->\n      <div class=\"flex gap-2\">\n        <button @click.prevent=\"showAddModal = true\"\n          class=\"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\">\n          <SvgIcon name=\"plus\" class=\"w-5 h-5\" />\n          <span>Agregar Empresa</span>\n        </button>\n\n        <!-- Eliminar seleccionados -->\n        <transition name=\"fade-scale\">\n          <button v-if=\"selectedIds.length > 0\" @click=\"deleteSelected\"\n            class=\"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\">\n            <SvgIcon name=\"trash\" class=\"w-5 h-5\" />\n          </button>\n        </transition>\n      </div>\n    </div>\n\n\n\n    <!-- 游 Modal multi-paso -->\n    <div v-if=\"showAddModal\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div\n        class=\"bg-white dark:bg-gray-900 text-gray-900 dark:text-white rounded-lg relative flex flex-col w-full max-w-lg h-auto p-6 border border-gray-300 dark:border-gray-700 shadow-xl\">\n\n        <button v-if=\"step === 2\" @click=\"step = 1\"\n          class=\"absolute top-4 left-4 p-2 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition\" title=\"Volver\">\n          <SvgIcon name=\"arrow-left\" class=\"w-6 h-6\" />\n        </button>\n\n        <h2 class=\"text-2xl font-bold mb-4 text-center text-[#102372] dark:text-[#ff6600]\">\n          {{ step === 1 ? 'Agregar Empresa' : 'Seleccionar Template' }}\n        </h2>\n\n        <span class=\"h-px bg-gray-300 dark:bg-gray-700 mb-4\"></span>\n\n        <!-- Paso 1 -->\n        <form v-if=\"step === 1\" @submit.prevent=\"goToNextStep\" class=\"flex-1 flex flex-col gap-3 py-2 overflow-y-auto\">\n          <input v-model=\"newCompany.name\" type=\"text\" placeholder=\"Nombre de la empresa\"\n            class=\"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\"\n            required />\n\n          <input v-model=\"newCompany.rut\" type=\"text\" placeholder=\"RUT de la empresa\"\n            class=\"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\"\n            required @input=\"formatRut(newCompany)\" />\n\n          <input v-model=\"newCompany.contact\" type=\"text\" placeholder=\"Contacto\"\n            class=\"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\"\n            required />\n\n          <input v-model=\"newCompany.city\" type=\"text\" placeholder=\"Ciudad de la empresa\"\n            class=\"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none\"\n            required />\n        </form>\n\n        <!-- Paso 2 -->\n        <div v-else class=\"grid grid-cols-1 sm:grid-cols-2 gap-4 py-4\">\n          <div v-for=\"template in templates\" :key=\"template.id\" @click=\"selectedTemplate = template.id\" :class=\"[\n            'p-6 rounded-lg border cursor-pointer text-center transition',\n            selectedTemplate === template.id\n              ? 'border-[#ff6600] bg-orange-100 dark:bg-[#e65500]/30'\n              : 'border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800'\n          ]\">\n            <h3 class=\"text-lg font-semibold mb-2\">{{ template.name }}</h3>\n            <p class=\"text-gray-500 dark:text-gray-400 text-sm\">{{ template.description }}</p>\n          </div>\n        </div>\n\n        <!-- Botones -->\n        <div class=\"flex justify-between mt-6\">\n          <button @click=\"cancel\" class=\"bg-gray-500 hover:bg-gray-600 px-4 py-2 rounded w-[48%] text-white\">\n            Cancelar\n          </button>\n\n          <button v-if=\"step === 1\" @click=\"goToNextStep\" :disabled=\"!isStep1Valid\"\n            :class=\"['px-4 py-2 rounded w-[48%] text-white font-medium', isStep1Valid ? 'bg-[#102372] hover:bg-[#0c1a5b]' : 'bg-[#102372]/50 cursor-not-allowed']\">\n            {{ modalButtonText }}\n          </button>\n\n          <button v-else @click=\"addCompany\" :disabled=\"isModalButtonDisabled\"\n            :class=\"['px-4 py-2 rounded w-[48%] text-white font-medium', isModalButtonDisabled ? 'bg-[#ff6600]/50 cursor-not-allowed' : 'bg-[#ff6600] hover:bg-[#e65500]']\">\n            {{ modalButtonText }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\n\n// Constante para plantilla por defecto\nconst DEFAULT_TEMPLATE_ID = 1\n\n// Datos iniciales\nconst customers = ref([\n  { id: 1, createdAt: '2025-07-30', name: 'Demo Combustible', rut: '76.145.230-9', contact: 'Marcelo D칤az', city: 'Santiago' },\n  { id: 2, createdAt: '2025-07-23', name: 'Industrial Glover S.P.A.', rut: '77.239.684-2', contact: 'Patricia Gonz치lez', city: 'Lautaro' },\n  { id: 3, createdAt: '2025-05-29', name: 'Cuenta Demo', rut: '76.003.412-5', contact: 'Claudia Mu침oz', city: 'Temuco' },\n  { id: 4, createdAt: '2025-05-19', name: 'Constructora Rucol Limitada', rut: '76.918.527-1', contact: 'Rodrigo Herrera', city: 'Temuco' },\n  { id: 5, createdAt: '2025-05-19', name: 'Armory Sustentable', rut: '77.562.981-3', contact: 'Andrea Castillo', city: 'Temuco' },\n  { id: 6, createdAt: '2025-05-19', name: 'Transportes Betancourt', rut: '76.421.875-6', contact: 'Carlos Fuentes', city: 'Temuco' },\n  { id: 7, createdAt: '2025-05-19', name: '츼ridos Macoga SPA', rut: '77.158.443-0', contact: 'Natalia Vega', city: 'Temuco' },\n  { id: 8, createdAt: '2025-05-19', name: 'Servicios Mar칤timos Plast Marine Limitada', rut: '76.998.224-9', contact: 'Ignacio Contreras', city: 'Puerto Montt' },\n  { id: 9, createdAt: '2025-05-19', name: 'Constructora Stange Hermanos Ltda', rut: '77.304.652-2', contact: 'Francisca Rojas', city: 'Temuco' },\n  { id: 10, createdAt: '2025-05-16', name: 'Safco', rut: '76.842.913-8', contact: 'Germ치n Paredes', city: 'Temuco' }\n])\n\nconst searchTerm = ref('')\nconst selectedIds = ref([])\nconst selectAll = ref(false)\nconst rowsPerPageOptions = [5, 10, 20, 50]\nconst rowsPerPage = ref(5)\nconst currentPage = ref(1)\nconst showAddModal = ref(false)\nconst step = ref(1)\nconst selectedTemplate = ref(null)\nconst showEditSidebar = ref(false)\nconst editingCompany = ref({ id: null, name: '', rut: '', contact: '', city: '', templateId: DEFAULT_TEMPLATE_ID })\nconst newCompany = ref({ name: '', rut: '', contact: '', city: '' })\nconst copiedId = ref(null)\n\n// Plantillas\nconst templates = ref([\n  { id: 1, name: 'B치sico', description: 'Acceso limitado a reportes y panel general.' },\n  { id: 2, name: 'Profesional', description: 'Incluye reportes y comentarios.' },\n  { id: 3, name: 'Avanzado', description: 'Incluye dashboards personalizados y reportes completos.' },\n  { id: 4, name: 'Full', description: 'Todas las funciones habilitadas.' }\n])\n\n// Validaci칩n RUT chileno (formato xx.xxx.xxx-x)\nconst isValidRut = (rut) => /^(\\d{1,2}\\.\\d{3}\\.\\d{3}-[\\dkK])$/.test(rut)\n\n// Computed: filtrado y paginaci칩n\nconst filteredCustomers = computed(() => {\n  if (!searchTerm.value) return customers.value\n  const term = searchTerm.value.toLowerCase()\n  return customers.value.filter(c =>\n    c.name.toLowerCase().includes(term) ||\n    c.rut.toLowerCase().includes(term) ||\n    c.contact.toLowerCase().includes(term) ||\n    c.createdAt.toLowerCase().includes(term)\n  )\n})\n\n// Formateo autom치tico RUT mientras se escribe\nconst formatRut = (company) => {\n  let rut = company.rut.replace(/[^0-9kK]/g, '')\n  if (rut.length > 9) rut = rut.slice(0, 9)\n\n  if (rut.length > 1) {\n    const body = rut.slice(0, -1)\n    const dv = rut.slice(-1)\n    const reversed = body.split('').reverse()\n    const withDots = []\n    reversed.forEach((char, i) => { if (i > 0 && i % 3 === 0) withDots.push('.'); withDots.push(char) })\n    company.rut = withDots.reverse().join('') + '-' + dv\n  } else {\n    company.rut = rut\n  }\n}\n\n// Validaci칩n paso 1: todos los campos requeridos + RUT v치lido\nconst isStep1Valid = computed(() => {\n  const { name, rut, contact, city } = newCompany.value\n  return name.trim() && rut.trim() && contact.trim() && city.trim() && isValidRut(rut)\n})\n\n// Paginar clientes\nconst paginatedCustomers = computed(() => {\n  const start = (currentPage.value - 1) * rowsPerPage.value\n  return filteredCustomers.value.slice(start, start + rowsPerPage.value)\n})\n\nconst totalPages = computed(() => Math.ceil(filteredCustomers.value.length / rowsPerPage.value))\n\n// Select all toggle\nconst toggleSelectAll = () => selectAll.value\n  ? selectedIds.value = paginatedCustomers.value.map(c => c.id)\n  : selectedIds.value = []\n\n// Paginaci칩n\nconst nextPage = () => { if (currentPage.value < totalPages.value) currentPage.value++ }\nconst previousPage = () => { if (currentPage.value > 1) currentPage.value-- }\n\n// Modal multi-paso\nconst goToNextStep = () => {\n  if (isStep1Valid.value) step.value = 2\n  else alert('Completa todos los campos correctamente antes de continuar.')\n}\n\n// Cancelar modal\nconst cancel = () => {\n  showAddModal.value = false\n  step.value = 1\n  selectedTemplate.value = null\n  newCompany.value = { name: '', rut: '', contact: '', city: '' }\n}\n\n// Agregar empresa con ID 칰nico y validaci칩n RUT\nconst addCompany = () => {\n  if (!selectedTemplate.value) return\n  if (!isValidRut(newCompany.value.rut)) {\n    alert('RUT inv치lido. Formato esperado: xx.xxx.xxx-x')\n    return\n  }\n  const id = Date.now()\n  const createdAt = new Date().toISOString().slice(0, 10)\n  customers.value.push({ id, createdAt, ...newCompany.value, templateId: selectedTemplate.value })\n  cancel()\n}\n\n// Eliminar seleccionados\nconst deleteSelected = () => {\n  customers.value = customers.value.filter(c => !selectedIds.value.includes(c.id))\n  selectedIds.value = []\n}\n\n// Copiar datos con tooltip reutilizable\nconst copyCustomerData = (customer) => {\n  const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`\n  navigator.clipboard.writeText(data).then(() => {\n    copiedId.value = customer.id\n    setTimeout(() => copiedId.value = null, 1000)\n  })\n}\n\n// Editar empresa\nconst editCustomer = (customer) => {\n  editingCompany.value = { ...customer }\n  if (!editingCompany.value.templateId) editingCompany.value.templateId = DEFAULT_TEMPLATE_ID\n  showEditSidebar.value = true\n}\n\n// Guardar cambios\nconst updateCompany = () => {\n  if (!isValidRut(editingCompany.value.rut)) {\n    alert('RUT inv치lido. Formato esperado: xx.xxx.xxx-x')\n    return\n  }\n  const index = customers.value.findIndex(c => c.id === editingCompany.value.id)\n  if (index !== -1) customers.value[index] = { ...editingCompany.value }\n  showEditSidebar.value = false\n}\n\n// Computed para texto din치mico de botones en modal\nconst modalButtonText = computed(() => step.value === 1 ? 'Siguiente' : 'Crear Empresa')\nconst isModalButtonDisabled = computed(() => step.value === 2 && !selectedTemplate.value)\n\n// Reset selectAll al cambiar p치gina\nwatch(paginatedCustomers, () => selectAll.value = false)\n</script>\n\n\n\n<style scoped>\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: all 0.3s ease;\n}\n\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.8);\n}\n\n.fade-scale-enter-to,\n.fade-scale-leave-from {\n  opacity: 1;\n  transform: scale(1);\n}\n\n\n.slide-fade-enter-active {\n  transition: transform 0.3s ease, opacity 0.3s ease;\n}\n\n.slide-fade-leave-active {\n  transition: transform 0.3s ease, opacity 0.3s ease;\n}\n\n.slide-fade-enter-from,\n.slide-fade-leave-to {\n  transform: translateX(100%);\n  opacity: 0;\n}\n\n.slide-fade-enter-to,\n.slide-fade-leave-from {\n  transform: translateX(0);\n  opacity: 1;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}