{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Ь Tabla de veh铆culos \"), _createVNode($setup[\"MantencionesTable\"], {\n    mantenciones: $setup.vehiculos,\n    onVerMantenciones: $setup.verMantenciones,\n    onAgregarMantencion: $setup.abrirModalAgregar\n  }, null, 8 /* PROPS */, [\"mantenciones\"]), _createCommentVNode(\"  Modal Agregar \"), $setup.showAddModal ? (_openBlock(), _createBlock($setup[\"ModalAgregar\"], {\n    key: 0,\n    \"show-add-modal\": $setup.showAddModal,\n    \"selected-patente\": $setup.patenteSeleccionada,\n    mantenciones: $setup.mantenciones,\n    onClose: $setup.cerrarModalAgregar,\n    onSave: $setup.guardarMantencion\n  }, null, 8 /* PROPS */, [\"show-add-modal\", \"selected-patente\", \"mantenciones\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\"  Modal Ver Mantenciones \"), $setup.showViewModal ? (_openBlock(), _createBlock($setup[\"ModalVerMantenciones\"], {\n    key: 1,\n    \"show-view-modal\": $setup.showViewModal,\n    \"selected-patente\": $setup.patenteSeleccionada,\n    mantenciones: $setup.mantenciones,\n    vehiculos: $setup.vehiculos,\n    onClose: $setup.cerrarModalVer,\n    onEditar: $setup.editarMantencion,\n    onEliminar: $setup.eliminarMantencion\n  }, null, 8 /* PROPS */, [\"show-view-modal\", \"selected-patente\", \"mantenciones\", \"vehiculos\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","$setup","mantenciones","vehiculos","onVerMantenciones","verMantenciones","onAgregarMantencion","abrirModalAgregar","showAddModal","_createBlock","patenteSeleccionada","onClose","cerrarModalAgregar","onSave","guardarMantencion","showViewModal","cerrarModalVer","onEditar","editarMantencion","onEliminar","eliminarMantencion"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/MantencionesView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2\">\n    <!-- Ь Tabla de veh铆culos -->\n    <MantencionesTable \n      :mantenciones=\"vehiculos\" \n      @ver-mantenciones=\"verMantenciones\"\n      @agregar-mantencion=\"abrirModalAgregar\" \n    />\n\n    <!--  Modal Agregar -->\n    <ModalAgregar \n      v-if=\"showAddModal\" \n      :show-add-modal=\"showAddModal\" \n      :selected-patente=\"patenteSeleccionada\" \n      :mantenciones=\"mantenciones\" \n      @close=\"cerrarModalAgregar\" \n      @save=\"guardarMantencion\"\n    />\n\n    <!--  Modal Ver Mantenciones -->\n    <ModalVerMantenciones \n      v-if=\"showViewModal\" \n      :show-view-modal=\"showViewModal\" \n      :selected-patente=\"patenteSeleccionada\"\n      :mantenciones=\"mantenciones\"\n      :vehiculos=\"vehiculos\"\n      @close=\"cerrarModalVer\"\n      @editar=\"editarMantencion\"\n      @eliminar=\"eliminarMantencion\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport MantencionesTable from '@/components/MantencionesUi/MantencionesTable.vue'\nimport ModalAgregar from '@/components/MantencionesUi/ModalAgregar.vue'\nimport ModalVerMantenciones from '@/components/MantencionesUi/ModalVerMantenciones.vue'\n\nconst vehiculos = ref([\n  { patente: 'ABC123', odometro: 4500, estado: 'OK' },\n  { patente: 'XYZ789', odometro: 72000, estado: 'Requiere mantenci贸n' },\n  { patente: 'DEF456', odometro: 60000, estado: 'Pr贸xima mantenci贸n' },\n])\n\n// Mantenciones por todos los veh铆culos\nconst mantenciones = ref([])\n\n// Estado de modales\nconst showAddModal = ref(false)\nconst showViewModal = ref(false)\nconst patenteSeleccionada = ref('')\n\n// Abrir modal agregar\nfunction abrirModalAgregar(vehiculo) {\n  patenteSeleccionada.value = vehiculo.patente\n  showAddModal.value = true\n}\n\n// Guardar mantenci贸n desde modal agregar\nfunction guardarMantencion(data) {\n  // Validar duplicados\n  const existe = mantenciones.value.some(\n    m => m.patente === patenteSeleccionada.value && m.name === data.name\n  )\n  if(existe){\n    alert('Este veh铆culo ya tiene esta mantenci贸n.')\n    return\n  }\n\n  // Agregar fecha de creaci贸n\n  data.patente = patenteSeleccionada.value\n  data.fechaCreacion = new Date()\n  mantenciones.value.push({...data})\n}\n\n// Cerrar modal agregar\nfunction cerrarModalAgregar() {\n  showAddModal.value = false\n}\n\n// Abrir modal ver mantenciones\nfunction verMantenciones(vehiculo) {\n  patenteSeleccionada.value = vehiculo.patente\n  showViewModal.value = true\n}\n\n// Cerrar modal ver\nfunction cerrarModalVer() {\n  showViewModal.value = false\n}\n\n// Editar mantenci贸n\nfunction editarMantencion(data, index) {\n  // Abrir modal agregar con datos precargados\n  patenteSeleccionada.value = data.patente\n  showAddModal.value = true\n  // L贸gica para precargar datos en modal agregar (puede agregarse)\n}\n\n// Eliminar mantenci贸n\nfunction eliminarMantencion(index) {\n  if(confirm('驴Seguro que quieres eliminar esta mantenci贸n?')){\n    mantenciones.value.splice(index,1)\n  }\n}\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAK;;uBAAhBC,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BJC,mBAAA,2BAA8B,EAC9BC,YAAA,CAIEC,MAAA;IAHCC,YAAY,EAAED,MAAA,CAAAE,SAAS;IACvBC,iBAAgB,EAAEH,MAAA,CAAAI,eAAe;IACjCC,mBAAkB,EAAEL,MAAA,CAAAM;6CAGvBR,mBAAA,sBAAyB,EAEjBE,MAAA,CAAAO,YAAY,I,cADpBC,YAAA,CAOER,MAAA;;IALC,gBAAc,EAAEA,MAAA,CAAAO,YAAY;IAC5B,kBAAgB,EAAEP,MAAA,CAAAS,mBAAmB;IACrCR,YAAY,EAAED,MAAA,CAAAC,YAAY;IAC1BS,OAAK,EAAEV,MAAA,CAAAW,kBAAkB;IACzBC,MAAI,EAAEZ,MAAA,CAAAa;wHAGTf,mBAAA,+BAAkC,EAE1BE,MAAA,CAAAc,aAAa,I,cADrBN,YAAA,CASER,MAAA;;IAPC,iBAAe,EAAEA,MAAA,CAAAc,aAAa;IAC9B,kBAAgB,EAAEd,MAAA,CAAAS,mBAAmB;IACrCR,YAAY,EAAED,MAAA,CAAAC,YAAY;IAC1BC,SAAS,EAAEF,MAAA,CAAAE,SAAS;IACpBQ,OAAK,EAAEV,MAAA,CAAAe,cAAc;IACrBC,QAAM,EAAEhB,MAAA,CAAAiB,gBAAgB;IACxBC,UAAQ,EAAElB,MAAA,CAAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}