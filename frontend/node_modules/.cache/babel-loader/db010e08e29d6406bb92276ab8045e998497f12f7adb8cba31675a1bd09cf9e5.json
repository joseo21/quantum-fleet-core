{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, Transition as _Transition, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-2 sm:p-4 w-full flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\"\n};\nconst _hoisted_3 = {\n  class: \"flex w-full sm:w-2/3 md:w-1/2\"\n};\nconst _hoisted_4 = {\n  class: \"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\"\n};\nconst _hoisted_6 = {\n  class: \"flex gap-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 游댌 Barra de b칰squeda + Botones \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"search\",\n    class: \"w-4 h-4 sm:w-5 sm:h-5\"\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchTerm = $event),\n    placeholder: \"Buscar empresa...\",\n    class: \"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchTerm]]), $setup.searchTerm ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = $event => $setup.searchTerm = ''),\n    class: \"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\"\n  }, \" Limpiar \")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = _withModifiers($event => $setup.showAddModal = true, [\"prevent\"])),\n    class: \"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\"\n  }, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"plus\",\n    class: \"w-5 h-5\"\n  }), _cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"Agregar Empresa\", -1 /* CACHED */))]), _createVNode(_Transition, {\n    name: \"fade-scale\"\n  }, {\n    default: _withCtx(() => [$setup.selectedIds.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $setup.deleteSelected,\n      class: \"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\"\n    }, [_createVNode($setup[\"SvgIcon\"], {\n      name: \"trash\",\n      class: \"w-5 h-5\"\n    })])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" 游늶 Tabla \"), _createVNode($setup[\"EmpresasTable\"], {\n    customers: $setup.customers,\n    searchTerm: $setup.searchTerm,\n    selectedIds: $setup.selectedIds,\n    rowsPerPageOptions: $setup.rowsPerPageOptions,\n    rowsPerPage: $setup.rowsPerPage,\n    \"onUpdate:rowsPerPage\": _cache[3] || (_cache[3] = $event => $setup.rowsPerPage = $event),\n    currentPage: $setup.currentPage,\n    \"onUpdate:currentPage\": _cache[4] || (_cache[4] = $event => $setup.currentPage = $event),\n    onEdit: $setup.editCustomer,\n    onCopy: $setup.copyCustomerData,\n    \"onUpdate:selectedIds\": _cache[5] || (_cache[5] = val => $setup.selectedIds = val)\n  }, null, 8 /* PROPS */, [\"customers\", \"searchTerm\", \"selectedIds\", \"rowsPerPage\", \"currentPage\"]), _createCommentVNode(\" 游 Modal Agregar \"), $setup.showAddModal ? (_openBlock(), _createBlock($setup[\"AgregarEmpresasModal\"], {\n    key: 0,\n    templates: $setup.templates,\n    onClose: _cache[6] || (_cache[6] = $event => $setup.showAddModal = false),\n    onAdd: $setup.addCompany\n  }, null, 8 /* PROPS */, [\"templates\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 游릮 Sidebar Edici칩n \"), $setup.showEditSidebar ? (_openBlock(), _createBlock($setup[\"EditarEmpresasSidebar\"], {\n    key: 1,\n    company: $setup.editingCompany,\n    templates: $setup.templates,\n    onClose: _cache[7] || (_cache[7] = $event => $setup.showEditSidebar = false),\n    onUpdate: $setup.updateCompany\n  }, null, 8 /* PROPS */, [\"company\", \"templates\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","$setup","name","searchTerm","$event","placeholder","onClick","_cache","_hoisted_6","_withModifiers","showAddModal","_Transition","selectedIds","length","deleteSelected","customers","rowsPerPageOptions","rowsPerPage","currentPage","onEdit","editCustomer","onCopy","copyCustomerData","val","_createBlock","templates","onClose","onAdd","addCompany","showEditSidebar","company","editingCompany","onUpdate","updateCompany"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-4 w-full flex flex-col\">\n    <!-- 游댌 Barra de b칰squeda + Botones -->\n    <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\">\n      <div class=\"flex w-full sm:w-2/3 md:w-1/2\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" placeholder=\"Buscar empresa...\"\n            class=\"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\" />\n          <button v-if=\"searchTerm\" @click=\"searchTerm = ''\"\n            class=\"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\">\n            Limpiar\n          </button>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2\">\n        <button @click.prevent=\"showAddModal = true\"\n          class=\"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\">\n          <SvgIcon name=\"plus\" class=\"w-5 h-5\" />\n          <span>Agregar Empresa</span>\n        </button>\n\n        <transition name=\"fade-scale\">\n          <button v-if=\"selectedIds.length > 0\" @click=\"deleteSelected\"\n            class=\"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\">\n            <SvgIcon name=\"trash\" class=\"w-5 h-5\" />\n          </button>\n        </transition>\n      </div>\n    </div>\n\n    <!-- 游늶 Tabla -->\n    <EmpresasTable\n      :customers=\"customers\"\n      :searchTerm=\"searchTerm\"\n      :selectedIds=\"selectedIds\"\n      :rowsPerPageOptions=\"rowsPerPageOptions\"\n      v-model:rowsPerPage=\"rowsPerPage\"\n      v-model:currentPage=\"currentPage\"\n      @edit=\"editCustomer\"\n      @copy=\"copyCustomerData\"\n      @update:selectedIds=\"val => selectedIds = val\"\n    />\n\n    <!-- 游 Modal Agregar -->\n    <AgregarEmpresasModal\n      v-if=\"showAddModal\"\n      :templates=\"templates\"\n      @close=\"showAddModal = false\"\n      @add=\"addCompany\"\n    />\n\n    <!-- 游릮 Sidebar Edici칩n -->\n    <EditarEmpresasSidebar\n      v-if=\"showEditSidebar\"\n      :company=\"editingCompany\"\n      :templates=\"templates\"\n      @close=\"showEditSidebar = false\"\n      @update=\"updateCompany\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\nimport EmpresasTable from '@/components/empresas/EmpresasTable.vue'\nimport AgregarEmpresasModal from '@/components/empresas/AgregarEmpresasModal.vue'\nimport EditarEmpresasSidebar from '@/components/empresas/EditarEmpresasSidebar.vue'\n\n// Estado principal\nconst showAddModal = ref(false)\nconst showEditSidebar = ref(false)\nconst searchTerm = ref('')\nconst selectedIds = ref([])\nconst rowsPerPageOptions = [5, 10, 20, 50]\nconst rowsPerPage = ref(5)\nconst currentPage = ref(1)\n\n// Datos demo\nconst customers = ref([\n  { id: 1, createdAt: '2025-07-30', name: 'Demo Combustible', rut: '76.145.230-9', contact: 'Marcelo D칤az', city: 'Santiago' },\n  { id: 2, createdAt: '2025-07-23', name: 'Industrial Glover S.P.A.', rut: '77.239.684-2', contact: 'Patricia Gonz치lez', city: 'Lautaro' },\n  { id: 3, createdAt: '2025-05-29', name: 'Cuenta Demo', rut: '76.003.412-5', contact: 'Claudia Mu침oz', city: 'Temuco' }\n])\n\nconst templates = ref([\n  { id: 1, name: 'B치sico', description: 'Acceso limitado a reportes y panel general.' },\n  { id: 2, name: 'Profesional', description: 'Incluye reportes y comentarios.' },\n  { id: 3, name: 'Avanzado', description: 'Incluye dashboards personalizados y reportes completos.' },\n  { id: 4, name: 'Full', description: 'Todas las funciones habilitadas.' }\n])\n\n// 游댳 Editar\nconst editingCompany = ref({})\n\n// 游댳 Copiar\nconst copiedId = ref(null)\nconst copyCustomerData = (customer) => {\n  const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`\n  navigator.clipboard.writeText(data).then(() => {\n    copiedId.value = customer.id\n    setTimeout(() => copiedId.value = null, 1000)\n  })\n}\n\n// 游댳 Eliminar\nconst deleteSelected = () => {\n  customers.value = customers.value.filter(c => !selectedIds.value.includes(c.id))\n  selectedIds.value = []\n}\n\n// 游댳 Agregar\nconst addCompany = (newCompany) => {\n  const id = Date.now()\n  const createdAt = new Date().toISOString().slice(0, 10)\n  customers.value.push({ id, createdAt, ...newCompany })\n  showAddModal.value = false\n}\n\n// 游댳 Editar\nconst editCustomer = (customer) => {\n  editingCompany.value = { ...customer }\n  showEditSidebar.value = true\n}\n\n// 游댳 Actualizar\nconst updateCompany = (updated) => {\n  const index = customers.value.findIndex(c => c.id === updated.id)\n  if (index !== -1) customers.value[index] = { ...updated }\n  showEditSidebar.value = false\n}\n</script>\n\n<style scoped>\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: all 0.3s ease;\n}\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.8);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}