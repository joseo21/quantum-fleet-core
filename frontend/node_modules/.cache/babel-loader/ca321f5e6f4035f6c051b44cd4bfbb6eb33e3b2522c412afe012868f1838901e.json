{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-4\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4\"\n};\nconst _hoisted_3 = {\n  class: \"flex gap-2\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"space-y-4\"\n};\nconst _hoisted_5 = {\n  class: \"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\"\n};\nconst _hoisted_6 = {\n  class: \"text-lg font-semibold text-gray-900 dark:text-gray-100\"\n};\nconst _hoisted_7 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ModalAgregar = _resolveComponent(\"ModalAgregar\");\n  const _component_ModalVerMantenciones = _resolveComponent(\"ModalVerMantenciones\");\n  const _component_ModalEditar = _resolveComponent(\"ModalEditar\");\n  const _component_ModalEliminar = _resolveComponent(\"ModalEliminar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Encabezado \"), _createElementVNode(\"div\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", {\n    class: \"text-2xl font-bold text-[#102372] dark:text-[#ff6600]\"\n  }, \"Gesti贸n de Mantenciones\", -1 /* CACHED */)), _cache[2] || (_cache[2] = _createTextVNode(\" ``` \", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.abrirAgregar && $options.abrirAgregar(...args)),\n    class: \"bg-[#102372] text-white px-4 py-2 rounded hover:bg-[#1a3ba3] transition\"\n  }, \" + Nueva Mantenci贸n \")])]), _createCommentVNode(\" Listado de patentes \"), Object.keys($data.mantencionesPorPatente).length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.mantencionesPorPatente, (mantenciones, patente) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: patente,\n      class: \"border border-gray-300 dark:border-gray-700 rounded-lg p-4 shadow-sm bg-white dark:bg-gray-900\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h2\", _hoisted_6, \"  Veh铆culo: \" + _toDisplayString(patente), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.abrirVer(patente),\n      class: \"text-sm bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-3 py-1 rounded hover:bg-gray-300 dark:hover:bg-gray-700 transition\"\n    }, \" Ver Mantenciones \", 8 /* PROPS */, _hoisted_7)])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Sin registros \"), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"text-center text-gray-500 mt-6\"\n  }, \" No hay mantenciones registradas a煤n. \", -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Modales \"), $data.showAddModal ? (_openBlock(), _createBlock(_component_ModalAgregar, {\n    key: 2,\n    onClose: $options.cerrarAgregar,\n    onGuardar: $options.guardarMantencion\n  }, null, 8 /* PROPS */, [\"onClose\", \"onGuardar\"])) : _createCommentVNode(\"v-if\", true), $data.showVerModal ? (_openBlock(), _createBlock(_component_ModalVerMantenciones, {\n    key: 3,\n    mantenciones: $data.mantencionesPorPatente[$data.selectedPatente] || [],\n    selectedPatente: $data.selectedPatente,\n    onClose: $options.cerrarVer,\n    onEditar: $options.abrirEditar,\n    onEliminar: $options.abrirEliminar\n  }, null, 8 /* PROPS */, [\"mantenciones\", \"selectedPatente\", \"onClose\", \"onEditar\", \"onEliminar\"])) : _createCommentVNode(\"v-if\", true), $data.showEditModal ? (_openBlock(), _createBlock(_component_ModalEditar, {\n    key: 4,\n    mantencion: $data.mantencionSeleccionada,\n    onClose: $options.cerrarEditar,\n    onGuardar: $options.guardarEdicion\n  }, null, 8 /* PROPS */, [\"mantencion\", \"onClose\", \"onGuardar\"])) : _createCommentVNode(\"v-if\", true), $data.showDeleteModal ? (_openBlock(), _createBlock(_component_ModalEliminar, {\n    key: 5,\n    mantencion: $data.mantencionSeleccionada,\n    onClose: $options.cerrarEliminar,\n    onConfirmar: $options.confirmarEliminacion\n  }, null, 8 /* PROPS */, [\"mantencion\", \"onClose\", \"onConfirmar\"])) : _createCommentVNode(\"v-if\", true), _cache[4] || (_cache[4] = _createTextVNode(\" ``` \", -1 /* CACHED */))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","abrirAgregar","Object","keys","$data","mantencionesPorPatente","length","_hoisted_4","_Fragment","_renderList","mantenciones","patente","key","_hoisted_5","_hoisted_6","_toDisplayString","$event","abrirVer","_hoisted_7","showAddModal","_createBlock","_component_ModalAgregar","onClose","cerrarAgregar","onGuardar","guardarMantencion","showVerModal","_component_ModalVerMantenciones","selectedPatente","cerrarVer","onEditar","abrirEditar","onEliminar","abrirEliminar","showEditModal","_component_ModalEditar","mantencion","mantencionSeleccionada","cerrarEditar","guardarEdicion","showDeleteModal","_component_ModalEliminar","cerrarEliminar","onConfirmar","confirmarEliminacion"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/MantencionesView.vue"],"sourcesContent":["<template>\n  <div class=\"p-4\">\n    <!-- Encabezado -->\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4\">\n      <h1 class=\"text-2xl font-bold text-[#102372] dark:text-[#ff6600]\">Gesti贸n de Mantenciones</h1>\n\n```\n  <div class=\"flex gap-2\">\n    <button\n      @click=\"abrirAgregar\"\n      class=\"bg-[#102372] text-white px-4 py-2 rounded hover:bg-[#1a3ba3] transition\">\n      + Nueva Mantenci贸n\n    </button>\n  </div>\n</div>\n\n<!-- Listado de patentes -->\n<div v-if=\"Object.keys(mantencionesPorPatente).length\" class=\"space-y-4\">\n  <div\n    v-for=\"(mantenciones, patente) in mantencionesPorPatente\"\n    :key=\"patente\"\n    class=\"border border-gray-300 dark:border-gray-700 rounded-lg p-4 shadow-sm bg-white dark:bg-gray-900\">\n\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2\">\n      <h2 class=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\n         Veh铆culo: {{ patente }}\n      </h2>\n      <button\n        @click=\"abrirVer(patente)\"\n        class=\"text-sm bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100 px-3 py-1 rounded hover:bg-gray-300 dark:hover:bg-gray-700 transition\">\n        Ver Mantenciones\n      </button>\n    </div>\n  </div>\n</div>\n\n<!-- Sin registros -->\n<div v-else class=\"text-center text-gray-500 mt-6\">\n  No hay mantenciones registradas a煤n.\n</div>\n\n<!-- Modales -->\n<ModalAgregar\n  v-if=\"showAddModal\"\n  @close=\"cerrarAgregar\"\n  @guardar=\"guardarMantencion\"\n/>\n\n<ModalVerMantenciones\n  v-if=\"showVerModal\"\n  :mantenciones=\"mantencionesPorPatente[selectedPatente] || []\"\n  :selectedPatente=\"selectedPatente\"\n  @close=\"cerrarVer\"\n  @editar=\"abrirEditar\"\n  @eliminar=\"abrirEliminar\"\n/>\n\n<ModalEditar\n  v-if=\"showEditModal\"\n  :mantencion=\"mantencionSeleccionada\"\n  @close=\"cerrarEditar\"\n  @guardar=\"guardarEdicion\"\n/>\n\n<ModalEliminar\n  v-if=\"showDeleteModal\"\n  :mantencion=\"mantencionSeleccionada\"\n  @close=\"cerrarEliminar\"\n  @confirmar=\"confirmarEliminacion\"\n/>\n```\n\n  </div>\n</template>\n\n<script>\nimport ModalAgregar from \"@/components/mantenciones/ModalAgregar.vue\";\nimport ModalVerMantenciones from \"@/components/mantenciones/ModalVerMantenciones.vue\";\nimport ModalEditar from \"@/components/mantenciones/ModalEditar.vue\";\nimport ModalEliminar from \"@/components/mantenciones/ModalEliminar.vue\";\n\nexport default {\n  name: \"MantencionesView\",\n  components: {\n    ModalAgregar,\n    ModalVerMantenciones,\n    ModalEditar,\n    ModalEliminar,\n  },\n  data() {\n    return {\n      mantencionesPorPatente: {\n        \"ABCD-12\": [\n          {\n            id: 1,\n            fecha: \"2025-10-10\",\n            tipo: \"Cambio de aceite\",\n            kilometraje: 15000,\n            costo: 45000,\n            observaciones: \"Sin observaciones\",\n          },\n        ],\n      },\n      showAddModal: false,\n      showVerModal: false,\n      showEditModal: false,\n      showDeleteModal: false,\n      selectedPatente: null,\n      mantencionSeleccionada: null,\n    };\n  },\n  methods: {\n    //  AGREGAR\n    abrirAgregar() {\n      this.showAddModal = true;\n    },\n    cerrarAgregar() {\n      this.showAddModal = false;\n    },\n    guardarMantencion(nuevaMantencion) {\n      const patente = nuevaMantencion.patente;\n      if (!this.mantencionesPorPatente[patente]) {\n        this.mantencionesPorPatente[patente] = [];\n      }\n      this.mantencionesPorPatente[patente].push(nuevaMantencion);\n      this.cerrarAgregar();\n    },\n\n    //  VER\n    abrirVer(patente) {\n      this.selectedPatente = patente;\n      this.showVerModal = true;\n    },\n    cerrarVer() {\n      this.selectedPatente = null;\n      this.showVerModal = false;\n    },\n\n    //  EDITAR\n    abrirEditar(mantencion) {\n      this.mantencionSeleccionada = { ...mantencion };\n      this.showEditModal = true;\n    },\n    cerrarEditar() {\n      this.mantencionSeleccionada = null;\n      this.showEditModal = false;\n    },\n    guardarEdicion(mantencionEditada) {\n      const patente = this.selectedPatente;\n      const lista = this.mantencionesPorPatente[patente];\n      const index = lista.findIndex(m => m.id === mantencionEditada.id);\n      if (index !== -1) {\n        this.$set(lista, index, mantencionEditada);\n      }\n      this.cerrarEditar();\n    },\n\n    //  ELIMINAR\n    abrirEliminar(mantencion) {\n      this.mantencionSeleccionada = mantencion;\n      this.showDeleteModal = true;\n    },\n    cerrarEliminar() {\n      this.mantencionSeleccionada = null;\n      this.showDeleteModal = false;\n    },\n    confirmarEliminacion(mantencion) {\n      const patente = this.selectedPatente;\n      this.mantencionesPorPatente[patente] = this.mantencionesPorPatente[patente].filter(\n        m => m.id !== mantencion.id\n      );\n      this.cerrarEliminar();\n    },\n  },\n};\n</script>\n\n<style scoped>\nbutton {\n  transition: all 0.2s ease-in-out;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAK;;EAETA,KAAK,EAAC;AAAyE;;EAIjFA,KAAK,EAAC;AAAY;;;EAU8BA,KAAK,EAAC;;;EAMpDA,KAAK,EAAC;AAAoE;;EACzEA,KAAK,EAAC;AAAwD;;;;;;;uBAvBtEC,mBAAA,CAuEM,OAvENC,UAuEM,GAtEJC,mBAAA,gBAAmB,EACnBC,mBAAA,CAWE,OAXFC,UAWE,G,0BAVAD,mBAAA,CAA8F;IAA1FJ,KAAK,EAAC;EAAuD,GAAC,yBAAuB,qB,2CAAK,OAGlG,qBAAAI,mBAAA,CAMM,OANNE,UAMM,GALJF,mBAAA,CAIS;IAHNG,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;IACpBT,KAAK,EAAC;KAA0E,sBAElF,E,KAIJG,mBAAA,yBAA4B,EACjBS,MAAM,CAACC,IAAI,CAACC,KAAA,CAAAC,sBAAsB,EAAEC,MAAM,I,cAArDf,mBAAA,CAiBM,OAjBNgB,UAiBM,I,kBAhBJhB,mBAAA,CAeMiB,SAAA,QAAAC,WAAA,CAd8BL,KAAA,CAAAC,sBAAsB,GAAhDK,YAAY,EAAEC,OAAO;yBAD/BpB,mBAAA,CAeM;MAbHqB,GAAG,EAAED,OAAO;MACbrB,KAAK,EAAC;QAENI,mBAAA,CASM,OATNmB,UASM,GARJnB,mBAAA,CAEK,MAFLoB,UAEK,EAF8D,gBACpD,GAAAC,gBAAA,CAAGJ,OAAO,kBAEzBjB,mBAAA,CAIS;MAHNG,OAAK,EAAAmB,MAAA,IAAEhB,QAAA,CAAAiB,QAAQ,CAACN,OAAO;MACxBrB,KAAK,EAAC;OAA8I,oBAEtJ,iBAAA4B,UAAA,E;qDAMN3B,mBAAA,CAEMiB,SAAA;IAAAI,GAAA;EAAA,IAHNnB,mBAAA,mBAAsB,E,0BACtBC,mBAAA,CAEM;IAFMJ,KAAK,EAAC;EAAgC,GAAC,wCAEnD,oB,mDAEAG,mBAAA,aAAgB,EAERW,KAAA,CAAAe,YAAY,I,cADpBC,YAAA,CAIEC,uBAAA;;IAFCC,OAAK,EAAEtB,QAAA,CAAAuB,aAAa;IACpBC,SAAO,EAAExB,QAAA,CAAAyB;0FAIJrB,KAAA,CAAAsB,YAAY,I,cADpBN,YAAA,CAOEO,+BAAA;;IALCjB,YAAY,EAAEN,KAAA,CAAAC,sBAAsB,CAACD,KAAA,CAAAwB,eAAe;IACpDA,eAAe,EAAExB,KAAA,CAAAwB,eAAe;IAChCN,OAAK,EAAEtB,QAAA,CAAA6B,SAAS;IAChBC,QAAM,EAAE9B,QAAA,CAAA+B,WAAW;IACnBC,UAAQ,EAAEhC,QAAA,CAAAiC;0IAIL7B,KAAA,CAAA8B,aAAa,I,cADrBd,YAAA,CAKEe,sBAAA;;IAHCC,UAAU,EAAEhC,KAAA,CAAAiC,sBAAsB;IAClCf,OAAK,EAAEtB,QAAA,CAAAsC,YAAY;IACnBd,SAAO,EAAExB,QAAA,CAAAuC;wGAIJnC,KAAA,CAAAoC,eAAe,I,cADvBpB,YAAA,CAKEqB,wBAAA;;IAHCL,UAAU,EAAEhC,KAAA,CAAAiC,sBAAsB;IAClCf,OAAK,EAAEtB,QAAA,CAAA0C,cAAc;IACrBC,WAAS,EAAE3C,QAAA,CAAA4C;qJACZ,OAGA,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}