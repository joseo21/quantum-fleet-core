{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, Transition as _Transition, withCtx as _withCtx, vModelCheckbox as _vModelCheckbox, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-2 sm:p-2 w-full flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-gray-300 dark:border-gray-700 pb-2\"\n};\nconst _hoisted_3 = {\n  class: \"w-full sm:flex-1\"\n};\nconst _hoisted_4 = {\n  class: \"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\"\n};\nconst _hoisted_6 = {\n  class: \"flex w-full sm:w-auto gap-2 mt-2 sm:mt-0\"\n};\nconst _hoisted_7 = {\n  class: \"mt-4 flex-1 flex flex-col\"\n};\nconst _hoisted_8 = {\n  class: \"overflow-y-auto rounded-lg shadow flex-1 border border-gray-300 dark:border-gray-700\"\n};\nconst _hoisted_9 = {\n  class: \"min-w-full text-xs sm:text-sm md:text-base text-center border-collapse\"\n};\nconst _hoisted_10 = {\n  class: \"bg-[#102372] text-gray-100 sticky top-0 z-10\"\n};\nconst _hoisted_11 = {\n  class: \"py-3 px-4 w-1/12\"\n};\nconst _hoisted_12 = {\n  class: \"py-2 px-3\"\n};\nconst _hoisted_13 = [\"value\"];\nconst _hoisted_14 = {\n  class: \"py-2 px-3\"\n};\nconst _hoisted_15 = {\n  class: \"py-2 px-3\"\n};\nconst _hoisted_16 = {\n  class: \"py-2 px-3\"\n};\nconst _hoisted_17 = {\n  class: \"py-2 px-3\"\n};\nconst _hoisted_18 = {\n  class: \"py-2 px-3\"\n};\nconst _hoisted_19 = {\n  class: \"py-2 px-3 flex gap-2 justify-center\"\n};\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = [\"onClick\"];\nconst _hoisted_22 = {\n  key: 0\n};\nconst _hoisted_23 = {\n  class: \"flex flex-col sm:flex-row justify-between items-center mt-4 text-xs sm:text-sm text-gray-700 dark:text-gray-300 gap-2 bg-[#f3f3f3] dark:bg-gray-800 p-2 rounded-md shadow-sm\"\n};\nconst _hoisted_24 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_25 = [\"value\"];\nconst _hoisted_26 = {\n  class: \"flex items-center gap-1 sm:gap-2\"\n};\nconst _hoisted_27 = [\"disabled\"];\nconst _hoisted_28 = {\n  class: \"px-2\"\n};\nconst _hoisted_29 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" üîç Barra de b√∫squeda + bot√≥n \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"search\",\n    class: \"w-4 h-4 sm:w-5 sm:h-5\"\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchTerm = $event),\n    type: \"text\",\n    placeholder: \"Buscar empresa...\",\n    class: \"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchTerm]])])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = _withModifiers($event => $setup.showAddModal = true, [\"prevent\"])),\n    class: \"relative inline-flex items-center justify-center w-full sm:w-auto px-3 py-2 font-medium text-white bg-[#ff6600] hover:bg-[#e65500] rounded-lg transition\"\n  }, \" ‚ûï Agregar Empresa \"), _createVNode(_Transition, {\n    name: \"fade-scale\"\n  }, {\n    default: _withCtx(() => [$setup.selectedIds.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $setup.deleteSelected,\n      class: \"bg-red-600 hover:bg-red-700 text-white p-2 rounded flex items-center justify-center\",\n      title: \"Eliminar seleccionados\"\n    }, [_createVNode($setup[\"SvgIcon\"], {\n      name: \"trash\",\n      class: \"w-5 h-5\"\n    })])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })])]), _createCommentVNode(\" üìã Tabla \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"table\", _hoisted_9, [_createElementVNode(\"thead\", _hoisted_10, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.selectAll = $event),\n    onChange: $setup.toggleSelectAll\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelCheckbox, $setup.selectAll]])]), _cache[5] || (_cache[5] = _createElementVNode(\"th\", {\n    class: \"py-3 px-4\"\n  }, \"Fecha de Creaci√≥n\", -1 /* CACHED */)), _cache[6] || (_cache[6] = _createElementVNode(\"th\", {\n    class: \"py-3 px-4\"\n  }, \"Nombre\", -1 /* CACHED */)), _cache[7] || (_cache[7] = _createElementVNode(\"th\", {\n    class: \"py-3 px-4\"\n  }, \"Rut\", -1 /* CACHED */)), _cache[8] || (_cache[8] = _createElementVNode(\"th\", {\n    class: \"py-3 px-4\"\n  }, \"Contacto\", -1 /* CACHED */)), _cache[9] || (_cache[9] = _createElementVNode(\"th\", {\n    class: \"py-3 px-4\"\n  }, \"Ciudad\", -1 /* CACHED */)), _cache[10] || (_cache[10] = _createElementVNode(\"th\", {\n    class: \"py-3 px-4\"\n  }, \"Acciones\", -1 /* CACHED */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.paginatedCustomers, customer => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: customer.id,\n      class: \"hover:bg-gray-50 dark:hover:bg-gray-700 border-b dark:border-gray-600\"\n    }, [_createElementVNode(\"td\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.selectedIds = $event),\n      value: customer.id\n    }, null, 8 /* PROPS */, _hoisted_13), [[_vModelCheckbox, $setup.selectedIds]])]), _createElementVNode(\"td\", _hoisted_14, _toDisplayString(customer.createdAt), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_15, _toDisplayString(customer.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_16, _toDisplayString(customer.rut), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_17, _toDisplayString(customer.contact), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_18, _toDisplayString(customer.city), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_19, [_createCommentVNode(\" Editar \"), _createElementVNode(\"button\", {\n      onClick: $event => $setup.editCustomer(customer),\n      title: \"Editar\",\n      class: \"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md flex items-center gap-1\"\n    }, [_createVNode($setup[\"SvgIcon\"], {\n      name: \"pencil\",\n      class: \"w-4 h-4\"\n    })], 8 /* PROPS */, _hoisted_20), _createCommentVNode(\" Copiar \"), _createElementVNode(\"button\", {\n      onClick: $event => $setup.copyCustomerData(customer),\n      title: \"Copiar\",\n      class: \"px-2 py-1 bg-[#ff6600] hover:bg-[#e65500] text-white rounded flex items-center gap-1\"\n    }, [_createVNode($setup[\"SvgIcon\"], {\n      name: \"copy\",\n      class: \"w-5 h-5\"\n    })], 8 /* PROPS */, _hoisted_21)])]);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.paginatedCustomers.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_22, [...(_cache[11] || (_cache[11] = [_createElementVNode(\"td\", {\n    colspan: \"7\",\n    class: \"py-4 text-gray-500 dark:text-gray-400\"\n  }, \" No hay empresas registradas \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])])]), _createCommentVNode(\" üìë Paginaci√≥n \"), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"rowsPerPage\",\n    class: \"text-xs\"\n  }, \"Filas por p√°gina:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.rowsPerPage = $event),\n    class: \"border dark:border-gray-600 rounded px-2 py-1 text-xs sm:text-sm bg-white dark:bg-gray-700\"\n  }, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList($setup.rowsPerPageOptions, option => {\n    return _createElementVNode(\"option\", {\n      key: option,\n      value: option\n    }, _toDisplayString(option), 9 /* TEXT, PROPS */, _hoisted_25);\n  }), 64 /* STABLE_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.rowsPerPage]])]), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"button\", {\n    onClick: $setup.previousPage,\n    disabled: $setup.currentPage === 1,\n    class: \"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\"\n  }, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"chevron-left\",\n    class: \"w-4 h-4\"\n  })], 8 /* PROPS */, _hoisted_27), _createElementVNode(\"span\", _hoisted_28, \"P√°gina \" + _toDisplayString($setup.currentPage) + \" / \" + _toDisplayString($setup.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: $setup.nextPage,\n    disabled: $setup.currentPage === $setup.totalPages,\n    class: \"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\"\n  }, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"chevron-right\",\n    class: \"w-4 h-4\"\n  })], 8 /* PROPS */, _hoisted_29)])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","$setup","name","searchTerm","$event","type","placeholder","_hoisted_6","onClick","_cache","_withModifiers","showAddModal","_Transition","selectedIds","length","deleteSelected","title","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","selectAll","onChange","toggleSelectAll","_Fragment","_renderList","paginatedCustomers","customer","key","id","_hoisted_12","value","_hoisted_14","_toDisplayString","createdAt","_hoisted_15","_hoisted_16","rut","_hoisted_17","contact","_hoisted_18","city","_hoisted_19","editCustomer","copyCustomerData","_hoisted_22","colspan","_hoisted_23","_hoisted_24","for","rowsPerPage","rowsPerPageOptions","option","_hoisted_25","_hoisted_26","previousPage","disabled","currentPage","_hoisted_28","totalPages","nextPage"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-2 w-full flex flex-col\">\n    <!-- üîç Barra de b√∫squeda + bot√≥n -->\n    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-gray-300 dark:border-gray-700 pb-2\">\n      <div class=\"w-full sm:flex-1\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" type=\"text\" placeholder=\"Buscar empresa...\"\n            class=\"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\" />\n        </div>\n      </div>\n\n      <div class=\"flex w-full sm:w-auto gap-2 mt-2 sm:mt-0\">\n        <button @click.prevent=\"showAddModal = true\"\n          class=\"relative inline-flex items-center justify-center w-full sm:w-auto px-3 py-2 font-medium text-white bg-[#ff6600] hover:bg-[#e65500] rounded-lg transition\">\n          ‚ûï Agregar Empresa\n        </button>\n\n        <transition name=\"fade-scale\">\n          <button v-if=\"selectedIds.length > 0\" @click=\"deleteSelected\"\n            class=\"bg-red-600 hover:bg-red-700 text-white p-2 rounded flex items-center justify-center\"\n            title=\"Eliminar seleccionados\">\n            <SvgIcon name=\"trash\" class=\"w-5 h-5\" />\n          </button>\n        </transition>\n      </div>\n    </div>\n\n    <!-- üìã Tabla -->\n    <div class=\"mt-4 flex-1 flex flex-col\">\n      <div class=\"overflow-y-auto rounded-lg shadow flex-1 border border-gray-300 dark:border-gray-700\">\n        <table class=\"min-w-full text-xs sm:text-sm md:text-base text-center border-collapse\">\n          <thead class=\"bg-[#102372] text-gray-100 sticky top-0 z-10\">\n            <tr>\n              <th class=\"py-3 px-4 w-1/12\">\n                <input type=\"checkbox\" v-model=\"selectAll\" @change=\"toggleSelectAll\" />\n              </th>\n              <th class=\"py-3 px-4\">Fecha de Creaci√≥n</th>\n              <th class=\"py-3 px-4\">Nombre</th>\n              <th class=\"py-3 px-4\">Rut</th>\n              <th class=\"py-3 px-4\">Contacto</th>\n              <th class=\"py-3 px-4\">Ciudad</th>\n              <th class=\"py-3 px-4\">Acciones</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <tr v-for=\"customer in paginatedCustomers\" :key=\"customer.id\"\n              class=\"hover:bg-gray-50 dark:hover:bg-gray-700 border-b dark:border-gray-600\">\n              <td class=\"py-2 px-3\">\n                <input type=\"checkbox\" v-model=\"selectedIds\" :value=\"customer.id\" />\n              </td>\n              <td class=\"py-2 px-3\">{{ customer.createdAt }}</td>\n              <td class=\"py-2 px-3\">{{ customer.name }}</td>\n              <td class=\"py-2 px-3\">{{ customer.rut }}</td>\n              <td class=\"py-2 px-3\">{{ customer.contact }}</td>\n              <td class=\"py-2 px-3\">{{ customer.city }}</td>\n              <td class=\"py-2 px-3 flex gap-2 justify-center\">\n                <!-- Editar -->\n                <button @click=\"editCustomer(customer)\" title=\"Editar\"\n                  class=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md flex items-center gap-1\">\n                  <SvgIcon name=\"pencil\" class=\"w-4 h-4\" />\n                </button>\n\n                <!-- Copiar -->\n                <button @click=\"copyCustomerData(customer)\" title=\"Copiar\"\n                  class=\"px-2 py-1 bg-[#ff6600] hover:bg-[#e65500] text-white rounded flex items-center gap-1\">\n                  <SvgIcon name=\"copy\" class=\"w-5 h-5\" />\n                </button>\n              </td>\n            </tr>\n\n            <tr v-if=\"paginatedCustomers.length === 0\">\n              <td colspan=\"7\" class=\"py-4 text-gray-500 dark:text-gray-400\">\n                No hay empresas registradas\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- üìë Paginaci√≥n -->\n      <div\n        class=\"flex flex-col sm:flex-row justify-between items-center mt-4 text-xs sm:text-sm text-gray-700 dark:text-gray-300 gap-2 bg-[#f3f3f3] dark:bg-gray-800 p-2 rounded-md shadow-sm\">\n        <div class=\"flex items-center gap-2\">\n          <label for=\"rowsPerPage\" class=\"text-xs\">Filas por p√°gina:</label>\n          <select v-model=\"rowsPerPage\" class=\"border dark:border-gray-600 rounded px-2 py-1 text-xs sm:text-sm bg-white dark:bg-gray-700\">\n            <option v-for=\"option in rowsPerPageOptions\" :key=\"option\" :value=\"option\">{{ option }}</option>\n          </select>\n        </div>\n\n        <div class=\"flex items-center gap-1 sm:gap-2\">\n          <button @click=\"previousPage\" :disabled=\"currentPage === 1\"\n            class=\"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\">\n            <SvgIcon name=\"chevron-left\" class=\"w-4 h-4\" />\n          </button>\n\n          <span class=\"px-2\">P√°gina {{ currentPage }} / {{ totalPages }}</span>\n\n          <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\"\n            class=\"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\">\n            <SvgIcon name=\"chevron-right\" class=\"w-4 h-4\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\n\n// Constante para plantilla por defecto\nconst DEFAULT_TEMPLATE_ID = 1\n\n// Datos iniciales\nconst customers = ref([\n  { id: 1, createdAt: '2025-07-30', name: 'Demo Combustible', rut: '76.145.230-9', contact: 'Marcelo D√≠az', city: 'Santiago' },\n  { id: 2, createdAt: '2025-07-23', name: 'Industrial Glover S.P.A.', rut: '77.239.684-2', contact: 'Patricia Gonz√°lez', city: 'Lautaro' },\n  { id: 3, createdAt: '2025-05-29', name: 'Cuenta Demo', rut: '76.003.412-5', contact: 'Claudia Mu√±oz', city: 'Temuco' },\n  { id: 4, createdAt: '2025-05-19', name: 'Constructora Rucol Limitada', rut: '76.918.527-1', contact: 'Rodrigo Herrera', city: 'Temuco' },\n  { id: 5, createdAt: '2025-05-19', name: 'Armory Sustentable', rut: '77.562.981-3', contact: 'Andrea Castillo', city: 'Temuco' },\n  { id: 6, createdAt: '2025-05-19', name: 'Transportes Betancourt', rut: '76.421.875-6', contact: 'Carlos Fuentes', city: 'Temuco' },\n  { id: 7, createdAt: '2025-05-19', name: '√Åridos Macoga SPA', rut: '77.158.443-0', contact: 'Natalia Vega', city: 'Temuco' },\n  { id: 8, createdAt: '2025-05-19', name: 'Servicios Mar√≠timos Plast Marine Limitada', rut: '76.998.224-9', contact: 'Ignacio Contreras', city: 'Puerto Montt' },\n  { id: 9, createdAt: '2025-05-19', name: 'Constructora Stange Hermanos Ltda', rut: '77.304.652-2', contact: 'Francisca Rojas', city: 'Temuco' },\n  { id: 10, createdAt: '2025-05-16', name: 'Safco', rut: '76.842.913-8', contact: 'Germ√°n Paredes', city: 'Temuco' }\n])\n\nconst searchTerm = ref('')\nconst selectedIds = ref([])\nconst selectAll = ref(false)\nconst rowsPerPageOptions = [5, 10, 20, 50]\nconst rowsPerPage = ref(5)\nconst currentPage = ref(1)\nconst showAddModal = ref(false)\nconst step = ref(1)\nconst selectedTemplate = ref(null)\nconst showEditSidebar = ref(false)\nconst editingCompany = ref({ id: null, name: '', rut: '', contact: '', city: '', templateId: DEFAULT_TEMPLATE_ID })\nconst newCompany = ref({ name: '', rut: '', contact: '', city: '' })\nconst copiedId = ref(null)\n\n// Plantillas\nconst templates = ref([\n  { id: 1, name: 'B√°sico', description: 'Acceso limitado a reportes y panel general.' },\n  { id: 2, name: 'Profesional', description: 'Incluye reportes y comentarios.' },\n  { id: 3, name: 'Avanzado', description: 'Incluye dashboards personalizados y reportes completos.' },\n  { id: 4, name: 'Full', description: 'Todas las funciones habilitadas.' }\n])\n\n// Validaci√≥n RUT chileno (formato xx.xxx.xxx-x)\nconst isValidRut = (rut) => /^(\\d{1,2}\\.\\d{3}\\.\\d{3}-[\\dkK])$/.test(rut)\n\n// Computed: filtrado y paginaci√≥n\nconst filteredCustomers = computed(() => {\n  if (!searchTerm.value) return customers.value\n  const term = searchTerm.value.toLowerCase()\n  return customers.value.filter(c =>\n    c.name.toLowerCase().includes(term) ||\n    c.rut.toLowerCase().includes(term) ||\n    c.contact.toLowerCase().includes(term) ||\n    c.createdAt.toLowerCase().includes(term)\n  )\n})\n\n// Formateo autom√°tico RUT mientras se escribe\nconst formatRut = (company) => {\n  let rut = company.rut.replace(/[^0-9kK]/g, '')\n  if (rut.length > 9) rut = rut.slice(0, 9)\n\n  if (rut.length > 1) {\n    const body = rut.slice(0, -1)\n    const dv = rut.slice(-1)\n    const reversed = body.split('').reverse()\n    const withDots = []\n    reversed.forEach((char, i) => { if (i > 0 && i % 3 === 0) withDots.push('.'); withDots.push(char) })\n    company.rut = withDots.reverse().join('') + '-' + dv\n  } else {\n    company.rut = rut\n  }\n}\n\n// Validaci√≥n paso 1: todos los campos requeridos + RUT v√°lido\nconst isStep1Valid = computed(() => {\n  const { name, rut, contact, city } = newCompany.value\n  return name.trim() && rut.trim() && contact.trim() && city.trim() && isValidRut(rut)\n})\n\n// Paginar clientes\nconst paginatedCustomers = computed(() => {\n  const start = (currentPage.value - 1) * rowsPerPage.value\n  return filteredCustomers.value.slice(start, start + rowsPerPage.value)\n})\n\nconst totalPages = computed(() => Math.ceil(filteredCustomers.value.length / rowsPerPage.value))\n\n// Select all toggle\nconst toggleSelectAll = () => selectAll.value\n  ? selectedIds.value = paginatedCustomers.value.map(c => c.id)\n  : selectedIds.value = []\n\n// Paginaci√≥n\nconst nextPage = () => { if (currentPage.value < totalPages.value) currentPage.value++ }\nconst previousPage = () => { if (currentPage.value > 1) currentPage.value-- }\n\n// Modal multi-paso\nconst goToNextStep = () => {\n  if (isStep1Valid.value) step.value = 2\n  else alert('Completa todos los campos correctamente antes de continuar.')\n}\n\n// Cancelar modal\nconst cancel = () => {\n  showAddModal.value = false\n  step.value = 1\n  selectedTemplate.value = null\n  newCompany.value = { name: '', rut: '', contact: '', city: '' }\n}\n\n// Agregar empresa con ID √∫nico y validaci√≥n RUT\nconst addCompany = () => {\n  if (!selectedTemplate.value) return\n  if (!isValidRut(newCompany.value.rut)) {\n    alert('RUT inv√°lido. Formato esperado: xx.xxx.xxx-x')\n    return\n  }\n  const id = Date.now()\n  const createdAt = new Date().toISOString().slice(0, 10)\n  customers.value.push({ id, createdAt, ...newCompany.value, templateId: selectedTemplate.value })\n  cancel()\n}\n\n// Eliminar seleccionados\nconst deleteSelected = () => {\n  customers.value = customers.value.filter(c => !selectedIds.value.includes(c.id))\n  selectedIds.value = []\n}\n\n// Copiar datos con tooltip reutilizable\nconst copyCustomerData = (customer) => {\n  const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`\n  navigator.clipboard.writeText(data).then(() => {\n    copiedId.value = customer.id\n    setTimeout(() => copiedId.value = null, 1000)\n  })\n}\n\n// Editar empresa\nconst editCustomer = (customer) => {\n  editingCompany.value = { ...customer }\n  if (!editingCompany.value.templateId) editingCompany.value.templateId = DEFAULT_TEMPLATE_ID\n  showEditSidebar.value = true\n}\n\n// Guardar cambios\nconst updateCompany = () => {\n  if (!isValidRut(editingCompany.value.rut)) {\n    alert('RUT inv√°lido. Formato esperado: xx.xxx.xxx-x')\n    return\n  }\n  const index = customers.value.findIndex(c => c.id === editingCompany.value.id)\n  if (index !== -1) customers.value[index] = { ...editingCompany.value }\n  showEditSidebar.value = false\n}\n\n// Computed para texto din√°mico de botones en modal\nconst modalButtonText = computed(() => step.value === 1 ? 'Siguiente' : 'Crear Empresa')\nconst isModalButtonDisabled = computed(() => step.value === 2 && !selectedTemplate.value)\n\n// Reset selectAll al cambiar p√°gina\nwatch(paginatedCustomers, () => selectAll.value = false)\n</script>\n\n\n\n<style scoped>\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: all 0.3s ease;\n}\n\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.8);\n}\n\n.fade-scale-enter-to,\n.fade-scale-leave-from {\n  opacity: 1;\n  transform: scale(1);\n}\n\n\n.slide-fade-enter-active {\n  transition: transform 0.3s ease, opacity 0.3s ease;\n}\n\n.slide-fade-leave-active {\n  transition: transform 0.3s ease, opacity 0.3s ease;\n}\n\n.slide-fade-enter-from,\n.slide-fade-leave-to {\n  transform: translateX(100%);\n  opacity: 0;\n}\n\n.slide-fade-enter-to,\n.slide-fade-leave-from {\n  transform: translateX(0);\n  opacity: 1;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}