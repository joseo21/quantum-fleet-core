{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  __name: 'ModalAgregar',\n  props: {\n    selectedVehicle: {\n      type: String,\n      default: 'BBZF95 — N°49'\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const step = ref(1);\n    const templates = ref([{\n      name: 'Cambio de Aceite',\n      type: 'Preventiva',\n      desc: 'Incluye filtro y revisión general',\n      used: false\n    }, {\n      name: 'Revisión de Frenos',\n      type: 'Preventiva',\n      desc: 'Pastillas, discos y líquido',\n      used: false\n    }, {\n      name: 'Cambio de Neumáticos',\n      type: 'Correctiva',\n      desc: 'Rotación y balanceo',\n      used: true\n    }]);\n    const templatesBottom = ref([{\n      name: 'Chequeo de Batería',\n      type: 'Preventiva',\n      desc: 'Revisión de carga y limpieza',\n      used: false\n    }, {\n      name: 'Alineación y Balanceo',\n      type: 'Preventiva',\n      desc: 'Optimiza el desgaste de neumáticos',\n      used: false\n    }]);\n    const selectedTemplate = ref(null);\n    const form = ref({\n      name: '',\n      type: '',\n      intervalo: '',\n      email: '',\n      alerta: '',\n      fechaUltima: ''\n    });\n    function selectTemplate(template) {\n      selectedTemplate.value = template;\n      form.value.name = template.name;\n      form.value.type = template.type;\n      step.value = 2;\n    }\n    function guardarMantencion() {\n      if (!form.value.intervalo || !form.value.email || !form.value.alerta || !form.value.fechaUltima) {\n        alert('Completa todos los campos obligatorios');\n        return;\n      }\n      selectedTemplate.value.used = true;\n      step.value = 3;\n    }\n    const __returned__ = {\n      props,\n      step,\n      templates,\n      templatesBottom,\n      selectedTemplate,\n      form,\n      selectTemplate,\n      guardarMantencion,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","props","__props","step","templates","name","type","desc","used","templatesBottom","selectedTemplate","form","intervalo","email","alerta","fechaUltima","selectTemplate","template","value","guardarMantencion","alert"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/MantencionesUi/ModalAgregar.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col gap-6 p-6\">\n    <!-- Paso 1 -->\n    <div v-if=\"step === 1\">\n      <h2 class=\"text-xl font-semibold mb-4 text-white\">Selecciona una mantención</h2>\n\n      <div class=\"grid grid-cols-3 gap-4\">\n        <div v-for=\"(template, i) in templates\" :key=\"i\"\n          :class=\"[\n            'p-4 rounded-xl shadow-md cursor-pointer flex flex-col justify-between relative transition-all',\n            template.used ? 'bg-gray-800 opacity-60 cursor-not-allowed' : 'bg-[#1e2a32] hover:bg-[#253541]'\n          ]\"\n          @click=\"!template.used && selectTemplate(template)\">\n          <div>\n            <h3 class=\"text-lg font-semibold text-white\">{{ template.name }}</h3>\n            <p class=\"text-sm text-gray-300\">{{ template.type }}</p>\n          </div>\n          <p class=\"text-sm text-gray-400 mt-2\">{{ template.desc }}</p>\n          <div v-if=\"template.used\"\n            class=\"absolute top-2 right-2 bg-yellow-600 text-xs text-white px-2 py-1 rounded-md\">\n            Ya agendada\n          </div>\n        </div>\n      </div>\n\n      <div class=\"grid grid-cols-2 gap-4 mt-4\">\n        <div v-for=\"(template, i) in templatesBottom\" :key=\"'bottom-' + i\"\n          :class=\"[\n            'p-4 rounded-xl shadow-md cursor-pointer flex flex-col justify-between relative transition-all',\n            template.used ? 'bg-gray-800 opacity-60 cursor-not-allowed' : 'bg-[#1e2a32] hover:bg-[#253541]'\n          ]\"\n          @click=\"!template.used && selectTemplate(template)\">\n          <div>\n            <h3 class=\"text-lg font-semibold text-white\">{{ template.name }}</h3>\n            <p class=\"text-sm text-gray-300\">{{ template.type }}</p>\n          </div>\n          <p class=\"text-sm text-gray-400 mt-2\">{{ template.desc }}</p>\n          <div v-if=\"template.used\"\n            class=\"absolute top-2 right-2 bg-yellow-600 text-xs text-white px-2 py-1 rounded-md\">\n            Ya agendada\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Paso 2 -->\n    <div v-else-if=\"step === 2\">\n      <h2 class=\"text-xl font-semibold mb-4 text-white\">Configurar mantención</h2>\n\n      <form class=\"grid grid-cols-2 gap-4 bg-[#1e2a32] p-6 rounded-xl shadow-md text-white\">\n        <div>\n          <label class=\"block text-sm mb-1\">Vehículo</label>\n          <input type=\"text\" class=\"w-full p-2 rounded-md bg-gray-800 border border-gray-700 text-gray-300\"\n            :value=\"selectedVehicle\" disabled />\n        </div>\n\n        <div>\n          <label class=\"block text-sm mb-1\">Nombre de la Mantención</label>\n          <input type=\"text\" class=\"w-full p-2 rounded-md bg-gray-800 border border-gray-700 text-gray-300\"\n            v-model=\"form.name\" disabled />\n        </div>\n\n        <div>\n          <label class=\"block text-sm mb-1\">Tipo de Mantención</label>\n          <select class=\"w-full p-2 rounded-md bg-gray-800 border border-gray-700 text-gray-300\" v-model=\"form.type\"\n            disabled>\n            <option>{{ form.type }}</option>\n          </select>\n        </div>\n\n        <div>\n          <label class=\"block text-sm mb-1\">Intervalo</label>\n          <input type=\"text\" placeholder=\"Ej: 30 días o 5000 km\"\n            class=\"w-full p-2 rounded-md bg-gray-800 border border-gray-700 text-white\" v-model=\"form.intervalo\" />\n        </div>\n\n        <div>\n          <label class=\"block text-sm mb-1\">Email de contacto</label>\n          <input type=\"email\" placeholder=\"Ej: contacto@empresa.cl\"\n            class=\"w-full p-2 rounded-md bg-gray-800 border border-gray-700 text-white\" v-model=\"form.email\" />\n        </div>\n\n        <div>\n          <label class=\"block text-sm mb-1\">Alerta</label>\n          <input type=\"text\" placeholder=\"Ej: 5 días antes o 200 km antes\"\n            class=\"w-full p-2 rounded-md bg-gray-800 border border-gray-700 text-white\" v-model=\"form.alerta\" />\n        </div>\n\n        <div>\n          <label class=\"block text-sm mb-1\">Fecha Última Mantención</label>\n          <input type=\"date\" class=\"w-full p-2 rounded-md bg-gray-800 border border-gray-700 text-white\"\n            v-model=\"form.fechaUltima\" />\n        </div>\n\n        <div class=\"col-span-2 flex justify-end mt-4 gap-3\">\n          <button type=\"button\" class=\"px-4 py-2 bg-gray-700 rounded-md hover:bg-gray-600\"\n            @click=\"step = 1\">Volver</button>\n          <button type=\"button\" class=\"px-4 py-2 bg-green-600 rounded-md hover:bg-green-500\"\n            @click=\"guardarMantencion\">Guardar</button>\n        </div>\n      </form>\n    </div>\n\n    <!-- Confirmación -->\n    <div v-else class=\"flex flex-col items-center justify-center py-10 text-center text-white\">\n      <h2 class=\"text-2xl font-semibold mb-2\">Mantención guardada</h2>\n      <p class=\"text-gray-400\">Los datos fueron registrados exitosamente.</p>\n      <button class=\"mt-4 px-4 py-2 bg-blue-600 rounded-md hover:bg-blue-500\" @click=\"step = 1\">Volver al inicio</button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  selectedVehicle: {\n    type: String,\n    default: 'BBZF95 — N°49'\n  }\n})\n\nconst step = ref(1)\n\nconst templates = ref([\n  { name: 'Cambio de Aceite', type: 'Preventiva', desc: 'Incluye filtro y revisión general', used: false },\n  { name: 'Revisión de Frenos', type: 'Preventiva', desc: 'Pastillas, discos y líquido', used: false },\n  { name: 'Cambio de Neumáticos', type: 'Correctiva', desc: 'Rotación y balanceo', used: true }\n])\n\nconst templatesBottom = ref([\n  { name: 'Chequeo de Batería', type: 'Preventiva', desc: 'Revisión de carga y limpieza', used: false },\n  { name: 'Alineación y Balanceo', type: 'Preventiva', desc: 'Optimiza el desgaste de neumáticos', used: false }\n])\n\nconst selectedTemplate = ref(null)\n\nconst form = ref({\n  name: '',\n  type: '',\n  intervalo: '',\n  email: '',\n  alerta: '',\n  fechaUltima: ''\n})\n\nfunction selectTemplate(template) {\n  selectedTemplate.value = template\n  form.value.name = template.name\n  form.value.type = template.type\n  step.value = 2\n}\n\nfunction guardarMantencion() {\n  if (!form.value.intervalo || !form.value.email || !form.value.alerta || !form.value.fechaUltima) {\n    alert('Completa todos los campos obligatorios')\n    return\n  }\n  selectedTemplate.value.used = true\n  step.value = 3\n}\n</script>\n\n<style scoped>\ninput:disabled,\nselect:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n</style>\n"],"mappings":"AAiHA,SAASA,GAAG,QAAQ,KAAI;;;;;;;;;;;;;IAExB,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,IAAI,GAAGH,GAAG,CAAC,CAAC;IAElB,MAAMI,SAAS,GAAGJ,GAAG,CAAC,CACpB;MAAEK,IAAI,EAAE,kBAAkB;MAAEC,IAAI,EAAE,YAAY;MAAEC,IAAI,EAAE,mCAAmC;MAAEC,IAAI,EAAE;IAAM,CAAC,EACxG;MAAEH,IAAI,EAAE,oBAAoB;MAAEC,IAAI,EAAE,YAAY;MAAEC,IAAI,EAAE,6BAA6B;MAAEC,IAAI,EAAE;IAAM,CAAC,EACpG;MAAEH,IAAI,EAAE,sBAAsB;MAAEC,IAAI,EAAE,YAAY;MAAEC,IAAI,EAAE,qBAAqB;MAAEC,IAAI,EAAE;IAAK,EAC7F;IAED,MAAMC,eAAe,GAAGT,GAAG,CAAC,CAC1B;MAAEK,IAAI,EAAE,oBAAoB;MAAEC,IAAI,EAAE,YAAY;MAAEC,IAAI,EAAE,8BAA8B;MAAEC,IAAI,EAAE;IAAM,CAAC,EACrG;MAAEH,IAAI,EAAE,uBAAuB;MAAEC,IAAI,EAAE,YAAY;MAAEC,IAAI,EAAE,oCAAoC;MAAEC,IAAI,EAAE;IAAM,EAC9G;IAED,MAAME,gBAAgB,GAAGV,GAAG,CAAC,IAAI;IAEjC,MAAMW,IAAI,GAAGX,GAAG,CAAC;MACfK,IAAI,EAAE,EAAE;MACRC,IAAI,EAAE,EAAE;MACRM,SAAS,EAAE,EAAE;MACbC,KAAK,EAAE,EAAE;MACTC,MAAM,EAAE,EAAE;MACVC,WAAW,EAAE;IACf,CAAC;IAED,SAASC,cAAcA,CAACC,QAAQ,EAAE;MAChCP,gBAAgB,CAACQ,KAAK,GAAGD,QAAO;MAChCN,IAAI,CAACO,KAAK,CAACb,IAAI,GAAGY,QAAQ,CAACZ,IAAG;MAC9BM,IAAI,CAACO,KAAK,CAACZ,IAAI,GAAGW,QAAQ,CAACX,IAAG;MAC9BH,IAAI,CAACe,KAAK,GAAG;IACf;IAEA,SAASC,iBAAiBA,CAAA,EAAG;MAC3B,IAAI,CAACR,IAAI,CAACO,KAAK,CAACN,SAAS,IAAI,CAACD,IAAI,CAACO,KAAK,CAACL,KAAK,IAAI,CAACF,IAAI,CAACO,KAAK,CAACJ,MAAM,IAAI,CAACH,IAAI,CAACO,KAAK,CAACH,WAAW,EAAE;QAC/FK,KAAK,CAAC,wCAAwC;QAC9C;MACF;MACAV,gBAAgB,CAACQ,KAAK,CAACV,IAAI,GAAG,IAAG;MACjCL,IAAI,CAACe,KAAK,GAAG;IACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}