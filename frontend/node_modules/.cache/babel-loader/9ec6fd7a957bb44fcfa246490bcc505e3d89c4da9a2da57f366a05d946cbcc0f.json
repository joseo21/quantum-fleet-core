{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm bg-white dark:bg-gray-800\"\n};\nconst _hoisted_2 = {\n  class: \"min-w-full divide-y divide-gray-200 dark:divide-gray-700\"\n};\nconst _hoisted_3 = {\n  class: \"bg-gray-100 dark:bg-gray-700\"\n};\nconst _hoisted_4 = {\n  class: \"p-3 text-left\"\n};\nconst _hoisted_5 = [\"checked\"];\nconst _hoisted_6 = {\n  class: \"divide-y divide-gray-100 dark:divide-gray-700\"\n};\nconst _hoisted_7 = {\n  class: \"p-3\"\n};\nconst _hoisted_8 = [\"value\"];\nconst _hoisted_9 = {\n  class: \"p-3 text-sm\"\n};\nconst _hoisted_10 = {\n  class: \"p-3 text-sm font-medium\"\n};\nconst _hoisted_11 = {\n  class: \"p-3 text-sm\"\n};\nconst _hoisted_12 = {\n  class: \"p-3 text-sm\"\n};\nconst _hoisted_13 = {\n  class: \"p-3 text-sm\"\n};\nconst _hoisted_14 = {\n  class: \"p-3 text-center flex justify-center gap-2\"\n};\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = {\n  key: 0\n};\nconst _hoisted_18 = {\n  class: \"flex flex-col sm:flex-row justify-between items-center gap-2 p-3 border-t border-gray-200 dark:border-gray-700\"\n};\nconst _hoisted_19 = {\n  class: \"text-sm text-gray-600 dark:text-gray-300\"\n};\nconst _hoisted_20 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_21 = [\"value\"];\nconst _hoisted_22 = {\n  class: \"flex gap-1\"\n};\nconst _hoisted_23 = [\"disabled\"];\nconst _hoisted_24 = {\n  class: \"text-sm\"\n};\nconst _hoisted_25 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"table\", _hoisted_2, [_createElementVNode(\"thead\", _hoisted_3, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", _hoisted_4, [_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    onChange: $setup.toggleSelectAll,\n    checked: $setup.isAllSelected\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_5)]), _cache[2] || (_cache[2] = _createElementVNode(\"th\", {\n    class: \"p-3 text-left text-sm font-semibold\"\n  }, \"Fecha\", -1 /* CACHED */)), _cache[3] || (_cache[3] = _createElementVNode(\"th\", {\n    class: \"p-3 text-left text-sm font-semibold\"\n  }, \"Empresa\", -1 /* CACHED */)), _cache[4] || (_cache[4] = _createElementVNode(\"th\", {\n    class: \"p-3 text-left text-sm font-semibold\"\n  }, \"RUT\", -1 /* CACHED */)), _cache[5] || (_cache[5] = _createElementVNode(\"th\", {\n    class: \"p-3 text-left text-sm font-semibold\"\n  }, \"Contacto\", -1 /* CACHED */)), _cache[6] || (_cache[6] = _createElementVNode(\"th\", {\n    class: \"p-3 text-left text-sm font-semibold\"\n  }, \"Ciudad\", -1 /* CACHED */)), _cache[7] || (_cache[7] = _createElementVNode(\"th\", {\n    class: \"p-3 text-center text-sm font-semibold\"\n  }, \"Acciones\", -1 /* CACHED */))])]), _createElementVNode(\"tbody\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.paginatedCustomers, customer => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: customer.id,\n      class: \"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150\"\n    }, [_createElementVNode(\"td\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.selectedLocal = $event),\n      value: customer.id\n    }, null, 8 /* PROPS */, _hoisted_8), [[_vModelCheckbox, $setup.selectedLocal]])]), _createElementVNode(\"td\", _hoisted_9, _toDisplayString(customer.createdAt), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_10, _toDisplayString(customer.name), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_11, _toDisplayString(customer.rut), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_12, _toDisplayString(customer.contact), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_13, _toDisplayString(customer.city), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_14, [_createElementVNode(\"button\", {\n      onClick: $event => _ctx.$emit('edit', customer),\n      class: \"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\"\n    }, \" ‚úèÔ∏è \", 8 /* PROPS */, _hoisted_15), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.$emit('copy', customer),\n      class: \"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100\"\n    }, \" üìã \", 8 /* PROPS */, _hoisted_16)])]);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.filteredCustomers.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_17, [...(_cache[8] || (_cache[8] = [_createElementVNode(\"td\", {\n    colspan: \"7\",\n    class: \"text-center py-6 text-gray-500 dark:text-gray-400\"\n  }, \" No se encontraron empresas. \", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" üîΩ Paginaci√≥n \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, \" Mostrando \" + _toDisplayString($setup.startIndex + 1) + \" - \" + _toDisplayString(Math.min($setup.endIndex, $setup.filteredCustomers.length)) + \" de \" + _toDisplayString($setup.filteredCustomers.length), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_20, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.rowsPerPageLocal = $event),\n    class: \"border rounded-md px-2 py-1 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.rowsPerPageOptions, n => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: n,\n      value: n\n    }, _toDisplayString(n) + \" filas\", 9 /* TEXT, PROPS */, _hoisted_21);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.rowsPerPageLocal]]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    onClick: $setup.prevPage,\n    disabled: $setup.currentPageLocal === 1,\n    class: \"px-3 py-1 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40\"\n  }, \"‚óÄ\", 8 /* PROPS */, _hoisted_23), _createElementVNode(\"span\", _hoisted_24, \"P√°gina \" + _toDisplayString($setup.currentPageLocal), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: $setup.nextPage,\n    disabled: $setup.endIndex >= $setup.filteredCustomers.length,\n    class: \"px-3 py-1 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40\"\n  }, \"‚ñ∂\", 8 /* PROPS */, _hoisted_25)])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","type","onChange","$setup","toggleSelectAll","checked","isAllSelected","_hoisted_6","_Fragment","_renderList","paginatedCustomers","customer","key","id","_hoisted_7","selectedLocal","$event","value","_hoisted_9","_toDisplayString","createdAt","_hoisted_10","name","_hoisted_11","rut","_hoisted_12","contact","_hoisted_13","city","_hoisted_14","onClick","_ctx","$emit","_hoisted_15","_hoisted_16","filteredCustomers","length","_hoisted_17","_cache","colspan","_createCommentVNode","_hoisted_18","_hoisted_19","startIndex","Math","min","endIndex","_hoisted_20","rowsPerPageLocal","$props","rowsPerPageOptions","n","_hoisted_21","_hoisted_22","prevPage","disabled","currentPageLocal","_hoisted_23","_hoisted_24","nextPage","_hoisted_25"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/EmpresasUi/EmpresasTable.vue"],"sourcesContent":["<template>\n  <div class=\"overflow-x-auto border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm bg-white dark:bg-gray-800\">\n    <table class=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n      <thead class=\"bg-gray-100 dark:bg-gray-700\">\n        <tr>\n          <th class=\"p-3 text-left\">\n            <input type=\"checkbox\" @change=\"toggleSelectAll\" :checked=\"isAllSelected\" />\n          </th>\n          <th class=\"p-3 text-left text-sm font-semibold\">Fecha</th>\n          <th class=\"p-3 text-left text-sm font-semibold\">Empresa</th>\n          <th class=\"p-3 text-left text-sm font-semibold\">RUT</th>\n          <th class=\"p-3 text-left text-sm font-semibold\">Contacto</th>\n          <th class=\"p-3 text-left text-sm font-semibold\">Ciudad</th>\n          <th class=\"p-3 text-center text-sm font-semibold\">Acciones</th>\n        </tr>\n      </thead>\n\n      <tbody class=\"divide-y divide-gray-100 dark:divide-gray-700\">\n        <tr v-for=\"customer in paginatedCustomers\" :key=\"customer.id\"\n          class=\"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150\">\n          <td class=\"p-3\">\n            <input type=\"checkbox\" v-model=\"selectedLocal\" :value=\"customer.id\" />\n          </td>\n          <td class=\"p-3 text-sm\">{{ customer.createdAt }}</td>\n          <td class=\"p-3 text-sm font-medium\">{{ customer.name }}</td>\n          <td class=\"p-3 text-sm\">{{ customer.rut }}</td>\n          <td class=\"p-3 text-sm\">{{ customer.contact }}</td>\n          <td class=\"p-3 text-sm\">{{ customer.city }}</td>\n\n          <td class=\"p-3 text-center flex justify-center gap-2\">\n            <button @click=\"$emit('edit', customer)\"\n              class=\"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\">\n              ‚úèÔ∏è\n            </button>\n            <button @click=\"$emit('copy', customer)\"\n              class=\"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100\">\n              üìã\n            </button>\n          </td>\n        </tr>\n\n        <tr v-if=\"filteredCustomers.length === 0\">\n          <td colspan=\"7\" class=\"text-center py-6 text-gray-500 dark:text-gray-400\">\n            No se encontraron empresas.\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <!-- üîΩ Paginaci√≥n -->\n    <div class=\"flex flex-col sm:flex-row justify-between items-center gap-2 p-3 border-t border-gray-200 dark:border-gray-700\">\n      <div class=\"text-sm text-gray-600 dark:text-gray-300\">\n        Mostrando {{ startIndex + 1 }} - {{ Math.min(endIndex, filteredCustomers.length) }} de {{ filteredCustomers.length }}\n      </div>\n\n      <div class=\"flex items-center gap-2\">\n        <select v-model=\"rowsPerPageLocal\" class=\"border rounded-md px-2 py-1 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100\">\n          <option v-for=\"n in rowsPerPageOptions\" :key=\"n\" :value=\"n\">{{ n }} filas</option>\n        </select>\n\n        <div class=\"flex gap-1\">\n          <button @click=\"prevPage\" :disabled=\"currentPageLocal === 1\"\n            class=\"px-3 py-1 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40\">‚óÄ</button>\n          <span class=\"text-sm\">P√°gina {{ currentPageLocal }}</span>\n          <button @click=\"nextPage\" :disabled=\"endIndex >= filteredCustomers.length\"\n            class=\"px-3 py-1 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-40\">‚ñ∂</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed, ref, watch } from 'vue'\n\n// Props\ndefineProps({\n  customers: Array,\n  searchTerm: String,\n  selectedIds: Array,\n  rowsPerPageOptions: Array,\n  modelValue: Number,\n  currentPage: Number,\n})\n\n// Emits\nconst emit = defineEmits(['update:selectedIds', 'edit', 'copy', 'update:rowsPerPage', 'update:currentPage'])\n\n// Refs locales\nconst selectedLocal = ref([...$props.selectedIds])\nconst rowsPerPageLocal = ref($props.modelValue)\nconst currentPageLocal = ref($props.currentPage)\n\n// üîç Filtro\nconst filteredCustomers = computed(() => {\n  if (!$props.searchTerm) return $props.customers\n  const term = $props.searchTerm.toLowerCase()\n  return $props.customers.filter(c =>\n    c.name.toLowerCase().includes(term) ||\n    c.rut.toLowerCase().includes(term) ||\n    c.contact.toLowerCase().includes(term) ||\n    c.city.toLowerCase().includes(term)\n  )\n})\n\n// üî¢ Paginaci√≥n\nconst startIndex = computed(() => (currentPageLocal.value - 1) * rowsPerPageLocal.value)\nconst endIndex = computed(() => startIndex.value + rowsPerPageLocal.value)\nconst paginatedCustomers = computed(() => filteredCustomers.value.slice(startIndex.value, endIndex.value))\n\nconst nextPage = () => {\n  if (endIndex.value < filteredCustomers.value.length) currentPageLocal.value++\n}\nconst prevPage = () => {\n  if (currentPageLocal.value > 1) currentPageLocal.value--\n}\n\n// ‚úÖ Selecci√≥n m√∫ltiple\nconst isAllSelected = computed(() =>\n  filteredCustomers.value.length > 0 &&\n  filteredCustomers.value.every(c => selectedLocal.value.includes(c.id))\n)\n\nconst toggleSelectAll = () => {\n  if (isAllSelected.value) {\n    selectedLocal.value = []\n  } else {\n    selectedLocal.value = filteredCustomers.value.map(c => c.id)\n  }\n}\n\n// üîÑ Sincronizar con padre\nwatch(selectedLocal, val => emit('update:selectedIds', val))\nwatch(rowsPerPageLocal, val => emit('update:rowsPerPage', val))\nwatch(currentPageLocal, val => emit('update:currentPage', val))\nwatch(() => $props.selectedIds, val => selectedLocal.value = [...val])\n</script>\n\n<style scoped>\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}