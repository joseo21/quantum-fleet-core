{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col gap-3\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\"\n};\nconst _hoisted_3 = {\n  class: \"flex w-full sm:w-2/3 md:w-1/2\"\n};\nconst _hoisted_4 = {\n  class: \"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\"\n};\nconst _hoisted_6 = {\n  class: \"flex gap-2\"\n};\nconst _hoisted_7 = {\n  class: \"min-w-full text-center border-collapse\"\n};\nconst _hoisted_8 = [\"value\"];\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = {\n  class: \"flex justify-between items-center mt-2\"\n};\nconst _hoisted_13 = [\"disabled\"];\nconst _hoisted_14 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Barra superior \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode($setup[\"SvgIcon\"], {\n    name: \"search\",\n    class: \"w-4 h-4 sm:w-5 sm:h-5\"\n  })]), _cache[4] || (_cache[4] = _createElementVNode(\"input\", {\n    placeholder: \"Buscar empresa...\",\n    class: \"flex-1 p-2\"\n  }, null, -1 /* CACHED */)), $props.searchTerm ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[0] || (_cache[0] = $event => $props.searchTerm = ''),\n    class: \"px-4 bg-[#ff6600] text-white\"\n  }, \"Limpiar\")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.$emit('update:showAddModal', true))\n  }, \"Agregar Empresa\"), $props.selectedIds.length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.$emit('delete-selected', $props.selectedIds))\n  }, \"Eliminar\")) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Tabla \"), _createElementVNode(\"table\", _hoisted_7, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.selectAll = $event),\n    onChange: $setup.toggleSelectAll\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelCheckbox, $setup.selectAll]])]), _cache[5] || (_cache[5] = _createElementVNode(\"th\", null, \"Fecha\", -1 /* CACHED */)), _cache[6] || (_cache[6] = _createElementVNode(\"th\", null, \"Nombre\", -1 /* CACHED */)), _cache[7] || (_cache[7] = _createElementVNode(\"th\", null, \"RUT\", -1 /* CACHED */)), _cache[8] || (_cache[8] = _createElementVNode(\"th\", null, \"Contacto\", -1 /* CACHED */)), _cache[9] || (_cache[9] = _createElementVNode(\"th\", null, \"Ciudad\", -1 /* CACHED */)), _cache[10] || (_cache[10] = _createElementVNode(\"th\", null, \"Acciones\", -1 /* CACHED */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.paginatedCustomers, customer => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: customer.id\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      value: customer.id\n    }, null, 8 /* PROPS */, _hoisted_8)]), _createElementVNode(\"td\", null, _toDisplayString(customer.createdAt), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(customer.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(customer.rut), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(customer.contact), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(customer.city), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => _ctx.$emit('edit', customer)\n    }, \"Editar\", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.$emit('copy', customer)\n    }, \"Copiar\", 8 /* PROPS */, _hoisted_10)])]);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.paginatedCustomers.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_11, [...(_cache[11] || (_cache[11] = [_createElementVNode(\"td\", {\n    colspan: \"7\"\n  }, \"No hay empresas registradas\", -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" Paginación simple \"), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    onClick: $setup.previousPage,\n    disabled: $props.currentPage === 1\n  }, \"←\", 8 /* PROPS */, _hoisted_13), _createElementVNode(\"span\", null, \"Página \" + _toDisplayString($props.currentPage) + \" / \" + _toDisplayString($setup.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: $setup.nextPage,\n    disabled: $props.currentPage === $setup.totalPages\n  }, \"→\", 8 /* PROPS */, _hoisted_14)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","$setup","name","placeholder","$props","searchTerm","onClick","_cache","$event","_hoisted_6","_ctx","$emit","selectedIds","length","_hoisted_7","type","selectAll","onChange","toggleSelectAll","_Fragment","_renderList","paginatedCustomers","customer","key","id","value","_toDisplayString","createdAt","rut","contact","city","_hoisted_9","_hoisted_10","_hoisted_11","colspan","_hoisted_12","previousPage","disabled","currentPage","_hoisted_13","totalPages","nextPage","_hoisted_14"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/EmpresasUi/EmpresasTable.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col gap-3\">\n    <!-- Barra superior -->\n    <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\">\n      <div class=\"flex w-full sm:w-2/3 md:w-1/2\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" placeholder=\"Buscar empresa...\" class=\"flex-1 p-2\" />\n          <button v-if=\"searchTerm\" @click=\"searchTerm = ''\" class=\"px-4 bg-[#ff6600] text-white\">Limpiar</button>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2\">\n        <button @click=\"$emit('update:showAddModal', true)\">Agregar Empresa</button>\n        <button v-if=\"selectedIds.length > 0\" @click=\"$emit('delete-selected', selectedIds)\">Eliminar</button>\n      </div>\n    </div>\n\n    <!-- Tabla -->\n    <table class=\"min-w-full text-center border-collapse\">\n      <thead>\n        <tr>\n          <th><input type=\"checkbox\" v-model=\"selectAll\" @change=\"toggleSelectAll\" /></th>\n          <th>Fecha</th>\n          <th>Nombre</th>\n          <th>RUT</th>\n          <th>Contacto</th>\n          <th>Ciudad</th>\n          <th>Acciones</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"customer in paginatedCustomers\" :key=\"customer.id\">\n          <td><input type=\"checkbox\" v-model=\"selectedIds\" :value=\"customer.id\" /></td>\n          <td>{{ customer.createdAt }}</td>\n          <td>{{ customer.name }}</td>\n          <td>{{ customer.rut }}</td>\n          <td>{{ customer.contact }}</td>\n          <td>{{ customer.city }}</td>\n          <td>\n            <button @click=\"$emit('edit', customer)\">Editar</button>\n            <button @click=\"$emit('copy', customer)\">Copiar</button>\n          </td>\n        </tr>\n        <tr v-if=\"paginatedCustomers.length === 0\">\n          <td colspan=\"7\">No hay empresas registradas</td>\n        </tr>\n      </tbody>\n    </table>\n\n    <!-- Paginación simple -->\n    <div class=\"flex justify-between items-center mt-2\">\n      <button @click=\"previousPage\" :disabled=\"currentPage === 1\">←</button>\n      <span>Página {{ currentPage }} / {{ totalPages }}</span>\n      <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\">→</button>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\n\nconst props = defineProps({\n  customers: Array,\n  selectedIds: Array,\n  searchTerm: String,\n  rowsPerPage: Number,\n  currentPage: Number\n})\nconst emit = defineEmits([\n  'edit', 'copy', 'delete-selected',\n  'update:selectedIds', 'update:searchTerm', 'update:currentPage'\n])\n\nconst localSearch = ref(props.searchTerm)\nconst localSelected = ref([...props.selectedIds])\nconst localPage = ref(props.currentPage)\n\nwatch(localSearch, val => emit('update:searchTerm', val))\nwatch(localSelected, val => emit('update:selectedIds', val))\nwatch(localPage, val => emit('update:currentPage', val))\n\nconst selectAll = ref(false)\n\nconst filteredCustomers = computed(() => {\n  if (!localSearch.value) return props.customers\n  const term = localSearch.value.toLowerCase()\n  return props.customers.filter(c =>\n    c.name.toLowerCase().includes(term) ||\n    c.rut.toLowerCase().includes(term) ||\n    c.contact.toLowerCase().includes(term) ||\n    c.createdAt.includes(term)\n  )\n})\n\nconst paginatedCustomers = computed(() => {\n  const start = (localPage.value - 1) * props.rowsPerPage\n  return filteredCustomers.value.slice(start, start + props.rowsPerPage)\n})\n\nconst totalPages = computed(() => Math.ceil(filteredCustomers.value.length / props.rowsPerPage))\n\nconst toggleSelectAll = () => selectAll.value\n  ? localSelected.splice(0, localSelected.length, ...paginatedCustomers.value.map(c => c.id))\n  : localSelected.splice(0, localSelected.length, [])\n\nconst nextPage = () => { if (localPage.value < totalPages.value) localPage.value++ }\nconst previousPage = () => { if (localPage.value > 1) localPage.value-- }\n\nwatch(paginatedCustomers, () => selectAll.value = false)\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}