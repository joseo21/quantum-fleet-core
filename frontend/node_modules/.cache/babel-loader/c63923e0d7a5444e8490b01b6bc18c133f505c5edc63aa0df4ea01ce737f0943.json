{"ast":null,"code":"import { ref } from 'vue';\nimport SvgIcon from '@/components/icons/SvgIcon.vue';\nexport default {\n  name: 'ModalMantencionType',\n  components: {\n    SvgIcon\n  },\n  emits: ['close', 'save'],\n  setup(props, {\n    emit\n  }) {\n    const nuevoTipo = ref({\n      name: '',\n      type: '',\n      description: ''\n    });\n    function guardarTipo() {\n      if (!nuevoTipo.value.name || !nuevoTipo.value.type) return;\n      emit('save', {\n        ...nuevoTipo.value\n      });\n      nuevoTipo.value = {\n        name: '',\n        type: '',\n        description: ''\n      }; // reset\n    }\n    return {\n      nuevoTipo,\n      guardarTipo\n    };\n  }\n};","map":{"version":3,"names":["ref","SvgIcon","name","components","emits","setup","props","emit","nuevoTipo","type","description","guardarTipo","value"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/MantencionesUi/ModalMantencionType.vue"],"sourcesContent":["<template>\n  <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4 overflow-auto\">\n    <div\n      class=\"bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-lg relative w-full max-w-3xl sm:max-w-5xl h-auto max-h-[90vh] p-4 sm:p-6 border border-gray-300 dark:border-gray-700 shadow-xl overflow-y-auto\">\n\n      <!-- Header -->\n      <h2 class=\"text-xl sm:text-2xl font-bold mb-4 text-center text-[#102372] dark:text-[#ff6600]\">\n        Mantenciones Vehículo {{ patente }}\n      </h2>\n\n      <!-- Botón cerrar -->\n      <button @click=\"$emit('close')\"\n        class=\"absolute top-2 right-2 sm:top-4 sm:right-4 p-1 sm:p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition z-50\"\n        title=\"Cerrar\">\n        <SvgIcon name=\"close\" class=\"w-5 h-5 sm:w-6 sm:h-6\" />\n      </button>\n\n      <!-- Cards -->\n      <div class=\"flex flex-col gap-3\">\n        <div v-for=\"(m, idx) in mantencionesConEstado\" :key=\"idx\"\n          class=\"bg-gray-100 dark:bg-gray-800 rounded-lg shadow p-3 flex flex-col gap-2 border border-gray-300 dark:border-gray-700 text-sm sm:text-base\">\n\n          <!-- Nombre y tipo -->\n          <div class=\"flex justify-between items-center mb-1 flex-wrap\">\n            <span class=\"font-semibold text-sm sm:text-base truncate max-w-[70%]\">{{ m.nombre || m.name }}</span>\n            <span class=\"text-xs px-2 py-0.5 rounded bg-blue-600 text-white\">{{ m.tipo || m.type }}</span>\n          </div>\n\n          <!-- Datos principales -->\n          <div class=\"grid grid-cols-2 gap-2 sm:grid-cols-3\">\n            <div>\n              <span class=\"text-gray-500 text-xs\">Intervalo</span>\n              <div class=\"font-medium\">{{ m.intervalo }}</div>\n            </div>\n            <div>\n              <span class=\"text-gray-500 text-xs\">Último</span>\n              <div class=\"font-medium\">{{ m.ultimo }}</div>\n            </div>\n            <div>\n              <span class=\"text-gray-500 text-xs\">Umbral</span>\n              <div class=\"font-medium\">{{ m.umbral }}</div>\n            </div>\n            <div>\n              <span class=\"text-gray-500 text-xs\">Actual</span>\n              <div class=\"font-medium\">{{ m.actual }}</div>\n            </div>\n            <div>\n              <span class=\"text-gray-500 text-xs\">Faltante</span>\n              <div class=\"font-medium\">{{ m.faltante }}</div>\n            </div>\n            <div>\n              <span class=\"text-gray-500 text-xs\">Alerta</span>\n              <div class=\"font-medium\">{{ m.alerta || 0 }}</div>\n            </div>\n            <div class=\"col-span-2\">\n              <span class=\"text-gray-500 text-xs\">Email</span>\n              <div class=\"font-medium truncate\">{{ m.email || m.correo || 'N/A' }}</div>\n            </div>\n            <div class=\"col-span-2\">\n              <span class=\"text-gray-500 text-xs\">Creación</span>\n              <div class=\"font-medium\">{{ formatFecha(m.fechaCreacion) }}</div>\n            </div>\n          </div>\n\n          <!-- Estado e imágenes -->\n          <div class=\"flex items-center justify-between mt-2 flex-wrap gap-2\">\n            <div class=\"flex-shrink-0\">\n              <img v-if=\"m.estado === 'OK'\" src=\"https://sinergygroup.cl/Mantenciones/img/verde.png\"\n                class=\"w-10 h-10 sm:w-12 sm:h-12 object-contain\" />\n              <img v-else-if=\"m.estado === 'Próxima mantención'\" src=\"https://sinergygroup.cl/Mantenciones/img/amarillo.png\"\n                class=\"w-10 h-10 sm:w-12 sm:h-12 object-contain\" />\n              <img v-else-if=\"m.estado === 'Requiere mantención'\" src=\"https://sinergygroup.cl/Mantenciones/img/rojo.png\"\n                class=\"w-10 h-10 sm:w-12 sm:h-12 object-contain\" />\n            </div>\n\n            <!-- Botones -->\n            <div class=\"flex gap-2 sm:gap-3 flex-wrap\">\n              <button @click=\"$emit('editar', idx)\"\n                class=\"bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded text-xs sm:text-sm\">Editar</button>\n              <button @click=\"$emit('eliminar', idx)\"\n                class=\"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs sm:text-sm\">Eliminar</button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Si no hay mantenciones -->\n        <div v-if=\"!mantenciones || mantenciones.length === 0\" class=\"text-center py-4 text-gray-500 dark:text-gray-400\">\n          No hay mantenciones registradas\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\n\nexport default {\n    name: 'ModalMantencionType',\n    components: { SvgIcon },\n    emits: ['close', 'save'],\n    setup(props, { emit }) {\n        const nuevoTipo = ref({\n            name: '',\n            type: '',\n            description: ''\n        })\n\n        function guardarTipo() {\n            if (!nuevoTipo.value.name || !nuevoTipo.value.type) return\n            emit('save', { ...nuevoTipo.value })\n            nuevoTipo.value = { name: '', type: '', description: '' } // reset\n        }\n\n        return { nuevoTipo, guardarTipo }\n    }\n}\n</script>\n\n<style scoped>\nbutton {\n    transition: all 0.2s ease-in-out;\n}\n\ninput::placeholder,\ntextarea::placeholder {\n    color: #9ca3af;\n}\n</style>\n"],"mappings":"AAgGA,SAASA,GAAE,QAAS,KAAI;AACxB,OAAOC,OAAM,MAAO,gCAA+B;AAEnD,eAAe;EACXC,IAAI,EAAE,qBAAqB;EAC3BC,UAAU,EAAE;IAAEF;EAAQ,CAAC;EACvBG,KAAK,EAAE,CAAC,OAAO,EAAE,MAAM,CAAC;EACxBC,KAAKA,CAACC,KAAK,EAAE;IAAEC;EAAK,CAAC,EAAE;IACnB,MAAMC,SAAQ,GAAIR,GAAG,CAAC;MAClBE,IAAI,EAAE,EAAE;MACRO,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE;IACjB,CAAC;IAED,SAASC,WAAWA,CAAA,EAAG;MACnB,IAAI,CAACH,SAAS,CAACI,KAAK,CAACV,IAAG,IAAK,CAACM,SAAS,CAACI,KAAK,CAACH,IAAI,EAAE;MACpDF,IAAI,CAAC,MAAM,EAAE;QAAE,GAAGC,SAAS,CAACI;MAAM,CAAC;MACnCJ,SAAS,CAACI,KAAI,GAAI;QAAEV,IAAI,EAAE,EAAE;QAAEO,IAAI,EAAE,EAAE;QAAEC,WAAW,EAAE;MAAG,GAAE;IAC9D;IAEA,OAAO;MAAEF,SAAS;MAAEG;IAAY;EACpC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}