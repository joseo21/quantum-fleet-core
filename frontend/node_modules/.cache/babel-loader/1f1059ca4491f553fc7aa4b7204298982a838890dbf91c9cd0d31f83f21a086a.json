{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport SvgIcon from '@/components/icons/SvgIcon.vue';\nexport default {\n  name: 'MantencionesTable',\n  components: {\n    SvgIcon\n  },\n  props: {\n    mantenciones: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      search: '',\n      debouncedSearch: '',\n      currentPage: 1,\n      rowsPerPage: 10,\n      columns: ['Patente', 'Od贸metro (Km)', 'Estado de mantenci贸n', 'Ver Mantenciones', 'Agregar Mantenci贸n']\n    };\n  },\n  watch: {\n    search(val) {\n      clearTimeout(this._debounceTimeout);\n      this._debounceTimeout = setTimeout(() => {\n        this.debouncedSearch = val.trim().toLowerCase();\n        this.currentPage = 1;\n      }, 300);\n    }\n  },\n  computed: {\n    filteredData() {\n      if (!this.debouncedSearch) return this.mantenciones;\n      return this.mantenciones.filter(item => item.patente.toLowerCase().includes(this.debouncedSearch));\n    },\n    totalPages() {\n      return Math.max(1, Math.ceil(this.filteredData.length / this.rowsPerPage));\n    },\n    paginatedData() {\n      const start = (this.currentPage - 1) * this.rowsPerPage;\n      return this.filteredData.slice(start, start + this.rowsPerPage);\n    }\n  },\n  methods: {\n    goToPage(page) {\n      if (page >= 1 && page <= this.totalPages) this.currentPage = page;\n    }\n  }\n};","map":{"version":3,"names":["SvgIcon","name","components","props","mantenciones","type","Array","default","data","search","debouncedSearch","currentPage","rowsPerPage","columns","watch","val","clearTimeout","_debounceTimeout","setTimeout","trim","toLowerCase","computed","filteredData","filter","item","patente","includes","totalPages","Math","max","ceil","length","paginatedData","start","slice","methods","goToPage","page"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/MantencionesUi/MantencionesTable.vue"],"sourcesContent":["<template>\n  <div class=\"w-full\">\n    <!--  Buscar -->\n    <input\n      type=\"text\"\n      v-model=\"search\"\n      placeholder=\"Buscar por patente...\"\n      class=\"border dark:border-gray-600 rounded-lg text-sm p-2 mb-4 w-full \n             bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 \n             placeholder-gray-400 dark:placeholder-gray-300 transition-colors duration-300\"\n    />\n\n    <!--  Tabla -->\n    <div class=\"max-h-[400px] overflow-y-auto overflow-x-auto rounded-lg\">\n      <table\n        class=\"w-full table-auto border border-gray-300 dark:border-gray-700 \n               text-sm text-center transition-colors duration-300\"\n      >\n        <thead class=\"bg-[#102372] dark:bg-[#102372] sticky top-0 z-10 text-gray-100\">\n          <tr>\n            <th\n              v-for=\"col in columns\"\n              :key=\"col\"\n              class=\"font-semibold py-2 px-3 border-b border-gray-300 dark:border-gray-600 text-center\"\n            >\n              {{ col }}\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr\n            v-for=\"(item, idx) in paginatedData\"\n            :key=\"idx\"\n            class=\"hover:bg-gray-50 dark:hover:bg-gray-700 border-b dark:border-gray-600\"\n          >\n            <td class=\"py-2 px-3 text-gray-800 dark:text-gray-100\">{{ item.patente }}</td>\n            <td class=\"py-2 px-3 text-gray-800 dark:text-gray-100\">{{ item.odometro }}</td>\n\n            <td\n              class=\"py-2 px-3 font-semibold\"\n              :class=\"{\n                'text-green-600': item.estado === 'OK',\n                'text-yellow-500': item.estado === 'Pr贸xima mantenci贸n',\n                'text-red-500': item.estado === 'Requiere mantenci贸n',\n              }\"\n            >\n              {{ item.estado }}\n            </td>\n\n            <!-- Bot贸n Ver -->\n            <td class=\"py-2 px-3\">\n              <button\n                @click=\"$emit('ver-mantenciones', item)\"\n                class=\"inline-flex items-center justify-center gap-2 px-3 py-1 \n                       rounded bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium transition\"\n              >\n                <SvgIcon name=\"eye\" class=\"w-4 h-4\" />\n                <span>Ver</span>\n              </button>\n            </td>\n\n            <!-- Bot贸n Agregar -->\n            <td class=\"py-2 px-3\">\n              <button\n                @click=\"$emit('agregar-mantencion', item)\"\n                class=\"inline-flex items-center justify-center gap-2 px-3 py-1 \n                       rounded bg-[#ff6600] hover:bg-[#e65500] text-white text-xs font-medium transition\"\n              >\n                <SvgIcon name=\"plus\" class=\"w-4 h-4\" />\n                <span>Agregar</span>\n              </button>\n            </td>\n          </tr>\n\n          <tr v-if=\"filteredData.length === 0\">\n            <td colspan=\"5\" class=\"text-center py-4 text-gray-500 dark:text-gray-400\">\n              No hay registros de mantenciones\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!--  Controles de paginaci贸n -->\n    <div\n      v-if=\"totalPages > 1\"\n      class=\"flex flex-wrap justify-between items-center mt-4 text-sm text-gray-700 dark:text-gray-300 gap-2\"\n    >\n      <div class=\"flex items-center gap-2\">\n        <label for=\"rowsPerPage\" class=\"text-xs\">Filas por p谩gina:</label>\n        <select\n          id=\"rowsPerPage\"\n          v-model.number=\"rowsPerPage\"\n          class=\"border dark:border-gray-600 rounded px-2 py-1 text-xs bg-white dark:bg-gray-700\"\n        >\n          <option v-for=\"n in [10, 25, 50, 100]\" :key=\"n\" :value=\"n\">{{ n }}</option>\n        </select>\n      </div>\n\n      <div class=\"flex items-center gap-1\">\n        <button\n          @click=\"goToPage(currentPage - 1)\"\n          :disabled=\"currentPage === 1\"\n          class=\"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 \n                 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\"\n        >\n          \n        </button>\n\n        <span class=\"px-2\">P谩gina {{ currentPage }} / {{ totalPages }}</span>\n\n        <button\n          @click=\"goToPage(currentPage + 1)\"\n          :disabled=\"currentPage === totalPages\"\n          class=\"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 \n                 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\"\n        >\n          \n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\n\nexport default {\n  name: 'MantencionesTable',\n  components: { SvgIcon },\n  props: {\n    mantenciones: { type: Array, default: () => [] },\n  },\n  data() {\n    return {\n      search: '',\n      debouncedSearch: '',\n      currentPage: 1,\n      rowsPerPage: 10,\n      columns: [\n        'Patente',\n        'Od贸metro (Km)',\n        'Estado de mantenci贸n',\n        'Ver Mantenciones',\n        'Agregar Mantenci贸n',\n      ],\n    }\n  },\n  watch: {\n    search(val) {\n      clearTimeout(this._debounceTimeout)\n      this._debounceTimeout = setTimeout(() => {\n        this.debouncedSearch = val.trim().toLowerCase()\n        this.currentPage = 1\n      }, 300)\n    },\n  },\n  computed: {\n    filteredData() {\n      if (!this.debouncedSearch) return this.mantenciones\n      return this.mantenciones.filter((item) =>\n        item.patente.toLowerCase().includes(this.debouncedSearch)\n      )\n    },\n    totalPages() {\n      return Math.max(1, Math.ceil(this.filteredData.length / this.rowsPerPage))\n    },\n    paginatedData() {\n      const start = (this.currentPage - 1) * this.rowsPerPage\n      return this.filteredData.slice(start, start + this.rowsPerPage)\n    },\n  },\n  methods: {\n    goToPage(page) {\n      if (page >= 1 && page <= this.totalPages) this.currentPage = page\n    },\n  },\n}\n</script>\n"],"mappings":";;AA8HA,OAAOA,OAAM,MAAO,gCAA+B;AAEnD,eAAe;EACbC,IAAI,EAAE,mBAAmB;EACzBC,UAAU,EAAE;IAAEF;EAAQ,CAAC;EACvBG,KAAK,EAAE;IACLC,YAAY,EAAE;MAAEC,IAAI,EAAEC,KAAK;MAAEC,OAAO,EAAEA,CAAA,KAAM;IAAG;EACjD,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,eAAe,EAAE,EAAE;MACnBC,WAAW,EAAE,CAAC;MACdC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE,CACP,SAAS,EACT,eAAe,EACf,sBAAsB,EACtB,kBAAkB,EAClB,oBAAoB;IAExB;EACF,CAAC;EACDC,KAAK,EAAE;IACLL,MAAMA,CAACM,GAAG,EAAE;MACVC,YAAY,CAAC,IAAI,CAACC,gBAAgB;MAClC,IAAI,CAACA,gBAAe,GAAIC,UAAU,CAAC,MAAM;QACvC,IAAI,CAACR,eAAc,GAAIK,GAAG,CAACI,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QAC9C,IAAI,CAACT,WAAU,GAAI;MACrB,CAAC,EAAE,GAAG;IACR;EACF,CAAC;EACDU,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACb,IAAI,CAAC,IAAI,CAACZ,eAAe,EAAE,OAAO,IAAI,CAACN,YAAW;MAClD,OAAO,IAAI,CAACA,YAAY,CAACmB,MAAM,CAAEC,IAAI,IACnCA,IAAI,CAACC,OAAO,CAACL,WAAW,CAAC,CAAC,CAACM,QAAQ,CAAC,IAAI,CAAChB,eAAe,CAC1D;IACF,CAAC;IACDiB,UAAUA,CAAA,EAAG;MACX,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,IAAI,CAAC,IAAI,CAACR,YAAY,CAACS,MAAK,GAAI,IAAI,CAACnB,WAAW,CAAC;IAC3E,CAAC;IACDoB,aAAaA,CAAA,EAAG;MACd,MAAMC,KAAI,GAAI,CAAC,IAAI,CAACtB,WAAU,GAAI,CAAC,IAAI,IAAI,CAACC,WAAU;MACtD,OAAO,IAAI,CAACU,YAAY,CAACY,KAAK,CAACD,KAAK,EAAEA,KAAI,GAAI,IAAI,CAACrB,WAAW;IAChE;EACF,CAAC;EACDuB,OAAO,EAAE;IACPC,QAAQA,CAACC,IAAI,EAAE;MACb,IAAIA,IAAG,IAAK,KAAKA,IAAG,IAAK,IAAI,CAACV,UAAU,EAAE,IAAI,CAAChB,WAAU,GAAI0B,IAAG;IAClE;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}