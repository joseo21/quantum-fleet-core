{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport SvgIcon from '@/components/icons/SvgIcon.vue';\nimport ButtonIcon from '@/components/ui/ButtonIcon.vue';\nimport { computed } from 'vue';\nexport default {\n  __name: 'EmpresasView',\n  props: {\n    customers: Array,\n    selectedIds: Array,\n    selectAll: Boolean,\n    currentPage: Number,\n    rowsPerPage: Number,\n    rowsPerPageOptions: Array,\n    copiedId: Number\n  },\n  emits: ['edit', 'copy', 'prev', 'next', 'go-to', 'toggle-select'],\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const totalPages = computed(() => Math.ceil(customers.length / rowsPerPage));\n    const paginatedCustomers = computed(() => {\n      const start = (currentPage - 1) * rowsPerPage;\n      return customers.slice(start, start + rowsPerPage);\n    });\n    const toggleSelectAll = () => {\n      const ids = paginatedCustomers.value.map(c => c.id);\n      const allSelected = ids.every(id => selectedIds.includes(id));\n      $emit('toggle-select', allSelected ? [] : ids);\n    };\n    const __returned__ = {\n      totalPages,\n      paginatedCustomers,\n      toggleSelectAll,\n      SvgIcon,\n      ButtonIcon,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["SvgIcon","ButtonIcon","computed","totalPages","Math","ceil","customers","length","rowsPerPage","paginatedCustomers","start","currentPage","slice","toggleSelectAll","ids","value","map","c","id","allSelected","every","selectedIds","includes","$emit"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"flex-1 mt-4 flex flex-col\">\n    <div class=\"overflow-y-auto min-h-[400px] max-h-[400px] rounded-lg shadow flex-1\">\n      <table class=\"min-w-full bg-gray-800 text-white\">\n        <thead>\n          <tr class=\"bg-[#102372] text-left\">\n            <th class=\"py-6 px-4 w-1/12 flex items-center gap-1\">\n              <input type=\"checkbox\" v-model=\"selectAll\" @change=\"toggleSelectAll\" />\n            </th>\n            <th class=\"py-2 px-4\">Fecha de Creación</th>\n            <th class=\"py-2 px-4\">Nombre</th>\n            <th class=\"py-2 px-4\">Rut</th>\n            <th class=\"py-2 px-4\">Contacto</th>\n            <th class=\"py-2 px-4\">Ciudad</th>\n            <th class=\"py-2 px-4\">Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"customer in paginatedCustomers\" :key=\"customer.id\"\n              class=\"border-t border-gray-700 bg-gray-900 hover:bg-gray-700 transition\">\n            <td class=\"py-2 px-4\">\n              <input type=\"checkbox\" v-model=\"selectedIds\" :value=\"customer.id\" />\n            </td>\n            <td class=\"py-2 px-4\">{{ customer.createdAt }}</td>\n            <td class=\"py-2 px-4\">{{ customer.name }}</td>\n            <td class=\"py-2 px-4\">{{ customer.rut }}</td>\n            <td class=\"py-2 px-4\">{{ customer.contact }}</td>\n            <td class=\"py-2 px-4\">{{ customer.city }}</td>\n            <td class=\"py-2 px-4 flex gap-2\">\n              <ButtonIcon @click=\"$emit('edit', customer)\" icon=\"pencil\" color=\"blue\" title=\"Editar\"/>\n              <ButtonIcon @click=\"$emit('copy', customer)\" icon=\"copy\" color=\"gray\" title=\"Copiar\">\n                <span v-if=\"$parent.copiedId === customer.id\"\n                      class=\"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-700 text-white text-xs px-2 py-1 rounded\">\n                      Copiado!\n                </span>\n              </ButtonIcon>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Paginación -->\n    <div class=\"bg-gray-900 text-gray-300 p-4 rounded-b-lg shadow-inner flex flex-col sm:flex-row sm:justify-between items-center gap-4\">\n      <div class=\"flex items-center gap-2\">\n        <span>Filas por página:</span>\n        <select v-model=\"rowsPerPage\" class=\"bg-gray-800 text-white rounded px-2 py-1 focus:outline-none\">\n          <option v-for=\"option in rowsPerPageOptions\" :key=\"option\" :value=\"option\">{{ option }}</option>\n        </select>\n      </div>\n\n      <ul class=\"flex justify-center gap-1 text-gray-300\">\n        <li>\n          <button @click=\"$emit('prev')\" :disabled=\"currentPage === 1\"\n                  class=\"grid w-8 h-8 place-content-center rounded border border-gray-700 transition-colors hover:bg-gray-700 disabled:opacity-50\"\n                  aria-label=\"Previous page\">\n            <SvgIcon name=\"chevron-left\" class=\"w-4 h-4\" />\n          </button>\n        </li>\n\n        <li v-for=\"page in totalPages\" :key=\"page\">\n          <button @click=\"$emit('go-to', page)\" :class=\"[\n            'w-8 h-8 text-sm font-medium rounded border flex items-center justify-center',\n            page === currentPage ? 'bg-indigo-600 border-indigo-600 text-white' : 'border-gray-700 hover:bg-gray-700'\n          ]\">\n            {{ page }}\n          </button>\n        </li>\n\n        <li>\n          <button @click=\"$emit('next')\" :disabled=\"currentPage === totalPages\"\n                  class=\"grid w-8 h-8 place-content-center rounded border border-gray-700 transition-colors hover:bg-gray-700 disabled:opacity-50\"\n                  aria-label=\"Next page\">\n            <SvgIcon name=\"chevron-right\" class=\"w-4 h-4\" />\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\nimport ButtonIcon from '@/components/ui/ButtonIcon.vue'\nimport { computed } from 'vue'\n\ndefineProps({\n  customers: Array,\n  selectedIds: Array,\n  selectAll: Boolean,\n  currentPage: Number,\n  rowsPerPage: Number,\n  rowsPerPageOptions: Array,\n  copiedId: Number\n})\n\ndefineEmits(['edit', 'copy', 'prev', 'next', 'go-to', 'toggle-select'])\n\nconst totalPages = computed(() => Math.ceil(customers.length / rowsPerPage))\nconst paginatedCustomers = computed(() => {\n  const start = (currentPage - 1) * rowsPerPage\n  return customers.slice(start, start + rowsPerPage)\n})\n\nconst toggleSelectAll = () => {\n  const ids = paginatedCustomers.value.map(c => c.id)\n  const allSelected = ids.every(id => selectedIds.includes(id))\n  $emit('toggle-select', allSelected ? [] : ids)\n}\n</script>\n"],"mappings":";;;AAkFA,OAAOA,OAAO,MAAM,gCAA+B;AACnD,OAAOC,UAAU,MAAM,gCAA+B;AACtD,SAASC,QAAQ,QAAQ,KAAI;;;;;;;;;;;;;;;;;IAc7B,MAAMC,UAAU,GAAGD,QAAQ,CAAC,MAAME,IAAI,CAACC,IAAI,CAACC,SAAS,CAACC,MAAM,GAAGC,WAAW,CAAC;IAC3E,MAAMC,kBAAkB,GAAGP,QAAQ,CAAC,MAAM;MACxC,MAAMQ,KAAK,GAAG,CAACC,WAAW,GAAG,CAAC,IAAIH,WAAU;MAC5C,OAAOF,SAAS,CAACM,KAAK,CAACF,KAAK,EAAEA,KAAK,GAAGF,WAAW;IACnD,CAAC;IAED,MAAMK,eAAe,GAAGA,CAAA,KAAM;MAC5B,MAAMC,GAAG,GAAGL,kBAAkB,CAACM,KAAK,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE;MAClD,MAAMC,WAAW,GAAGL,GAAG,CAACM,KAAK,CAACF,EAAE,IAAIG,WAAW,CAACC,QAAQ,CAACJ,EAAE,CAAC;MAC5DK,KAAK,CAAC,eAAe,EAAEJ,WAAW,GAAG,EAAE,GAAGL,GAAG;IAC/C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}