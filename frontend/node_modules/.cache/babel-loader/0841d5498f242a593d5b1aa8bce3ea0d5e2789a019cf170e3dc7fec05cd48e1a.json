{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport SvgIcon from '@/components/icons/SvgIcon.vue';\nimport { computed, ref, watch } from 'vue';\nexport default {\n  __name: 'EmpresasTable',\n  props: {\n    customers: Array,\n    searchTerm: String,\n    selectedIds: Array,\n    rowsPerPage: Number,\n    rowsPerPageOptions: Array,\n    currentPage: Number,\n    copiedId: Number\n  },\n  emits: ['edit', 'copy', 'delete-selected', 'toggle-select-all', 'next-page', 'previous-page', 'change-rows-per-page'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n    const emit = __emit;\n    const selectedIdsInternal = ref([...props.selectedIds]);\n    watch(selectedIdsInternal, val => emit('update:selected-ids', val));\n    const paginatedCustomers = computed(() => {\n      const start = (props.currentPage - 1) * props.rowsPerPage;\n      return props.customers.slice(start, start + props.rowsPerPage);\n    });\n    const totalPages = computed(() => Math.ceil(props.customers.length / props.rowsPerPage));\n    const allSelected = computed(() => paginatedCustomers.value.every(c => selectedIdsInternal.value.includes(c.id)));\n    const __returned__ = {\n      props,\n      emit,\n      selectedIdsInternal,\n      paginatedCustomers,\n      totalPages,\n      allSelected,\n      SvgIcon,\n      computed,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["SvgIcon","computed","ref","watch","props","__props","emit","__emit","selectedIdsInternal","selectedIds","val","paginatedCustomers","start","currentPage","rowsPerPage","customers","slice","totalPages","Math","ceil","length","allSelected","value","every","c","includes","id"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/EmpresasUi/EmpresasTable.vue"],"sourcesContent":["<template>\n  <div class=\"w-full flex flex-col\">\n    <!-- Barra de búsqueda y botones -->\n    <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\">\n      <div class=\"flex w-full sm:w-2/3 md:w-1/2\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" placeholder=\"Buscar empresa...\"\n            class=\"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\" />\n          <button v-if=\"searchTerm\" @click=\"$emit('update:searchTerm', '')\"\n            class=\"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\">\n            Limpiar\n          </button>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2\">\n        <button @click=\"$emit('open-add-modal')\"\n          class=\"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\">\n          <SvgIcon name=\"plus\" class=\"w-5 h-5\" />\n          <span>Agregar Empresa</span>\n        </button>\n\n        <transition name=\"fade-scale\">\n          <button v-if=\"selectedIds.length > 0\" @click=\"$emit('delete-selected')\"\n            class=\"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\">\n            <SvgIcon name=\"trash\" class=\"w-5 h-5\" />\n          </button>\n        </transition>\n      </div>\n    </div>\n\n    <!-- Tabla -->\n    <div class=\"border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm overflow-y-auto max-h-[500px]\">\n      <table class=\"min-w-full text-xs sm:text-sm md:text-base text-center border-collapse\">\n        <thead class=\"bg-[#102372] dark:bg-[#102372] sticky top-0 z-10 text-gray-100\">\n          <tr>\n            <th class=\"py-2 px-3\"><input type=\"checkbox\" :checked=\"allSelected\" @change=\"$emit('toggle-select-all')\" /></th>\n            <th class=\"py-2 px-3\">Fecha de Creación</th>\n            <th class=\"py-2 px-3\">Nombre</th>\n            <th class=\"py-2 px-3\">RUT</th>\n            <th class=\"py-2 px-3\">Contacto</th>\n            <th class=\"py-2 px-3\">Ciudad</th>\n            <th class=\"py-2 px-3\">Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"customer in paginatedCustomers\" :key=\"customer.id\"\n            class=\"hover:bg-gray-50 dark:hover:bg-gray-700 border-b dark:border-gray-600 transition\">\n            <td class=\"py-2 px-3\"><input type=\"checkbox\" :value=\"customer.id\" v-model=\"selectedIdsInternal\" /></td>\n            <td class=\"py-2 px-3\">{{ customer.createdAt }}</td>\n            <td class=\"py-2 px-3\">{{ customer.name }}</td>\n            <td class=\"py-2 px-3\">{{ customer.rut }}</td>\n            <td class=\"py-2 px-3\">{{ customer.contact }}</td>\n            <td class=\"py-2 px-3\">{{ customer.city }}</td>\n            <td class=\"py-2 px-3 flex justify-center gap-2\">\n              <button @click=\"$emit('edit', customer)\" title=\"Editar\"\n                class=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md flex items-center gap-1\">\n                <SvgIcon name=\"pencil\" class=\"w-4 h-4\" />\n                <span class=\"hidden sm:inline\">Editar</span>\n              </button>\n              <button @click=\"$emit('copy', customer)\" title=\"Copiar\"\n                class=\"px-3 py-1 bg-gray-800 text-white rounded hover:bg-gray-700 relative flex items-center gap-1\">\n                <SvgIcon name=\"copy\" class=\"w-4 h-4\" />\n                <span v-if=\"copiedId === customer.id\"\n                  class=\"absolute top-6 left-1/2 transform -translate-x-1/2 bg-gray-700 text-white text-xs px-2 py-1 rounded\">\n                  Copiado!\n                </span>\n              </button>\n            </td>\n          </tr>\n          <tr v-if=\"paginatedCustomers.length === 0\">\n            <td colspan=\"7\" class=\"text-center py-4 text-gray-500 dark:text-gray-400\">\n              No hay empresas registradas\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Paginación -->\n    <div\n      class=\"flex flex-col sm:flex-row justify-between items-center mt-4 text-xs sm:text-sm text-gray-700 dark:text-gray-300 gap-2 bg-[#f3f3f3] dark:bg-gray-800 p-2 rounded-md shadow-sm\">\n      <div class=\"flex items-center gap-2\">\n        <label for=\"rowsPerPage\" class=\"text-xs\">Filas por página:</label>\n        <select id=\"rowsPerPage\" v-model.number=\"rowsPerPage\" @change=\"$emit('change-rows-per-page', rowsPerPage)\"\n          class=\"border dark:border-gray-600 rounded px-2 py-1 text-xs sm:text-sm bg-white dark:bg-gray-700\">\n          <option v-for=\"n in rowsPerPageOptions\" :key=\"n\" :value=\"n\">{{ n }}</option>\n        </select>\n      </div>\n\n      <div class=\"flex items-center gap-2\">\n        <button @click=\"$emit('previous-page')\" :disabled=\"currentPage === 1\"\n          class=\"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\">\n          <SvgIcon name=\"chevron-left\" class=\"w-4 h-4\" />\n        </button>\n        <span>Página {{ currentPage }} / {{ totalPages }}</span>\n        <button @click=\"$emit('next-page')\" :disabled=\"currentPage === totalPages\"\n          class=\"px-2 py-1 rounded border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition\">\n          <SvgIcon name=\"chevron-right\" class=\"w-4 h-4\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\nimport { computed, ref, watch } from 'vue'\n\nconst props = defineProps({\n  customers: Array,\n  searchTerm: String,\n  selectedIds: Array,\n  rowsPerPage: Number,\n  rowsPerPageOptions: Array,\n  currentPage: Number,\n  copiedId: Number\n})\n\nconst emit = defineEmits(['edit', 'copy', 'delete-selected', 'toggle-select-all', 'next-page', 'previous-page', 'change-rows-per-page'])\n\nconst selectedIdsInternal = ref([...props.selectedIds])\nwatch(selectedIdsInternal, (val) => emit('update:selected-ids', val))\n\nconst paginatedCustomers = computed(() => {\n  const start = (props.currentPage - 1) * props.rowsPerPage\n  return props.customers.slice(start, start + props.rowsPerPage)\n})\n\nconst totalPages = computed(() => Math.ceil(props.customers.length / props.rowsPerPage))\nconst allSelected = computed(() => paginatedCustomers.value.every(c => selectedIdsInternal.value.includes(c.id)))\n</script>\n"],"mappings":";;AA6GA,OAAOA,OAAO,MAAM,gCAA+B;AACnD,SAASC,QAAQ,EAAEC,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;;;;;;;;;IAEzC,MAAMC,KAAK,GAAGC,OAAA;IAUd,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,mBAAmB,GAAGN,GAAG,CAAC,CAAC,GAAGE,KAAK,CAACK,WAAW,CAAC;IACtDN,KAAK,CAACK,mBAAmB,EAAGE,GAAG,IAAKJ,IAAI,CAAC,qBAAqB,EAAEI,GAAG,CAAC;IAEpE,MAAMC,kBAAkB,GAAGV,QAAQ,CAAC,MAAM;MACxC,MAAMW,KAAK,GAAG,CAACR,KAAK,CAACS,WAAW,GAAG,CAAC,IAAIT,KAAK,CAACU,WAAU;MACxD,OAAOV,KAAK,CAACW,SAAS,CAACC,KAAK,CAACJ,KAAK,EAAEA,KAAK,GAAGR,KAAK,CAACU,WAAW;IAC/D,CAAC;IAED,MAAMG,UAAU,GAAGhB,QAAQ,CAAC,MAAMiB,IAAI,CAACC,IAAI,CAACf,KAAK,CAACW,SAAS,CAACK,MAAM,GAAGhB,KAAK,CAACU,WAAW,CAAC;IACvF,MAAMO,WAAW,GAAGpB,QAAQ,CAAC,MAAMU,kBAAkB,CAACW,KAAK,CAACC,KAAK,CAACC,CAAC,IAAIhB,mBAAmB,CAACc,KAAK,CAACG,QAAQ,CAACD,CAAC,CAACE,EAAE,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}