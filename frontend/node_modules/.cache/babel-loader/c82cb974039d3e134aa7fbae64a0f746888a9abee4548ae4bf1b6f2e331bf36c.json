{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { ref, watch, computed } from 'vue';\nimport SvgIcon from '@/components/icons/SvgIcon.vue';\nimport EmpresasTable from '@/components/EmpresasUi/EmpresasTable.vue';\nimport AgregarEmpresasModal from '@/components/EmpresasUi/AgregarEmpresasModal.vue';\nimport EditarEmpresasSidebar from '@/components/EmpresasUi/EditarEmpresasSidebar.vue';\nexport default {\n  components: {\n    SvgIcon,\n    EmpresasTable,\n    AgregarEmpresasModal,\n    EditarEmpresasSidebar\n  },\n  props: {\n    customers: Array,\n    templates: Array\n  },\n  data() {\n    return {\n      showAddModal: false,\n      showEditSidebar: false,\n      searchTerm: '',\n      selectedIds: [],\n      rowsPerPageOptions: [5, 10, 20, 50],\n      rowsPerPage: 5,\n      currentPage: 1,\n      editingCompany: {},\n      copiedId: null\n    };\n  },\n  methods: {\n    addCompany(newCompany) {\n      const id = Date.now();\n      const createdAt = new Date().toISOString().slice(0, 10);\n      this.customers.push({\n        id,\n        createdAt,\n        ...newCompany\n      });\n      this.showAddModal = false;\n    },\n    editCustomer(customer) {\n      this.editingCompany = {\n        ...customer\n      };\n      this.showEditSidebar = true;\n    },\n    updateCompany(updated) {\n      const index = this.customers.findIndex(c => c.id === updated.id);\n      if (index !== -1) this.customers[index] = {\n        ...updated\n      };\n      this.showEditSidebar = false;\n    },\n    copyCustomerData(customer) {\n      const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`;\n      navigator.clipboard.writeText(data).then(() => {\n        this.copiedId = customer.id;\n        setTimeout(() => this.copiedId = null, 1000);\n      });\n    },\n    deleteSelected() {\n      this.customers = this.customers.filter(c => !this.selectedIds.includes(c.id));\n      this.selectedIds = [];\n    }\n  }\n};","map":{"version":3,"names":["ref","watch","computed","SvgIcon","EmpresasTable","AgregarEmpresasModal","EditarEmpresasSidebar","components","props","customers","Array","templates","data","showAddModal","showEditSidebar","searchTerm","selectedIds","rowsPerPageOptions","rowsPerPage","currentPage","editingCompany","copiedId","methods","addCompany","newCompany","id","Date","now","createdAt","toISOString","slice","push","editCustomer","customer","updateCompany","updated","index","findIndex","c","copyCustomerData","name","rut","contact","navigator","clipboard","writeText","then","setTimeout","deleteSelected","filter","includes"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-4 w-full flex flex-col\">\n    <!-- ðŸ” Barra de bÃºsqueda + Botones -->\n    <div class=\"flex flex-col sm:flex-row justify-between items-center mb-4 gap-3\">\n      <div class=\"flex w-full sm:w-2/3 md:w-1/2\">\n        <div class=\"flex w-full border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </div>\n          <input v-model=\"searchTerm\" placeholder=\"Buscar empresa...\"\n            class=\"flex-1 p-2 text-sm sm:text-base bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none\" />\n          <button v-if=\"searchTerm\" @click=\"searchTerm = ''\"\n            class=\"px-4 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-sm transition\">\n            Limpiar\n          </button>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2\">\n        <button @click.prevent=\"showAddModal = true\"\n          class=\"flex items-center justify-center gap-2 px-4 py-2 bg-[#ff6600] hover:bg-[#e65500] text-white rounded-md font-medium transition\">\n          <SvgIcon name=\"plus\" class=\"w-5 h-5\" />\n          <span>Agregar Empresa</span>\n        </button>\n\n        <transition name=\"fade-scale\">\n          <button v-if=\"selectedIds.length > 0\" @click=\"deleteSelected\"\n            class=\"flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition\">\n            <SvgIcon name=\"trash\" class=\"w-5 h-5\" />\n          </button>\n        </transition>\n      </div>\n    </div>\n\n    <!-- ðŸ“‹ Tabla -->\n    <EmpresasTable\n      :customers=\"customers\"\n      :searchTerm=\"searchTerm\"\n      :selectedIds=\"selectedIds\"\n      :rowsPerPageOptions=\"rowsPerPageOptions\"\n      v-model:rowsPerPage=\"rowsPerPage\"\n      v-model:currentPage=\"currentPage\"\n      @edit=\"editCustomer\"\n      @copy=\"copyCustomerData\"\n      @update:selectedIds=\"val => selectedIds = val\"\n    />\n\n    <!-- ðŸŸ  Modal Agregar -->\n    <AgregarEmpresasModal\n      v-if=\"showAddModal\"\n      :templates=\"templates\"\n      @close=\"showAddModal = false\"\n      @add=\"addCompany\"\n    />\n\n    <!-- ðŸŸ£ Sidebar EdiciÃ³n -->\n    <EditarEmpresasSidebar\n      v-if=\"showEditSidebar\"\n      :company=\"editingCompany\"\n      :templates=\"templates\"\n      @close=\"showEditSidebar = false\"\n      @update=\"updateCompany\"\n    />\n  </div>\n</template>\n\n<script>\nimport { ref, watch, computed } from 'vue'\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\nimport EmpresasTable from '@/components/EmpresasUi/EmpresasTable.vue'\nimport AgregarEmpresasModal from '@/components/EmpresasUi/AgregarEmpresasModal.vue'\nimport EditarEmpresasSidebar from '@/components/EmpresasUi/EditarEmpresasSidebar.vue'\n\nexport default {\n  components: { SvgIcon, EmpresasTable, AgregarEmpresasModal, EditarEmpresasSidebar },\n  props: {\n    customers: Array,\n    templates: Array\n  },\n  data() {\n    return {\n      showAddModal: false,\n      showEditSidebar: false,\n      searchTerm: '',\n      selectedIds: [],\n      rowsPerPageOptions: [5, 10, 20, 50],\n      rowsPerPage: 5,\n      currentPage: 1,\n      editingCompany: {},\n      copiedId: null\n    }\n  },\n  methods: {\n    addCompany(newCompany) {\n      const id = Date.now()\n      const createdAt = new Date().toISOString().slice(0, 10)\n      this.customers.push({ id, createdAt, ...newCompany })\n      this.showAddModal = false\n    },\n    editCustomer(customer) {\n      this.editingCompany = { ...customer }\n      this.showEditSidebar = true\n    },\n    updateCompany(updated) {\n      const index = this.customers.findIndex(c => c.id === updated.id)\n      if (index !== -1) this.customers[index] = { ...updated }\n      this.showEditSidebar = false\n    },\n    copyCustomerData(customer) {\n      const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`\n      navigator.clipboard.writeText(data).then(() => {\n        this.copiedId = customer.id\n        setTimeout(() => this.copiedId = null, 1000)\n      })\n    },\n    deleteSelected() {\n      this.customers = this.customers.filter(c => !this.selectedIds.includes(c.id))\n      this.selectedIds = []\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n.fade-scale-enter-active,\n.fade-scale-leave-active {\n  transition: all 0.3s ease;\n}\n.fade-scale-enter-from,\n.fade-scale-leave-to {\n  opacity: 0;\n  transform: scale(0.8);\n}\n</style>\n"],"mappings":";;;AAmEA,SAASA,GAAG,EAAEC,KAAK,EAAEC,QAAO,QAAS,KAAI;AACzC,OAAOC,OAAM,MAAO,gCAA+B;AACnD,OAAOC,aAAY,MAAO,2CAA0C;AACpE,OAAOC,oBAAmB,MAAO,kDAAiD;AAClF,OAAOC,qBAAoB,MAAO,mDAAkD;AAEpF,eAAe;EACbC,UAAU,EAAE;IAAEJ,OAAO;IAAEC,aAAa;IAAEC,oBAAoB;IAAEC;EAAsB,CAAC;EACnFE,KAAK,EAAE;IACLC,SAAS,EAAEC,KAAK;IAChBC,SAAS,EAAED;EACb,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,KAAK;MACnBC,eAAe,EAAE,KAAK;MACtBC,UAAU,EAAE,EAAE;MACdC,WAAW,EAAE,EAAE;MACfC,kBAAkB,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MACnCC,WAAW,EAAE,CAAC;MACdC,WAAW,EAAE,CAAC;MACdC,cAAc,EAAE,CAAC,CAAC;MAClBC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,UAAU,EAAE;MACrB,MAAMC,EAAC,GAAIC,IAAI,CAACC,GAAG,CAAC;MACpB,MAAMC,SAAQ,GAAI,IAAIF,IAAI,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE;MACtD,IAAI,CAACrB,SAAS,CAACsB,IAAI,CAAC;QAAEN,EAAE;QAAEG,SAAS;QAAE,GAAGJ;MAAW,CAAC;MACpD,IAAI,CAACX,YAAW,GAAI,KAAI;IAC1B,CAAC;IACDmB,YAAYA,CAACC,QAAQ,EAAE;MACrB,IAAI,CAACb,cAAa,GAAI;QAAE,GAAGa;MAAS;MACpC,IAAI,CAACnB,eAAc,GAAI,IAAG;IAC5B,CAAC;IACDoB,aAAaA,CAACC,OAAO,EAAE;MACrB,MAAMC,KAAI,GAAI,IAAI,CAAC3B,SAAS,CAAC4B,SAAS,CAACC,CAAA,IAAKA,CAAC,CAACb,EAAC,KAAMU,OAAO,CAACV,EAAE;MAC/D,IAAIW,KAAI,KAAM,CAAC,CAAC,EAAE,IAAI,CAAC3B,SAAS,CAAC2B,KAAK,IAAI;QAAE,GAAGD;MAAQ;MACvD,IAAI,CAACrB,eAAc,GAAI,KAAI;IAC7B,CAAC;IACDyB,gBAAgBA,CAACN,QAAQ,EAAE;MACzB,MAAMrB,IAAG,GAAI,WAAWqB,QAAQ,CAACO,IAAI,UAAUP,QAAQ,CAACQ,GAAG,eAAeR,QAAQ,CAACS,OAAO,EAAC;MAC3FC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACjC,IAAI,CAAC,CAACkC,IAAI,CAAC,MAAM;QAC7C,IAAI,CAACzB,QAAO,GAAIY,QAAQ,CAACR,EAAC;QAC1BsB,UAAU,CAAC,MAAM,IAAI,CAAC1B,QAAO,GAAI,IAAI,EAAE,IAAI;MAC7C,CAAC;IACH,CAAC;IACD2B,cAAcA,CAAA,EAAG;MACf,IAAI,CAACvC,SAAQ,GAAI,IAAI,CAACA,SAAS,CAACwC,MAAM,CAACX,CAAA,IAAK,CAAC,IAAI,CAACtB,WAAW,CAACkC,QAAQ,CAACZ,CAAC,CAACb,EAAE,CAAC;MAC5E,IAAI,CAACT,WAAU,GAAI,EAAC;IACtB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}