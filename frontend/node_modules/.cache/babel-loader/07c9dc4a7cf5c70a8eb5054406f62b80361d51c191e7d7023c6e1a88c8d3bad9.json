{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { ref } from 'vue';\nimport MantencionesTable from '@/components/MantencionesUi/MantencionesTable.vue';\nimport ModalAgregar from '@/components/MantencionesUi/ModalAgregar.vue';\nimport ModalVerMantenciones from '@/components/MantencionesUi/ModalVerMantenciones.vue';\nexport default {\n  __name: 'MantencionesView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const vehiculos = ref([{\n      patente: 'ABC123',\n      odometro: 4500,\n      estado: 'OK'\n    }, {\n      patente: 'XYZ789',\n      odometro: 72000,\n      estado: 'Requiere mantenci贸n'\n    }, {\n      patente: 'DEF456',\n      odometro: 60000,\n      estado: 'Pr贸xima mantenci贸n'\n    }]);\n\n    // Mantenciones por todos los veh铆culos\n    const mantenciones = ref([]);\n\n    // Estado de modales\n    const showAddModal = ref(false);\n    const showViewModal = ref(false);\n    const patenteSeleccionada = ref('');\n\n    // Abrir modal agregar\n    function abrirModalAgregar(vehiculo) {\n      patenteSeleccionada.value = vehiculo.patente;\n      showAddModal.value = true;\n    }\n\n    // Guardar mantenci贸n desde modal agregar\n    function guardarMantencion(data) {\n      // Validar duplicados\n      const existe = mantenciones.value.some(m => m.patente === patenteSeleccionada.value && m.name === data.name);\n      if (existe) {\n        alert('Este veh铆culo ya tiene esta mantenci贸n.');\n        return;\n      }\n\n      // Agregar fecha de creaci贸n\n      data.patente = patenteSeleccionada.value;\n      data.fechaCreacion = new Date();\n      mantenciones.value.push({\n        ...data\n      });\n    }\n\n    // Cerrar modal agregar\n    function cerrarModalAgregar() {\n      showAddModal.value = false;\n    }\n\n    // Abrir modal ver mantenciones\n    function verMantenciones(vehiculo) {\n      patenteSeleccionada.value = vehiculo.patente;\n      showViewModal.value = true;\n    }\n\n    // Cerrar modal ver\n    function cerrarModalVer() {\n      showViewModal.value = false;\n    }\n\n    // Editar mantenci贸n\n    function editarMantencion(data) {\n      // se quita el index\n      // Abrir modal agregar con datos precargados\n      patenteSeleccionada.value = data.patente;\n      showAddModal.value = true;\n      // L贸gica para precargar datos en modal agregar (puede agregarse)\n    }\n\n    // Eliminar mantenci贸n\n    function eliminarMantencion(index) {\n      if (confirm('驴Seguro que quieres eliminar esta mantenci贸n?')) {\n        mantenciones.value.splice(index, 1);\n      }\n    }\n    const __returned__ = {\n      vehiculos,\n      mantenciones,\n      showAddModal,\n      showViewModal,\n      patenteSeleccionada,\n      abrirModalAgregar,\n      guardarMantencion,\n      cerrarModalAgregar,\n      verMantenciones,\n      cerrarModalVer,\n      editarMantencion,\n      eliminarMantencion,\n      ref,\n      MantencionesTable,\n      ModalAgregar,\n      ModalVerMantenciones\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","MantencionesTable","ModalAgregar","ModalVerMantenciones","vehiculos","patente","odometro","estado","mantenciones","showAddModal","showViewModal","patenteSeleccionada","abrirModalAgregar","vehiculo","value","guardarMantencion","data","existe","some","m","name","alert","fechaCreacion","Date","push","cerrarModalAgregar","verMantenciones","cerrarModalVer","editarMantencion","eliminarMantencion","index","confirm","splice"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/MantencionesView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2\">\n    <!-- Ь Tabla de veh铆culos -->\n    <MantencionesTable \n      :mantenciones=\"vehiculos\" \n      @ver-mantenciones=\"verMantenciones\"\n      @agregar-mantencion=\"abrirModalAgregar\" \n    />\n\n    <!--  Modal Agregar -->\n    <ModalAgregar \n      v-if=\"showAddModal\" \n      :show-add-modal=\"showAddModal\" \n      :selected-patente=\"patenteSeleccionada\" \n      :mantenciones=\"mantenciones\" \n      @close=\"cerrarModalAgregar\" \n      @save=\"guardarMantencion\"\n    />\n\n    <!--  Modal Ver Mantenciones -->\n    <ModalVerMantenciones \n      v-if=\"showViewModal\" \n      :show-view-modal=\"showViewModal\" \n      :selected-patente=\"patenteSeleccionada\"\n      :mantenciones=\"mantenciones\"\n      :vehiculos=\"vehiculos\"\n      @close=\"cerrarModalVer\"\n      @editar=\"editarMantencion\"\n      @eliminar=\"eliminarMantencion\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport MantencionesTable from '@/components/MantencionesUi/MantencionesTable.vue'\nimport ModalAgregar from '@/components/MantencionesUi/ModalAgregar.vue'\nimport ModalVerMantenciones from '@/components/MantencionesUi/ModalVerMantenciones.vue'\n\nconst vehiculos = ref([\n  { patente: 'ABC123', odometro: 4500, estado: 'OK' },\n  { patente: 'XYZ789', odometro: 72000, estado: 'Requiere mantenci贸n' },\n  { patente: 'DEF456', odometro: 60000, estado: 'Pr贸xima mantenci贸n' },\n])\n\n// Mantenciones por todos los veh铆culos\nconst mantenciones = ref([])\n\n// Estado de modales\nconst showAddModal = ref(false)\nconst showViewModal = ref(false)\nconst patenteSeleccionada = ref('')\n\n// Abrir modal agregar\nfunction abrirModalAgregar(vehiculo) {\n  patenteSeleccionada.value = vehiculo.patente\n  showAddModal.value = true\n}\n\n// Guardar mantenci贸n desde modal agregar\nfunction guardarMantencion(data) {\n  // Validar duplicados\n  const existe = mantenciones.value.some(\n    m => m.patente === patenteSeleccionada.value && m.name === data.name\n  )\n  if(existe){\n    alert('Este veh铆culo ya tiene esta mantenci贸n.')\n    return\n  }\n\n  // Agregar fecha de creaci贸n\n  data.patente = patenteSeleccionada.value\n  data.fechaCreacion = new Date()\n  mantenciones.value.push({...data})\n}\n\n// Cerrar modal agregar\nfunction cerrarModalAgregar() {\n  showAddModal.value = false\n}\n\n// Abrir modal ver mantenciones\nfunction verMantenciones(vehiculo) {\n  patenteSeleccionada.value = vehiculo.patente\n  showViewModal.value = true\n}\n\n// Cerrar modal ver\nfunction cerrarModalVer() {\n  showViewModal.value = false\n}\n\n// Editar mantenci贸n\nfunction editarMantencion(data) { // se quita el index\n  // Abrir modal agregar con datos precargados\n  patenteSeleccionada.value = data.patente\n  showAddModal.value = true\n  // L贸gica para precargar datos en modal agregar (puede agregarse)\n}\n\n// Eliminar mantenci贸n\nfunction eliminarMantencion(index) {\n  if(confirm('驴Seguro que quieres eliminar esta mantenci贸n?')){\n    mantenciones.value.splice(index,1)\n  }\n}\n\n</script>\n"],"mappings":";;;AAkCA,SAASA,GAAG,QAAQ,KAAI;AACxB,OAAOC,iBAAiB,MAAM,mDAAkD;AAChF,OAAOC,YAAY,MAAM,8CAA6C;AACtE,OAAOC,oBAAoB,MAAM,sDAAqD;;;;;;;IAEtF,MAAMC,SAAS,GAAGJ,GAAG,CAAC,CACpB;MAAEK,OAAO,EAAE,QAAQ;MAAEC,QAAQ,EAAE,IAAI;MAAEC,MAAM,EAAE;IAAK,CAAC,EACnD;MAAEF,OAAO,EAAE,QAAQ;MAAEC,QAAQ,EAAE,KAAK;MAAEC,MAAM,EAAE;IAAsB,CAAC,EACrE;MAAEF,OAAO,EAAE,QAAQ;MAAEC,QAAQ,EAAE,KAAK;MAAEC,MAAM,EAAE;IAAqB,CAAC,CACrE;;IAED;IACA,MAAMC,YAAY,GAAGR,GAAG,CAAC,EAAE;;IAE3B;IACA,MAAMS,YAAY,GAAGT,GAAG,CAAC,KAAK;IAC9B,MAAMU,aAAa,GAAGV,GAAG,CAAC,KAAK;IAC/B,MAAMW,mBAAmB,GAAGX,GAAG,CAAC,EAAE;;IAElC;IACA,SAASY,iBAAiBA,CAACC,QAAQ,EAAE;MACnCF,mBAAmB,CAACG,KAAK,GAAGD,QAAQ,CAACR,OAAM;MAC3CI,YAAY,CAACK,KAAK,GAAG,IAAG;IAC1B;;IAEA;IACA,SAASC,iBAAiBA,CAACC,IAAI,EAAE;MAC/B;MACA,MAAMC,MAAM,GAAGT,YAAY,CAACM,KAAK,CAACI,IAAI,CACpCC,CAAC,IAAIA,CAAC,CAACd,OAAO,KAAKM,mBAAmB,CAACG,KAAK,IAAIK,CAAC,CAACC,IAAI,KAAKJ,IAAI,CAACI,IAClE;MACA,IAAGH,MAAM,EAAC;QACRI,KAAK,CAAC,yCAAyC;QAC/C;MACF;;MAEA;MACAL,IAAI,CAACX,OAAO,GAAGM,mBAAmB,CAACG,KAAI;MACvCE,IAAI,CAACM,aAAa,GAAG,IAAIC,IAAI,CAAC;MAC9Bf,YAAY,CAACM,KAAK,CAACU,IAAI,CAAC;QAAC,GAAGR;MAAI,CAAC;IACnC;;IAEA;IACA,SAASS,kBAAkBA,CAAA,EAAG;MAC5BhB,YAAY,CAACK,KAAK,GAAG,KAAI;IAC3B;;IAEA;IACA,SAASY,eAAeA,CAACb,QAAQ,EAAE;MACjCF,mBAAmB,CAACG,KAAK,GAAGD,QAAQ,CAACR,OAAM;MAC3CK,aAAa,CAACI,KAAK,GAAG,IAAG;IAC3B;;IAEA;IACA,SAASa,cAAcA,CAAA,EAAG;MACxBjB,aAAa,CAACI,KAAK,GAAG,KAAI;IAC5B;;IAEA;IACA,SAASc,gBAAgBA,CAACZ,IAAI,EAAE;MAAE;MAChC;MACAL,mBAAmB,CAACG,KAAK,GAAGE,IAAI,CAACX,OAAM;MACvCI,YAAY,CAACK,KAAK,GAAG,IAAG;MACxB;IACF;;IAEA;IACA,SAASe,kBAAkBA,CAACC,KAAK,EAAE;MACjC,IAAGC,OAAO,CAAC,+CAA+C,CAAC,EAAC;QAC1DvB,YAAY,CAACM,KAAK,CAACkB,MAAM,CAACF,KAAK,EAAC,CAAC;MACnC;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}