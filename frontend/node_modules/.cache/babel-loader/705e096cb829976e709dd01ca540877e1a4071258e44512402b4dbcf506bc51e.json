{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-2 sm:p-4 w-full flex flex-col\"\n};\nexport function render(_ctx, _cache) {\n  const _component_CompanyTable = _resolveComponent(\"CompanyTable\");\n  const _component_AddCompanyModal = _resolveComponent(\"AddCompanyModal\");\n  const _component_EditCompanySidebar = _resolveComponent(\"EditCompanySidebar\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_CompanyTable, {\n    customers: _ctx.customers,\n    selectedIds: _ctx.selectedIds,\n    \"onUpdate:selectedIds\": _cache[0] || (_cache[0] = $event => _ctx.selectedIds = $event),\n    searchTerm: _ctx.searchTerm,\n    \"onUpdate:searchTerm\": _cache[1] || (_cache[1] = $event => _ctx.searchTerm = $event),\n    rowsPerPage: _ctx.rowsPerPage,\n    \"onUpdate:rowsPerPage\": _cache[2] || (_cache[2] = $event => _ctx.rowsPerPage = $event),\n    currentPage: _ctx.currentPage,\n    \"onUpdate:currentPage\": _cache[3] || (_cache[3] = $event => _ctx.currentPage = $event),\n    onEdit: _ctx.editCustomer,\n    onCopy: _ctx.copyCustomerData,\n    onDeleteSelected: _ctx.deleteSelected\n  }, null, 8 /* PROPS */, [\"customers\", \"selectedIds\", \"searchTerm\", \"rowsPerPage\", \"currentPage\", \"onEdit\", \"onCopy\", \"onDeleteSelected\"]), _createVNode(_component_AddCompanyModal, {\n    show: _ctx.showAddModal,\n    \"onUpdate:show\": _cache[4] || (_cache[4] = $event => _ctx.showAddModal = $event),\n    templates: _ctx.templates,\n    onAdd: _ctx.addCompany\n  }, null, 8 /* PROPS */, [\"show\", \"templates\", \"onAdd\"]), _createVNode(_component_EditCompanySidebar, {\n    show: _ctx.showEditSidebar,\n    \"onUpdate:show\": _cache[5] || (_cache[5] = $event => _ctx.showEditSidebar = $event),\n    company: _ctx.editingCompany,\n    templates: _ctx.templates,\n    onUpdate: _ctx.updateCompany\n  }, null, 8 /* PROPS */, [\"show\", \"company\", \"templates\", \"onUpdate\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_CompanyTable","customers","_ctx","selectedIds","$event","searchTerm","rowsPerPage","currentPage","onEdit","editCustomer","onCopy","copyCustomerData","onDeleteSelected","deleteSelected","_component_AddCompanyModal","show","showAddModal","templates","onAdd","addCompany","_component_EditCompanySidebar","showEditSidebar","company","editingCompany","onUpdate","updateCompany"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/Views/EmpresasView.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-4 w-full flex flex-col\">\n    <CompanyTable\n      :customers=\"customers\"\n      v-model:selectedIds=\"selectedIds\"\n      v-model:searchTerm=\"searchTerm\"\n      v-model:rowsPerPage=\"rowsPerPage\"\n      v-model:currentPage=\"currentPage\"\n      @edit=\"editCustomer\"\n      @copy=\"copyCustomerData\"\n      @delete-selected=\"deleteSelected\"\n    />\n\n    <AddCompanyModal\n      v-model:show=\"showAddModal\"\n      :templates=\"templates\"\n      @add=\"addCompany\"\n    />\n\n    <EditCompanySidebar\n      v-model:show=\"showEditSidebar\"\n      :company=\"editingCompany\"\n      :templates=\"templates\"\n      @update=\"updateCompany\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport CompanyTable from './EmpresasUi/EmpresasTable.vue'\nimport AddCompanyModal from './EmpresasUi/AgregarEmpresasModal.vue'\nimport CompanyTable from './EmpresasUi/EmpresasTable.vue'\nimport EditCompanySidebar from './/EditarEmpresasModal.vue'\n\nconst DEFAULT_TEMPLATE_ID = 1\n\n// Datos iniciales\nconst customers = ref([\n  { id: 1, createdAt: '2025-07-30', name: 'Demo Combustible', rut: '76.145.230-9', contact: 'Marcelo Díaz', city: 'Santiago' },\n  { id: 2, createdAt: '2025-07-23', name: 'Industrial Glover S.P.A.', rut: '77.239.684-2', contact: 'Patricia González', city: 'Lautaro' },\n  // ... más empresas\n])\n\nconst templates = ref([\n  { id: 1, name: 'Básico', description: 'Acceso limitado a reportes y panel general.' },\n  { id: 2, name: 'Profesional', description: 'Incluye reportes y comentarios.' },\n  { id: 3, name: 'Avanzado', description: 'Incluye dashboards personalizados y reportes completos.' },\n  { id: 4, name: 'Full', description: 'Todas las funciones habilitadas.' }\n])\n\n// Estados globales\nconst searchTerm = ref('')\nconst selectedIds = ref([])\nconst rowsPerPage = ref(5)\nconst currentPage = ref(1)\nconst showAddModal = ref(false)\nconst showEditSidebar = ref(false)\nconst editingCompany = ref({ id: null, name: '', rut: '', contact: '', city: '', templateId: DEFAULT_TEMPLATE_ID })\n\n// Funciones\nconst addCompany = (company) => {\n  const id = Date.now()\n  const createdAt = new Date().toISOString().slice(0, 10)\n  customers.value.push({ id, createdAt, ...company })\n}\n\nconst deleteSelected = (ids) => {\n  customers.value = customers.value.filter(c => !ids.includes(c.id))\n  selectedIds.value = []\n}\n\nconst copyCustomerData = (customer) => {\n  const data = `Nombre: ${customer.name}\\nRUT: ${customer.rut}\\nContacto: ${customer.contact}`\n  navigator.clipboard.writeText(data)\n}\n\nconst editCustomer = (customer) => {\n  editingCompany.value = { ...customer }\n  if (!editingCompany.value.templateId) editingCompany.value.templateId = DEFAULT_TEMPLATE_ID\n  showEditSidebar.value = true\n}\n\nconst updateCompany = (company) => {\n  const index = customers.value.findIndex(c => c.id === company.id)\n  if (index !== -1) customers.value[index] = { ...company }\n  showEditSidebar.value = false\n}\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAiC;;;;;uBAA5CC,mBAAA,CAwBM,OAxBNC,UAwBM,GAvBJC,YAAA,CASEC,uBAAA;IARCC,SAAS,EAAEC,IAAA,CAAAD,SAAS;IACbE,WAAW,EAAED,IAAA,CAAAC,WAAW;gEAAXD,IAAA,CAAAC,WAAW,GAAAC,MAAA;IACxBC,UAAU,EAAEH,IAAA,CAAAG,UAAU;+DAAVH,IAAA,CAAAG,UAAU,GAAAD,MAAA;IACtBE,WAAW,EAAEJ,IAAA,CAAAI,WAAW;gEAAXJ,IAAA,CAAAI,WAAW,GAAAF,MAAA;IACxBG,WAAW,EAAEL,IAAA,CAAAK,WAAW;gEAAXL,IAAA,CAAAK,WAAW,GAAAH,MAAA;IAC/BI,MAAI,EAAEN,IAAA,CAAAO,YAAY;IAClBC,MAAI,EAAER,IAAA,CAAAS,gBAAgB;IACtBC,gBAAe,EAAEV,IAAA,CAAAW;6IAGpBd,YAAA,CAIEe,0BAAA;IAHQC,IAAI,EAAEb,IAAA,CAAAc,YAAY;yDAAZd,IAAA,CAAAc,YAAY,GAAAZ,MAAA;IACzBa,SAAS,EAAEf,IAAA,CAAAe,SAAS;IACpBC,KAAG,EAAEhB,IAAA,CAAAiB;2DAGRpB,YAAA,CAKEqB,6BAAA;IAJQL,IAAI,EAAEb,IAAA,CAAAmB,eAAe;yDAAfnB,IAAA,CAAAmB,eAAe,GAAAjB,MAAA;IAC5BkB,OAAO,EAAEpB,IAAA,CAAAqB,cAAc;IACvBN,SAAS,EAAEf,IAAA,CAAAe,SAAS;IACpBO,QAAM,EAAEtB,IAAA,CAAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}