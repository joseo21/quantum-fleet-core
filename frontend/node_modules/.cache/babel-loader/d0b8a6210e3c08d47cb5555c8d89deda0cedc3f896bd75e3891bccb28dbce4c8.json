{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-2 sm:p-4 w-full flex flex-col\"\n};\nconst _hoisted_2 = {\n  class: \"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-4 gap-4\"\n};\nconst _hoisted_3 = {\n  class: \"flex w-full xl:w-1/2 flex-col sm:flex-row gap-3 sm:gap-4 items-start sm:items-center\"\n};\nconst _hoisted_4 = {\n  class: \"flex flex-1 w-full sm:w-auto border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-inner\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\"\n};\nconst _hoisted_6 = {\n  class: \"flex items-center gap-4 text-xs flex-shrink-0\"\n};\nconst _hoisted_7 = {\n  class: \"text-gray-600 dark:text-gray-300\"\n};\nconst _hoisted_8 = {\n  class: \"font-bold ml-1\"\n};\nconst _hoisted_9 = {\n  class: \"flex gap-2 flex-wrap justify-center sm:justify-start xl:justify-end w-full xl:w-auto\"\n};\nconst _hoisted_10 = {\n  class: \"mini-kpi kpi-green\"\n};\nconst _hoisted_11 = {\n  class: \"text-xl font-extrabold mt-1\"\n};\nconst _hoisted_12 = {\n  class: \"mini-kpi kpi-yellow\"\n};\nconst _hoisted_13 = {\n  class: \"text-xl font-extrabold mt-1\"\n};\nconst _hoisted_14 = {\n  class: \"mini-kpi kpi-red\"\n};\nconst _hoisted_15 = {\n  class: \"text-xl font-extrabold mt-1\"\n};\nconst _hoisted_16 = {\n  class: \"space-y-2 max-h-[500px] overflow-y-auto pr-1\"\n};\nconst _hoisted_17 = {\n  class: \"flex flex-col sm:flex-row sm:items-center justify-between gap-3\"\n};\nconst _hoisted_18 = {\n  class: \"flex-1 flex items-center gap-4\"\n};\nconst _hoisted_19 = {\n  class: \"flex-shrink-0\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  src: \"https://sinergygroup.cl/Mantenciones/img/verde.png\",\n  alt: \"Al Día\",\n  class: \"w-8 h-auto object-contain\"\n};\nconst _hoisted_21 = {\n  key: 1,\n  src: \"https://sinergygroup.cl/Mantenciones/img/amarillo.png\",\n  alt: \"Próxima mantención\",\n  class: \"w-8 h-auto object-contain\"\n};\nconst _hoisted_22 = {\n  key: 2,\n  src: \"https://sinergygroup.cl/Mantenciones/img/rojo.png\",\n  alt: \"Mantención vencida\",\n  class: \"w-8 h-auto object-contain\"\n};\nconst _hoisted_23 = {\n  class: \"flex flex-col items-center justify-center text-center w-28 h-8\"\n};\nconst _hoisted_24 = {\n  class: \"text-sm font-extrabold text-[#102372] dark:text-[#ff6600] leading-tight\"\n};\nconst _hoisted_25 = {\n  class: \"text-[10px] text-gray-500 dark:text-gray-400\"\n};\nconst _hoisted_26 = {\n  class: \"font-bold text-gray-700 dark:text-gray-200\"\n};\nconst _hoisted_27 = {\n  class: \"hidden md:flex items-center justify-center flex-shrink-0 ml-auto self-center h-full\"\n};\nconst _hoisted_28 = {\n  key: 0,\n  class: \"inline-flex items-center justify-center gap-1 rounded-full bg-emerald-100 dark:bg-emerald-900 px-2.5 py-0.5 text-emerald-700 dark:text-emerald-300 text-xs font-medium border border-emerald-300 dark:border-emerald-600 w-28 h-8 text-center\"\n};\nconst _hoisted_29 = {\n  key: 1,\n  class: \"inline-flex items-center justify-center gap-1 rounded-full bg-amber-100 dark:bg-amber-900 px-2.5 py-0.5 text-amber-700 dark:text-amber-300 text-xs font-medium border border-amber-300 dark:border-amber-600 w-28 h-8 text-center\"\n};\nconst _hoisted_30 = {\n  key: 2,\n  class: \"inline-flex items-center justify-center gap-1 rounded-full bg-red-100 dark:bg-red-900 px-2.5 py-0.5 text-red-700 dark:text-red-300 text-xs font-medium border border-red-300 dark:border-red-600 w-28 h-8 text-center\"\n};\nconst _hoisted_31 = {\n  class: \"flex gap-2 pt-2 sm:pt-0 w-full sm:w-auto flex-shrink-0\"\n};\nconst _hoisted_32 = [\"onClick\"];\nconst _hoisted_33 = [\"onClick\"];\nconst _hoisted_34 = {\n  key: 0,\n  class: \"text-center py-6 text-gray-500 dark:text-gray-400 border border-dashed rounded-lg\"\n};\nconst _hoisted_35 = {\n  class: \"flex flex-col sm:flex-row justify-between items-center mt-3 text-xs text-gray-700 dark:text-gray-300 gap-2 bg-[#f3f3f3] dark:bg-gray-800 p-2 rounded-lg shadow-inner border border-gray-200 dark:border-gray-700\"\n};\nconst _hoisted_36 = {\n  class: \"flex items-center gap-2\"\n};\nconst _hoisted_37 = [\"value\"];\nconst _hoisted_38 = {\n  class: \"flex items-center gap-1 sm:gap-2\"\n};\nconst _hoisted_39 = [\"disabled\"];\nconst _hoisted_40 = {\n  class: \"px-1 font-medium\"\n};\nconst _hoisted_41 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SvgIcon = _resolveComponent(\"SvgIcon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_SvgIcon, {\n    name: \"search\",\n    class: \"w-4 h-4\"\n  })]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event),\n    placeholder: \"Buscar patente...\",\n    class: \"flex-1 p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none focus:ring-1 focus:ring-[#ff6600]\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.search]]), $data.search ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.clearSearch && $options.clearSearch(...args)),\n    class: \"px-3 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-xs transition duration-150 ease-in-out\"\n  }, \" Limpiar \")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_cache[6] || (_cache[6] = _createTextVNode(\" Total de vehículos: \", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_8, _toDisplayString($props.mantenciones.length), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleSort && $options.toggleSort(...args)),\n    class: _normalizeClass(['flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium transition duration-150 ease-in-out shadow-sm hover:shadow-md border', $data.sortIndex === 0 ? 'bg-green-600 text-white border-green-700 hover:bg-green-700' : $data.sortIndex === 1 ? 'bg-amber-600 text-white border-amber-700 hover:bg-amber-700' : 'bg-red-600 text-white border-red-700 hover:bg-red-700'])\n  }, [_createElementVNode(\"span\", null, \"Orden: \" + _toDisplayString($data.priorityOrders[$data.sortIndex][0]), 1 /* TEXT */)], 2 /* CLASS */)])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", {\n    class: \"text-xs font-medium uppercase text-gray-600 dark:text-gray-300\"\n  }, \"Al Día\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_11, _toDisplayString($options.totalVerde), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_12, [_cache[8] || (_cache[8] = _createElementVNode(\"span\", {\n    class: \"text-xs font-medium uppercase text-gray-600 dark:text-gray-300\"\n  }, \"Próximas\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_13, _toDisplayString($options.totalAmarillo), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_14, [_cache[9] || (_cache[9] = _createElementVNode(\"span\", {\n    class: \"text-xs font-medium uppercase text-gray-600 dark:text-gray-300\"\n  }, \"Vencidas\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_15, _toDisplayString($options.totalRojo), 1 /* TEXT */)])])]), _createElementVNode(\"div\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedData, (item, idx) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: idx,\n      class: \"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-md p-3 transition duration-300 hover:shadow-lg hover:ring-2 hover:ring-[#ff6600]/50 hover:scale-[1.005]\"\n    }, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [item.estado === 'OK' ? (_openBlock(), _createElementBlock(\"img\", _hoisted_20)) : item.estado === 'Próxima mantención' ? (_openBlock(), _createElementBlock(\"img\", _hoisted_21)) : item.estado === 'Requiere mantención' ? (_openBlock(), _createElementBlock(\"img\", _hoisted_22)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"p\", _hoisted_24, _toDisplayString(item.patente), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_25, [_cache[10] || (_cache[10] = _createElementVNode(\"span\", {\n      class: \"uppercase font-medium\"\n    }, \"Odómetro:\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_26, _toDisplayString($options.formatOdometro(item.odometro)) + \" Km \", 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_27, [item.estado === 'OK' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_28, [_createVNode(_component_SvgIcon, {\n      name: \"ok\",\n      class: \"w-3 h-3\"\n    }), _cache[11] || (_cache[11] = _createElementVNode(\"span\", null, \"Al día\", -1 /* CACHED */))])) : item.estado === 'Próxima mantención' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_29, [_createVNode(_component_SvgIcon, {\n      name: \"proxima\",\n      class: \"w-3 h-3\"\n    }), _cache[12] || (_cache[12] = _createElementVNode(\"span\", null, \"Próximo\", -1 /* CACHED */))])) : item.estado === 'Requiere mantención' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_30, [_createVNode(_component_SvgIcon, {\n      name: \"vencida\",\n      class: \"w-3 h-3\"\n    }), _cache[13] || (_cache[13] = _createElementVNode(\"span\", null, \"Vencida\", -1 /* CACHED */))])) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"button\", {\n      onClick: $event => _ctx.$emit('ver-mantenciones', item),\n      class: \"flex-1 sm:flex-none flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium transition duration-150 shadow-sm hover:shadow-md\"\n    }, [_createVNode(_component_SvgIcon, {\n      name: \"eye\",\n      class: \"w-3 h-3\"\n    }), _cache[14] || (_cache[14] = _createTextVNode()), _cache[15] || (_cache[15] = _createElementVNode(\"span\", {\n      class: \"hidden sm:inline\"\n    }, \"Ver\", -1 /* CACHED */)), _cache[16] || (_cache[16] = _createElementVNode(\"span\", {\n      class: \"sm:hidden\"\n    }, \"Ver\", -1 /* CACHED */))], 8 /* PROPS */, _hoisted_32), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.$emit('agregar-mantencion', item),\n      class: \"flex-1 sm:flex-none flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-[#ff6600] hover:bg-[#e65500] text-white text-xs font-medium transition duration-150 shadow-sm hover:shadow-md\"\n    }, [_createVNode(_component_SvgIcon, {\n      name: \"plus\",\n      class: \"w-3 h-3\"\n    }), _cache[17] || (_cache[17] = _createTextVNode()), _cache[18] || (_cache[18] = _createElementVNode(\"span\", {\n      class: \"hidden sm:inline\"\n    }, \"Agregar\", -1 /* CACHED */)), _cache[19] || (_cache[19] = _createElementVNode(\"span\", {\n      class: \"sm:hidden\"\n    }, \"Nuevo\", -1 /* CACHED */))], 8 /* PROPS */, _hoisted_33)])])]);\n  }), 128 /* KEYED_FRAGMENT */)), $options.filteredData.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_34, \" No se encontraron vehículos que coincidan con la búsqueda. \")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_cache[20] || (_cache[20] = _createElementVNode(\"label\", {\n    for: \"rowsPerPage\",\n    class: \"text-xs font-medium\"\n  }, \"Mostrar:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"rowsPerPage\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.rowsPerPage = $event),\n    class: \"border dark:border-gray-600 rounded-md px-2 py-1 text-xs bg-white dark:bg-gray-700 focus:ring-1 focus:ring-[#ff6600]\"\n  }, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList([5, 10, 25, 50, 100], n => {\n    return _createElementVNode(\"option\", {\n      key: n,\n      value: n\n    }, _toDisplayString(n), 9 /* TEXT, PROPS */, _hoisted_37);\n  }), 64 /* STABLE_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.rowsPerPage, void 0, {\n    number: true\n  }]]), _cache[21] || (_cache[21] = _createElementVNode(\"span\", {\n    class: \"text-gray-500 dark:text-gray-400\"\n  }, \"registros por página\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = $event => $options.goToPage($data.currentPage - 1)),\n    disabled: $data.currentPage === 1,\n    class: \"flex items-center justify-center w-6 h-6 rounded-full border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition duration-150 ease-in-out\",\n    \"aria-label\": \"Página anterior\"\n  }, [_createVNode(_component_SvgIcon, {\n    name: \"chevron-left\",\n    class: \"w-3 h-3\"\n  })], 8 /* PROPS */, _hoisted_39), _createElementVNode(\"span\", _hoisted_40, \"Página \" + _toDisplayString($data.currentPage) + \" de \" + _toDisplayString($options.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.goToPage($data.currentPage + 1)),\n    disabled: $data.currentPage === $options.totalPages,\n    class: \"flex items-center justify-center w-6 h-6 rounded-full border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition duration-150 ease-in-out\",\n    \"aria-label\": \"Página siguiente\"\n  }, [_createVNode(_component_SvgIcon, {\n    name: \"chevron-right\",\n    class: \"w-3 h-3\"\n  })], 8 /* PROPS */, _hoisted_41)])])]);\n}","map":{"version":3,"names":["class","src","alt","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_SvgIcon","name","$data","search","$event","placeholder","onClick","_cache","args","$options","clearSearch","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$props","mantenciones","length","toggleSort","_normalizeClass","sortIndex","priorityOrders","_hoisted_9","_hoisted_10","_hoisted_11","totalVerde","_hoisted_12","_hoisted_13","totalAmarillo","_hoisted_14","_hoisted_15","totalRojo","_hoisted_16","_Fragment","_renderList","paginatedData","item","idx","key","_hoisted_17","_hoisted_18","_hoisted_19","estado","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","patente","_hoisted_25","_hoisted_26","formatOdometro","odometro","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_ctx","$emit","filteredData","_hoisted_34","_hoisted_35","_hoisted_36","for","id","rowsPerPage","n","value","_hoisted_37","number","_hoisted_38","goToPage","currentPage","disabled","_hoisted_40","totalPages"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/MantencionesUi/MantencionesTable.vue"],"sourcesContent":["<template>\n  <div class=\"p-2 sm:p-4 w-full flex flex-col\">\n    <div class=\"flex flex-col xl:flex-row justify-between items-start xl:items-center mb-4 gap-4\">\n\n      <div class=\"flex w-full xl:w-1/2 flex-col sm:flex-row gap-3 sm:gap-4 items-start sm:items-center\">\n        <div\n          class=\"flex flex-1 w-full sm:w-auto border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden shadow-inner\">\n          <div class=\"flex items-center justify-center px-3 bg-gray-100 dark:bg-gray-800 text-gray-500\">\n            <SvgIcon name=\"search\" class=\"w-4 h-4\" />\n          </div>\n          <input v-model=\"search\" placeholder=\"Buscar patente...\"\n            class=\"flex-1 p-2 text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-300 focus:outline-none focus:ring-1 focus:ring-[#ff6600]\" />\n          <button v-if=\"search\" @click=\"clearSearch\"\n            class=\"px-3 bg-[#ff6600] hover:bg-[#e65500] text-white font-semibold text-xs transition duration-150 ease-in-out\">\n            Limpiar\n          </button>\n        </div>\n\n        <div class=\"flex items-center gap-4 text-xs flex-shrink-0\">\n          <div class=\"text-gray-600 dark:text-gray-300\">\n            Total de vehículos: <span class=\"font-bold ml-1\">{{ mantenciones.length }}</span>\n          </div>\n\n          <button @click=\"toggleSort\" :class=\"[\n            'flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium transition duration-150 ease-in-out shadow-sm hover:shadow-md border',\n            sortIndex === 0 ? 'bg-green-600 text-white border-green-700 hover:bg-green-700' :\n              sortIndex === 1 ? 'bg-amber-600 text-white border-amber-700 hover:bg-amber-700' :\n                'bg-red-600 text-white border-red-700 hover:bg-red-700'\n          ]\">\n            <span>Orden: {{ priorityOrders[sortIndex][0] }}</span>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"flex gap-2 flex-wrap justify-center sm:justify-start xl:justify-end w-full xl:w-auto\">\n        <div class=\"mini-kpi kpi-green\">\n          <span class=\"text-xs font-medium uppercase text-gray-600 dark:text-gray-300\">Al Día</span>\n          <span class=\"text-xl font-extrabold mt-1\">{{ totalVerde }}</span>\n        </div>\n        <div class=\"mini-kpi kpi-yellow\">\n          <span class=\"text-xs font-medium uppercase text-gray-600 dark:text-gray-300\">Próximas</span>\n          <span class=\"text-xl font-extrabold mt-1\">{{ totalAmarillo }}</span>\n        </div>\n        <div class=\"mini-kpi kpi-red\">\n          <span class=\"text-xs font-medium uppercase text-gray-600 dark:text-gray-300\">Vencidas</span>\n          <span class=\"text-xl font-extrabold mt-1\">{{ totalRojo }}</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"space-y-2 max-h-[500px] overflow-y-auto pr-1\">\n      <div v-for=\"(item, idx) in paginatedData\" :key=\"idx\"\n        class=\"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 shadow-md p-3 transition duration-300 hover:shadow-lg hover:ring-2 hover:ring-[#ff6600]/50 hover:scale-[1.005]\">\n        <div class=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3\">\n\n          <div class=\"flex-1 flex items-center gap-4\">\n            <div class=\"flex-shrink-0\">\n              <img v-if=\"item.estado === 'OK'\" src=\"https://sinergygroup.cl/Mantenciones/img/verde.png\" alt=\"Al Día\"\n                class=\"w-8 h-auto object-contain\" />\n              <img v-else-if=\"item.estado === 'Próxima mantención'\"\n                src=\"https://sinergygroup.cl/Mantenciones/img/amarillo.png\" alt=\"Próxima mantención\"\n                class=\"w-8 h-auto object-contain\" />\n              <img v-else-if=\"item.estado === 'Requiere mantención'\"\n                src=\"https://sinergygroup.cl/Mantenciones/img/rojo.png\" alt=\"Mantención vencida\"\n                class=\"w-8 h-auto object-contain\" />\n            </div>\n\n            <div class=\"flex flex-col items-center justify-center text-center w-28 h-8\">\n              <p class=\"text-sm font-extrabold text-[#102372] dark:text-[#ff6600] leading-tight\">\n                {{ item.patente }}\n              </p>\n              <div class=\"text-[10px] text-gray-500 dark:text-gray-400\">\n                <span class=\"uppercase font-medium\">Odómetro:</span>\n                <span class=\"font-bold text-gray-700 dark:text-gray-200\">\n                  {{ formatOdometro(item.odometro) }} Km\n                </span>\n              </div>\n            </div>\n\n            <div class=\"hidden md:flex items-center justify-center flex-shrink-0 ml-auto self-center h-full\">\n              <span v-if=\"item.estado === 'OK'\"\n                class=\"inline-flex items-center justify-center gap-1 rounded-full bg-emerald-100 dark:bg-emerald-900 px-2.5 py-0.5 text-emerald-700 dark:text-emerald-300 text-xs font-medium border border-emerald-300 dark:border-emerald-600 w-28 h-8 text-center\">\n                <SvgIcon name=\"ok\" class=\"w-3 h-3\" />\n                <span>Al día</span>\n              </span>\n\n              <span v-else-if=\"item.estado === 'Próxima mantención'\"\n                class=\"inline-flex items-center justify-center gap-1 rounded-full bg-amber-100 dark:bg-amber-900 px-2.5 py-0.5 text-amber-700 dark:text-amber-300 text-xs font-medium border border-amber-300 dark:border-amber-600 w-28 h-8 text-center\">\n                <SvgIcon name=\"proxima\" class=\"w-3 h-3\" />\n                <span>Próximo</span>\n              </span>\n\n              <span v-else-if=\"item.estado === 'Requiere mantención'\"\n                class=\"inline-flex items-center justify-center gap-1 rounded-full bg-red-100 dark:bg-red-900 px-2.5 py-0.5 text-red-700 dark:text-red-300 text-xs font-medium border border-red-300 dark:border-red-600 w-28 h-8 text-center\">\n                <SvgIcon name=\"vencida\" class=\"w-3 h-3\" />\n                <span>Vencida</span>\n              </span>\n            </div>\n          </div>\n\n\n\n          <div class=\"flex gap-2 pt-2 sm:pt-0 w-full sm:w-auto flex-shrink-0\">\n            <button @click=\"$emit('ver-mantenciones', item)\"\n              class=\"flex-1 sm:flex-none flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium transition duration-150 shadow-sm hover:shadow-md\">\n              <SvgIcon name=\"eye\" class=\"w-3 h-3\" /> <span class=\"hidden sm:inline\">Ver</span>\n              <span class=\"sm:hidden\">Ver</span>\n            </button>\n\n            <button @click=\"$emit('agregar-mantencion', item)\"\n              class=\"flex-1 sm:flex-none flex items-center justify-center gap-1 px-3 py-1.5 rounded-lg bg-[#ff6600] hover:bg-[#e65500] text-white text-xs font-medium transition duration-150 shadow-sm hover:shadow-md\">\n              <SvgIcon name=\"plus\" class=\"w-3 h-3\" /> <span class=\"hidden sm:inline\">Agregar</span>\n              <span class=\"sm:hidden\">Nuevo</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"filteredData.length === 0\"\n        class=\"text-center py-6 text-gray-500 dark:text-gray-400 border border-dashed rounded-lg\">\n        No se encontraron vehículos que coincidan con la búsqueda.\n      </div>\n    </div>\n\n\n    <div\n      class=\"flex flex-col sm:flex-row justify-between items-center mt-3 text-xs text-gray-700 dark:text-gray-300 gap-2 bg-[#f3f3f3] dark:bg-gray-800 p-2 rounded-lg shadow-inner border border-gray-200 dark:border-gray-700\">\n      <div class=\"flex items-center gap-2\">\n        <label for=\"rowsPerPage\" class=\"text-xs font-medium\">Mostrar:</label>\n        <select id=\"rowsPerPage\" v-model.number=\"rowsPerPage\"\n          class=\"border dark:border-gray-600 rounded-md px-2 py-1 text-xs bg-white dark:bg-gray-700 focus:ring-1 focus:ring-[#ff6600]\">\n          <option v-for=\"n in [5, 10, 25, 50, 100]\" :key=\"n\" :value=\"n\">{{ n }}</option>\n        </select>\n        <span class=\"text-gray-500 dark:text-gray-400\">registros por página</span>\n      </div>\n\n      <div class=\"flex items-center gap-1 sm:gap-2\">\n        <button @click=\"goToPage(currentPage - 1)\" :disabled=\"currentPage === 1\"\n          class=\"flex items-center justify-center w-6 h-6 rounded-full border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition duration-150 ease-in-out\"\n          aria-label=\"Página anterior\">\n          <SvgIcon name=\"chevron-left\" class=\"w-3 h-3\" />\n        </button>\n\n        <span class=\"px-1 font-medium\">Página {{ currentPage }} de {{ totalPages }}</span>\n\n        <button @click=\"goToPage(currentPage + 1)\" :disabled=\"currentPage === totalPages\"\n          class=\"flex items-center justify-center w-6 h-6 rounded-full border border-gray-400 dark:border-gray-600 disabled:opacity-40 hover:bg-[#ff6600] hover:text-white transition duration-150 ease-in-out\"\n          aria-label=\"Página siguiente\">\n          <SvgIcon name=\"chevron-right\" class=\"w-3 h-3\" />\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SvgIcon from '@/components/icons/SvgIcon.vue'\n\nexport default {\n  name: \"MantencionesCards\",\n  components: { SvgIcon },\n  props: { mantenciones: { type: Array, default: () => [] } },\n  data() {\n    return {\n      search: \"\",\n      debouncedSearch: \"\",\n      currentPage: 1,\n      rowsPerPage: 5,\n      sortIndex: 0,\n      priorityOrders: [\n        ['OK', 'Próxima mantención', 'Requiere mantención'],\n        ['Próxima mantención', 'Requiere mantención', 'OK'],\n        ['Requiere mantención', 'OK', 'Próxima mantención']\n      ],\n    };\n  },\n  computed: {\n    filteredData() {\n      let data = this.mantenciones;\n\n      // Filtrar por búsqueda\n      if (this.debouncedSearch) {\n        data = data.filter(item =>\n          item.patente.toLowerCase().includes(this.debouncedSearch)\n        );\n      }\n\n      // Ordenar según prioridad actual\n      const currentOrder = this.priorityOrders[this.sortIndex];\n      data = [...data].sort((a, b) => {\n        const aIndex = currentOrder.indexOf(a.estado);\n        const bIndex = currentOrder.indexOf(b.estado);\n        return aIndex - bIndex;\n      });\n\n      return data;\n    },\n    totalPages() {\n      return Math.max(1, Math.ceil(this.filteredData.length / this.rowsPerPage));\n    },\n    paginatedData() {\n      const start = (this.currentPage - 1) * this.rowsPerPage;\n      return this.filteredData.slice(start, start + this.rowsPerPage);\n    },\n    totalVerde() {\n      return this.mantenciones.filter(m => m.estado === 'OK').length;\n    },\n    totalAmarillo() {\n      return this.mantenciones.filter(m => m.estado === 'Próxima mantención').length;\n    },\n    totalRojo() {\n      return this.mantenciones.filter(m => m.estado === 'Requiere mantención').length;\n    }\n  },\n  watch: {\n    search(val) {\n      clearTimeout(this._debounceTimeout);\n      this._debounceTimeout = setTimeout(() => {\n        this.debouncedSearch = val.trim().toLowerCase();\n        this.currentPage = 1;\n      }, 300);\n    },\n    filteredData() {\n      if (this.currentPage > this.totalPages) {\n        this.currentPage = 1;\n      }\n    }\n  },\n  methods: {\n    toggleSort() {\n      this.sortIndex = (this.sortIndex + 1) % this.priorityOrders.length;\n      this.currentPage = 1; // reinicia la paginación\n    },\n    goToPage(page) {\n      if (page >= 1 && page <= this.totalPages) this.currentPage = page;\n    },\n    formatOdometro(valor) {\n      // Formato con separador de miles y dos decimales (ej. 10.000,00)\n      const num = parseFloat(valor);\n      return isNaN(num) ? '0.00' : num.toLocaleString('es-CL', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\n    },\n    clearSearch() {\n      this.search = \"\";\n      this.debouncedSearch = \"\";\n    },\n  },\n};\n</script>\n\n<style scoped>\n.mini-kpi {\n  /* Estilo Compacto: Menos padding y fuentes más pequeñas */\n  @apply flex flex-col items-center justify-center rounded-lg px-3 py-2\n  /* Reducido de px-4 py-3 */\n  text-center transition duration-200 ease-in-out shadow-inner;\n  min-width: 75px;\n  /* Reducido de 90px */\n}\n\n/* Colores de Fondo y Texto Sutiles, más profesionales */\n.kpi-green {\n  @apply bg-emerald-50 dark:bg-gray-700 border border-emerald-300 dark:border-emerald-700 text-emerald-800 dark:text-emerald-300;\n}\n\n.kpi-yellow {\n  @apply bg-amber-50 dark:bg-gray-700 border border-amber-300 dark:border-amber-700 text-amber-800 dark:text-amber-300;\n}\n\n.kpi-red {\n  @apply bg-red-50 dark:bg-gray-700 border border-red-300 dark:border-red-700 text-red-800 dark:text-red-300;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}