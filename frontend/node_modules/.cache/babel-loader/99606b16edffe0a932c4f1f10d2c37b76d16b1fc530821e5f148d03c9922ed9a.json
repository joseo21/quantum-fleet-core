{"ast":null,"code":"import { ref, watch } from 'vue';\nexport default {\n  __name: 'AgregarEmpresasModal',\n  props: ['show', 'templates'],\n  emits: ['update:show', 'add'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const emit = __emit;\n    const step = ref(1);\n    const localCompany = ref({\n      name: '',\n      rut: '',\n      contact: '',\n      city: '',\n      templateId: null\n    });\n    watch(() => __props.show, val => {\n      if (!val) step.value = 1;\n    });\n    const nextStep = () => step.value = 2;\n    const cancel = () => {\n      step.value = 1;\n      localCompany.value = {\n        name: '',\n        rut: '',\n        contact: '',\n        city: '',\n        templateId: null\n      };\n      emit('update:show', false);\n    };\n    const add = () => {\n      emit('add', {\n        ...localCompany.value\n      });\n      cancel();\n    };\n    const __returned__ = {\n      emit,\n      step,\n      localCompany,\n      nextStep,\n      cancel,\n      add,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","emit","__emit","step","localCompany","name","rut","contact","city","templateId","__props","show","val","value","nextStep","cancel","add"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/EmpresasUi/AgregarEmpresasModal.vue"],"sourcesContent":["<template>\n  <div v-if=\"show\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n    <div class=\"bg-white dark:bg-gray-900 p-6 rounded-lg w-full max-w-lg flex flex-col\">\n      <h2>{{ step === 1 ? 'Agregar Empresa' : 'Seleccionar Template' }}</h2>\n\n      <form v-if=\"step === 1\" @submit.prevent=\"nextStep\">\n        <input v-model=\"company.name\" placeholder=\"Nombre\" required />\n        <input v-model=\"company.rut\" placeholder=\"RUT\" required />\n        <input v-model=\"company.contact\" placeholder=\"Contacto\" required />\n        <input v-model=\"company.city\" placeholder=\"Ciudad\" required />\n      </form>\n\n      <div v-else class=\"grid grid-cols-2 gap-2\">\n        <div v-for=\"t in templates\" :key=\"t.id\" @click=\"company.templateId = t.id\" :class=\"company.templateId === t.id ? 'border-orange-500' : 'border-gray-300'\">\n          <h3>{{ t.name }}</h3>\n          <p>{{ t.description }}</p>\n        </div>\n      </div>\n\n      <div class=\"flex justify-between mt-4\">\n        <button @click=\"cancel\">Cancelar</button>\n        <button v-if=\"step===1\" @click=\"nextStep\">Siguiente</button>\n        <button v-else @click=\"add\" :disabled=\"!company.templateId\">Crear Empresa</button>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst { show, templates } = defineProps(['show', 'templates'])\nconst emit = defineEmits(['update:show', 'add'])\n\nconst step = ref(1)\nconst localCompany = ref({ name:'', rut:'', contact:'', city:'', templateId:null })\n\nwatch(() => show, val => { if (!val) step.value = 1 })\n\nconst nextStep = () => step.value = 2\n\nconst cancel = () => {\n  step.value = 1\n  localCompany.value = { name:'', rut:'', contact:'', city:'', templateId:null }\n  emit('update:show', false)\n}\n\nconst add = () => {\n  emit('add', { ...localCompany.value })\n  cancel()\n}\n</script>\n"],"mappings":"AA4BA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAI;;;;;;;;;;IAG/B,MAAMC,IAAI,GAAGC,MAAA;IAEb,MAAMC,IAAI,GAAGJ,GAAG,CAAC,CAAC;IAClB,MAAMK,YAAY,GAAGL,GAAG,CAAC;MAAEM,IAAI,EAAC,EAAE;MAAEC,GAAG,EAAC,EAAE;MAAEC,OAAO,EAAC,EAAE;MAAEC,IAAI,EAAC,EAAE;MAAEC,UAAU,EAAC;IAAK,CAAC;IAElFT,KAAK,CAAC,MAAMU,OAAA,CAAAC,IAAI,EAAEC,GAAG,IAAI;MAAE,IAAI,CAACA,GAAG,EAAET,IAAI,CAACU,KAAK,GAAG,CAAC;IAAC,CAAC;IAErD,MAAMC,QAAQ,GAAGA,CAAA,KAAMX,IAAI,CAACU,KAAK,GAAG;IAEpC,MAAME,MAAM,GAAGA,CAAA,KAAM;MACnBZ,IAAI,CAACU,KAAK,GAAG;MACbT,YAAY,CAACS,KAAK,GAAG;QAAER,IAAI,EAAC,EAAE;QAAEC,GAAG,EAAC,EAAE;QAAEC,OAAO,EAAC,EAAE;QAAEC,IAAI,EAAC,EAAE;QAAEC,UAAU,EAAC;MAAK;MAC7ER,IAAI,CAAC,aAAa,EAAE,KAAK;IAC3B;IAEA,MAAMe,GAAG,GAAGA,CAAA,KAAM;MAChBf,IAAI,CAAC,KAAK,EAAE;QAAE,GAAGG,YAAY,CAACS;MAAM,CAAC;MACrCE,MAAM,CAAC;IACT","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}