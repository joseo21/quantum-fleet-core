{"ast":null,"code":"export default {\n  name: \"ModalAgregar\",\n  props: {\n    showAddModal: {\n      type: Boolean,\n      required: true\n    }\n  },\n  data() {\n    return {\n      step: 1,\n      templates: [{\n        id: 1,\n        name: \"Template A\",\n        description: \"Uso general\"\n      }, {\n        id: 2,\n        name: \"Template B\",\n        description: \"Para flotas pequeñas\"\n      }, {\n        id: 3,\n        name: \"Template C\",\n        description: \"Vehículos eléctricos\"\n      }, {\n        id: 4,\n        name: \"Template D\",\n        description: \"Servicio express\"\n      }, {\n        id: 5,\n        name: \"Template E\",\n        description: \"Completo premium\"\n      }],\n      selectedTemplate: null,\n      newCompany: {\n        name: \"\",\n        rut: \"\",\n        contact: \"\",\n        city: \"\"\n      },\n      modalButtonText: \"Guardar\",\n      isModalButtonDisabled: false\n    };\n  },\n  methods: {\n    goToNextStep() {\n      if (this.selectedTemplate) this.step = 2;\n    },\n    cancel() {\n      // Emitimos al padre para cerrar el modal\n      this.$emit(\"close\");\n      this.step = 1;\n      this.selectedTemplate = null;\n      this.newCompany = {\n        name: \"\",\n        rut: \"\",\n        contact: \"\",\n        city: \"\"\n      };\n    },\n    addCompany() {\n      // Aquí iría la lógica para guardar la empresa o mantención\n      this.cancel();\n    },\n    formatRut(newCompany) {\n      newCompany.rut = newCompany.rut.replace(/[^\\dkK]/g, \"\");\n    }\n  }\n};","map":{"version":3,"names":["name","props","showAddModal","type","Boolean","required","data","step","templates","id","description","selectedTemplate","newCompany","rut","contact","city","modalButtonText","isModalButtonDisabled","methods","goToNextStep","cancel","$emit","addCompany","formatRut","replace"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/MantencionesUi/ModalAgregar.vue"],"sourcesContent":["<template>\n  <!-- Modal multi-paso -->\n  <div\n    v-if=\"showAddModal\"\n    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n  >\n    <div\n      class=\"bg-gray-800 text-white rounded-lg relative flex flex-col w-full max-w-3xl h-auto p-6\"\n    >\n      <!-- Botón volver paso 2 -> 1 -->\n      <button\n        v-if=\"step === 2\"\n        @click=\"step = 1\"\n        class=\"absolute top-4 left-4 p-2 rounded hover:bg-gray-700 transition\"\n        title=\"Volver\"\n      >\n        <SvgIcon name=\"arrow-left\" class=\"w-6 h-6\" />\n      </button>\n\n      <h2 class=\"text-2xl font-bold mb-4 text-center\">\n        {{ step === 1 ? \"Seleccionar Template\" : \"Agregar Empresa\" }}\n      </h2>\n\n      <span class=\"h-px bg-gray-600 mb-4\"></span>\n\n      <!-- Paso 1: Seleccionar Template -->\n      <div\n        v-if=\"step === 1\"\n        class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 py-4\"\n      >\n        <div\n          v-for=\"template in templates\"\n          :key=\"template.id\"\n          @click=\"selectedTemplate = template.id\"\n          :class=\"[\n            'p-6 rounded-lg border cursor-pointer text-center transition',\n            selectedTemplate === template.id\n              ? 'border-blue-500 bg-blue-700'\n              : 'border-gray-600 hover:bg-gray-700'\n          ]\"\n        >\n          <h3 class=\"text-lg font-semibold mb-2\">{{ template.name }}</h3>\n          <p class=\"text-gray-300 text-sm\">{{ template.description }}</p>\n        </div>\n      </div>\n\n      <!-- Paso 2: Agregar Empresa -->\n      <form\n        v-else\n        @submit.prevent=\"addCompany\"\n        class=\"flex-1 flex flex-col gap-3 py-2 overflow-y-auto\"\n      >\n        <input\n          v-model=\"newCompany.name\"\n          type=\"text\"\n          placeholder=\"Nombre de la empresa\"\n          class=\"px-3 py-2 rounded bg-gray-700 text-white focus:outline-none w-full\"\n          required\n        />\n\n        <input\n          v-model=\"newCompany.rut\"\n          type=\"text\"\n          placeholder=\"RUT de la empresa\"\n          class=\"px-3 py-2 rounded bg-gray-700 text-white focus:outline-none w-full\"\n          required\n          @input=\"formatRut(newCompany)\"\n        />\n\n        <input\n          v-model=\"newCompany.contact\"\n          type=\"text\"\n          placeholder=\"Contacto\"\n          class=\"px-3 py-2 rounded bg-gray-700 text-white focus:outline-none w-full\"\n          required\n        />\n\n        <input\n          v-model=\"newCompany.city\"\n          type=\"text\"\n          placeholder=\"Ciudad de la empresa\"\n          class=\"px-3 py-2 rounded bg-gray-700 text-white focus:outline-none w-full\"\n          required\n        />\n      </form>\n\n      <!-- Botones del modal multi-paso -->\n      <div class=\"flex justify-between mt-6\">\n        <button\n          @click=\"cancel\"\n          class=\"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded w-[48%]\"\n        >\n          Cancelar\n        </button>\n\n        <!-- Paso 1 → Ir al formulario -->\n        <button\n          v-if=\"step === 1\"\n          @click=\"goToNextStep\"\n          :disabled=\"!selectedTemplate\"\n          :class=\"[\n            'px-4 py-2 rounded w-[48%]',\n            selectedTemplate\n              ? 'bg-blue-600 hover:bg-blue-700'\n              : 'bg-blue-600 opacity-50 cursor-not-allowed'\n          ]\"\n        >\n          Siguiente\n        </button>\n\n        <!-- Paso 2 → Guardar -->\n        <button\n          v-else\n          type=\"submit\"\n          :disabled=\"isModalButtonDisabled\"\n          :class=\"[\n            'px-4 py-2 rounded w-[48%]',\n            isModalButtonDisabled\n              ? 'bg-green-600 opacity-50 cursor-not-allowed'\n              : 'bg-green-600 hover:bg-green-700'\n          ]\"\n        >\n          {{ modalButtonText }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ModalAgregar\",\n  props: {\n    showAddModal: {\n      type: Boolean,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      step: 1,\n      templates: [\n        { id: 1, name: \"Template A\", description: \"Uso general\" },\n        { id: 2, name: \"Template B\", description: \"Para flotas pequeñas\" },\n        { id: 3, name: \"Template C\", description: \"Vehículos eléctricos\" },\n        { id: 4, name: \"Template D\", description: \"Servicio express\" },\n        { id: 5, name: \"Template E\", description: \"Completo premium\" },\n      ],\n      selectedTemplate: null,\n      newCompany: { name: \"\", rut: \"\", contact: \"\", city: \"\" },\n      modalButtonText: \"Guardar\",\n      isModalButtonDisabled: false,\n    };\n  },\n  methods: {\n    goToNextStep() {\n      if (this.selectedTemplate) this.step = 2;\n    },\n    cancel() {\n      // Emitimos al padre para cerrar el modal\n      this.$emit(\"close\");\n      this.step = 1;\n      this.selectedTemplate = null;\n      this.newCompany = { name: \"\", rut: \"\", contact: \"\", city: \"\" };\n    },\n    addCompany() {\n      // Aquí iría la lógica para guardar la empresa o mantención\n      this.cancel();\n    },\n    formatRut(newCompany) {\n      newCompany.rut = newCompany.rut.replace(/[^\\dkK]/g, \"\");\n    },\n  },\n};\n</script>\n\n\n<style scoped>\n/* Puedes ajustar los colores o animaciones aquí si lo deseas */\n</style>\n"],"mappings":"AAkIA,eAAe;EACbA,IAAI,EAAE,cAAc;EACpBC,KAAK,EAAE;IACLC,YAAY,EAAE;MACZC,IAAI,EAAEC,OAAO;MACbC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,CAAC;MACPC,SAAS,EAAE,CACT;QAAEC,EAAE,EAAE,CAAC;QAAET,IAAI,EAAE,YAAY;QAAEU,WAAW,EAAE;MAAc,CAAC,EACzD;QAAED,EAAE,EAAE,CAAC;QAAET,IAAI,EAAE,YAAY;QAAEU,WAAW,EAAE;MAAuB,CAAC,EAClE;QAAED,EAAE,EAAE,CAAC;QAAET,IAAI,EAAE,YAAY;QAAEU,WAAW,EAAE;MAAuB,CAAC,EAClE;QAAED,EAAE,EAAE,CAAC;QAAET,IAAI,EAAE,YAAY;QAAEU,WAAW,EAAE;MAAmB,CAAC,EAC9D;QAAED,EAAE,EAAE,CAAC;QAAET,IAAI,EAAE,YAAY;QAAEU,WAAW,EAAE;MAAmB,CAAC,CAC/D;MACDC,gBAAgB,EAAE,IAAI;MACtBC,UAAU,EAAE;QAAEZ,IAAI,EAAE,EAAE;QAAEa,GAAG,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAG,CAAC;MACxDC,eAAe,EAAE,SAAS;MAC1BC,qBAAqB,EAAE;IACzB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAACR,gBAAgB,EAAE,IAAI,CAACJ,IAAG,GAAI,CAAC;IAC1C,CAAC;IACDa,MAAMA,CAAA,EAAG;MACP;MACA,IAAI,CAACC,KAAK,CAAC,OAAO,CAAC;MACnB,IAAI,CAACd,IAAG,GAAI,CAAC;MACb,IAAI,CAACI,gBAAe,GAAI,IAAI;MAC5B,IAAI,CAACC,UAAS,GAAI;QAAEZ,IAAI,EAAE,EAAE;QAAEa,GAAG,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAG,CAAC;IAChE,CAAC;IACDO,UAAUA,CAAA,EAAG;MACX;MACA,IAAI,CAACF,MAAM,CAAC,CAAC;IACf,CAAC;IACDG,SAASA,CAACX,UAAU,EAAE;MACpBA,UAAU,CAACC,GAAE,GAAID,UAAU,CAACC,GAAG,CAACW,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC;IACzD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}