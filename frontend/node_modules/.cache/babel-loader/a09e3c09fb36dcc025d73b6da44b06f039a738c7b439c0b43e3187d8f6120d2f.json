{"ast":null,"code":"import { ref, watch, computed } from 'vue';\n\n// Props del padre\n\nexport default {\n  __name: 'EditarEmpresasSidebar',\n  props: {\n    visible: Boolean,\n    empresa: Object,\n    // empresa seleccionada al editar\n    isEdit: Boolean\n  },\n  emits: ['save', 'close'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const props = __props;\n\n    // Emitir al padre\n    const emit = __emit;\n\n    // Estado local del formulario\n    const formData = ref({\n      nombre: '',\n      tipo: ''\n    });\n\n    // ðŸ§  Sincronizar props con formData al abrir o cambiar empresa\n    watch(() => props.empresa, newVal => {\n      if (props.isEdit && newVal) {\n        formData.value = {\n          nombre: newVal.nombre || '',\n          tipo: newVal.tipo || ''\n        };\n      } else {\n        formData.value = {\n          nombre: '',\n          tipo: ''\n        };\n      }\n    }, {\n      immediate: true\n    });\n\n    // Guardar\n    const guardar = () => {\n      emit('save', {\n        ...formData.value\n      });\n    };\n    const __returned__ = {\n      props,\n      emit,\n      formData,\n      guardar,\n      ref,\n      watch,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","computed","props","__props","emit","__emit","formData","nombre","tipo","empresa","newVal","isEdit","value","immediate","guardar"],"sources":["/home/sebastian/quantum-fleet-core/frontend/src/components/EmpresasUi/EditarEmpresasSidebar.vue"],"sourcesContent":["<template>\n  <aside\n    v-if=\"visible\"\n    class=\"fixed inset-y-0 right-0 w-full sm:w-96 bg-white dark:bg-gray-800 shadow-xl border-l border-gray-200 dark:border-gray-700 z-50 overflow-y-auto transition-transform duration-300\"\n  >\n    <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n      <h2 class=\"text-lg font-semibold text-gray-800 dark:text-gray-100\">\n        {{ isEdit ? 'Editar Empresa' : 'Agregar Empresa' }}\n      </h2>\n      <button\n        @click=\"$emit('close')\"\n        class=\"text-gray-500 hover:text-gray-800 dark:hover:text-gray-300 transition\"\n      >\n        âœ•\n      </button>\n    </div>\n\n    <div class=\"p-4 space-y-4\">\n      <!-- Nombre -->\n      <div>\n        <label class=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">\n          Nombre\n        </label>\n        <input\n          v-model=\"formData.nombre\"\n          type=\"text\"\n          placeholder=\"Nombre de la empresa\"\n          class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 focus:ring focus:ring-blue-500\"\n        />\n      </div>\n\n      <!-- Tipo -->\n      <div>\n        <label class=\"block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300\">\n          Tipo\n        </label>\n        <select\n          v-model=\"formData.tipo\"\n          class=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700 focus:ring focus:ring-blue-500\"\n        >\n          <option value=\"\">Seleccionar tipo...</option>\n          <option value=\"Constructora\">Constructora</option>\n          <option value=\"Servicios\">Servicios</option>\n          <option value=\"Proveedora\">Proveedora</option>\n        </select>\n      </div>\n\n      <!-- Botones -->\n      <div class=\"flex justify-end gap-2 pt-4 border-t border-gray-200 dark:border-gray-700\">\n        <button\n          @click=\"$emit('close')\"\n          class=\"px-4 py-2 text-sm font-medium rounded-md bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 transition\"\n        >\n          Cancelar\n        </button>\n        <button\n          @click=\"guardar\"\n          class=\"px-4 py-2 text-sm font-medium rounded-md bg-blue-600 text-white hover:bg-blue-700 transition\"\n        >\n          {{ isEdit ? 'Guardar Cambios' : 'Agregar' }}\n        </button>\n      </div>\n    </div>\n  </aside>\n</template>\n\n<script setup>\nimport { ref, watch, computed } from 'vue'\n\n// Props del padre\nconst props = defineProps({\n  visible: Boolean,\n  empresa: Object, // empresa seleccionada al editar\n  isEdit: Boolean,\n})\n\n// Emitir al padre\nconst emit = defineEmits(['save', 'close'])\n\n// Estado local del formulario\nconst formData = ref({\n  nombre: '',\n  tipo: '',\n})\n\n// ðŸ§  Sincronizar props con formData al abrir o cambiar empresa\nwatch(\n  () => props.empresa,\n  (newVal) => {\n    if (props.isEdit && newVal) {\n      formData.value = {\n        nombre: newVal.nombre || '',\n        tipo: newVal.tipo || '',\n      }\n    } else {\n      formData.value = { nombre: '', tipo: '' }\n    }\n  },\n  { immediate: true }\n)\n\n// Guardar\nconst guardar = () => {\n  emit('save', { ...formData.value })\n}\n</script>\n"],"mappings":"AAmEA,SAASA,GAAG,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,KAAI;;AAEzC;;;;;;;;;;;;;;;;IACA,MAAMC,KAAK,GAAGC,OAAA;;IAMd;IACA,MAAMC,IAAI,GAAGC,MAAA;;IAEb;IACA,MAAMC,QAAQ,GAAGP,GAAG,CAAC;MACnBQ,MAAM,EAAE,EAAE;MACVC,IAAI,EAAE;IACR,CAAC;;IAED;IACAR,KAAK,CACH,MAAME,KAAK,CAACO,OAAO,EAClBC,MAAM,IAAK;MACV,IAAIR,KAAK,CAACS,MAAM,IAAID,MAAM,EAAE;QAC1BJ,QAAQ,CAACM,KAAK,GAAG;UACfL,MAAM,EAAEG,MAAM,CAACH,MAAM,IAAI,EAAE;UAC3BC,IAAI,EAAEE,MAAM,CAACF,IAAI,IAAI;QACvB;MACF,CAAC,MAAM;QACLF,QAAQ,CAACM,KAAK,GAAG;UAAEL,MAAM,EAAE,EAAE;UAAEC,IAAI,EAAE;QAAG;MAC1C;IACF,CAAC,EACD;MAAEK,SAAS,EAAE;IAAK,CACpB;;IAEA;IACA,MAAMC,OAAO,GAAGA,CAAA,KAAM;MACpBV,IAAI,CAAC,MAAM,EAAE;QAAE,GAAGE,QAAQ,CAACM;MAAM,CAAC;IACpC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}